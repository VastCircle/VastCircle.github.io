<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='å†…å­˜è®¿é—® ä¸€èˆ¬æ¥è¯´å¯ä»¥è®¤ä¸ºï¼ŒLoad æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼ˆå®é™…ä¸Šï¼ŒLoad ä¼šå¯¼è‡´ Cache åŠ è½½æ•°æ®ï¼Œè¿™ä¹Ÿå¼•å‘äº†ä»¥ Meltdown ä¸ºé¦–çš„ä¸€ç³»åˆ—æ¼æ´ï¼‰ï¼Œå› æ­¤å¯ä»¥å¾ˆæ¿€è¿›åœ°é¢„æµ‹æ‰§è¡Œ Loadã€‚ä½†æ˜¯ï¼ŒStore æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå†™å‡ºå»çš„æ•°æ®å°±æ²¡æ³•è¿˜åŸäº†ã€‚å› æ­¤ï¼ŒStore æŒ‡ä»¤åªæœ‰åœ¨ ROB Head è¢« Commit çš„æ—¶å€™ï¼Œæ‰ä¼šå†™å…¥åˆ° Cache ä¸­ã€‚
'><title>ä¹±åºè®¿å­˜å•å…ƒ</title>
<link rel=canonical href=https://VastCircle.github.io/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/><link rel=stylesheet href=/scss/style.min.46208cabd58e8bcef0cfb7d7ea6b561adcca3b91dd1fc6657493a44f03c5db75.css><meta property='og:title' content='ä¹±åºè®¿å­˜å•å…ƒ'><meta property='og:description' content='å†…å­˜è®¿é—® ä¸€èˆ¬æ¥è¯´å¯ä»¥è®¤ä¸ºï¼ŒLoad æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼ˆå®é™…ä¸Šï¼ŒLoad ä¼šå¯¼è‡´ Cache åŠ è½½æ•°æ®ï¼Œè¿™ä¹Ÿå¼•å‘äº†ä»¥ Meltdown ä¸ºé¦–çš„ä¸€ç³»åˆ—æ¼æ´ï¼‰ï¼Œå› æ­¤å¯ä»¥å¾ˆæ¿€è¿›åœ°é¢„æµ‹æ‰§è¡Œ Loadã€‚ä½†æ˜¯ï¼ŒStore æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå†™å‡ºå»çš„æ•°æ®å°±æ²¡æ³•è¿˜åŸäº†ã€‚å› æ­¤ï¼ŒStore æŒ‡ä»¤åªæœ‰åœ¨ ROB Head è¢« Commit çš„æ—¶å€™ï¼Œæ‰ä¼šå†™å…¥åˆ° Cache ä¸­ã€‚
'><meta property='og:url' content='https://VastCircle.github.io/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/'><meta property='og:site_name' content="VastCircle's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content><meta property='article:published_time' content='2025-02-11T21:45:42+08:00'><meta property='article:modified_time' content='2025-02-11T21:45:42+08:00'><meta name=twitter:title content="ä¹±åºè®¿å­˜å•å…ƒ"><meta name=twitter:description content="å†…å­˜è®¿é—® ä¸€èˆ¬æ¥è¯´å¯ä»¥è®¤ä¸ºï¼ŒLoad æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼ˆå®é™…ä¸Šï¼ŒLoad ä¼šå¯¼è‡´ Cache åŠ è½½æ•°æ®ï¼Œè¿™ä¹Ÿå¼•å‘äº†ä»¥ Meltdown ä¸ºé¦–çš„ä¸€ç³»åˆ—æ¼æ´ï¼‰ï¼Œå› æ­¤å¯ä»¥å¾ˆæ¿€è¿›åœ°é¢„æµ‹æ‰§è¡Œ Loadã€‚ä½†æ˜¯ï¼ŒStore æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå†™å‡ºå»çš„æ•°æ®å°±æ²¡æ³•è¿˜åŸäº†ã€‚å› æ­¤ï¼ŒStore æŒ‡ä»¤åªæœ‰åœ¨ ROB Head è¢« Commit çš„æ—¶å€™ï¼Œæ‰ä¼šå†™å…¥åˆ° Cache ä¸­ã€‚
"><style>:root{--article-font-family:"Noto Serif SC", var(--base-font-family)}</style><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
<!--
extended
-->
on-phone--column extended"><div id=article-toolbar><a href=https://VastCircle.github.io/ class=back-home><svg class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>Back</span></a></div><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><a href=/><img src=/img/avatar_hu9516569771622178000.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ğŸ¥</span></figure><h1 class=site-name><a href=/>VastCircle's blog</a></h1><h2 class=site-description>To shine , not to be illuminated</h2><ol class=social-menu><li><a href=https://github.com/VastCircle target=_blank title=GitHub><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>friends</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E8%AE%BF%E5%AD%98/>è®¿å­˜</a></header><h2 class=article-title><a href=/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/>ä¹±åºè®¿å­˜å•å…ƒ</a></h2><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Feb 11, 2025</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-words>3904å­—</time></div></footer></div></header><section class=article-content><h2 id=å†…å­˜è®¿é—®>å†…å­˜è®¿é—®</h2><p>ä¸€èˆ¬æ¥è¯´å¯ä»¥è®¤ä¸ºï¼ŒLoad æ˜¯æ²¡æœ‰å‰¯ä½œç”¨çš„ï¼ˆå®é™…ä¸Šï¼ŒLoad ä¼šå¯¼è‡´ Cache åŠ è½½æ•°æ®ï¼Œè¿™ä¹Ÿå¼•å‘äº†ä»¥ Meltdown ä¸ºé¦–çš„ä¸€ç³»åˆ—æ¼æ´ï¼‰ï¼Œå› æ­¤å¯ä»¥å¾ˆæ¿€è¿›åœ°é¢„æµ‹æ‰§è¡Œ Loadã€‚ä½†æ˜¯ï¼ŒStore æ˜¯æœ‰å‰¯ä½œç”¨çš„ï¼Œå†™å‡ºå»çš„æ•°æ®å°±æ²¡æ³•è¿˜åŸäº†ã€‚å› æ­¤ï¼ŒStore æŒ‡ä»¤åªæœ‰åœ¨ ROB Head è¢« Commit çš„æ—¶å€™ï¼Œæ‰ä¼šå†™å…¥åˆ° Cache ä¸­ã€‚</p><p>å½“loadçš„åœ°å€è®¡ç®—å‡ºæ¥ä¹‹åï¼Œå¯ä»¥å»å–æ•°æ®ï¼Œé¦–å…ˆä»store queueæ‰¾ï¼Œå¦‚æœæœ‰åœ°å€å’Œloadåœ°å€ç›¸ç­‰ï¼Œåœ¨storeæ•°æ®å‡†å¤‡å¥½ä¹‹åï¼Œå¯ä»¥åšæ•°æ®è½¬å‘ã€‚</p><p>å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œéœ€è¦ä»cacheä¸­å–</p><p>å¦‚æœstoreæ…¢åˆ°è¿˜æ²¡æœ‰å†™å¦‚store queue,loadå°±å®Œæˆäº†ï¼Œå°±ä¼šå‡ºç°é”™è¯¯ï¼Œæ­¤æ—¶éœ€è¦é‡æ–°æ‰§è¡ŒloadæŒ‡ä»¤å’Œä¾èµ–ä¸loadæŒ‡ä»¤çš„å…¶ä½™æŒ‡ä»¤</p><h2 id=åŠ è½½å­˜å‚¨å•å…ƒ>åŠ è½½å­˜å‚¨å•å…ƒ</h2><p>æœ€ç®€å•çš„æ–¹æ³•æ˜¯é¡ºåºæ‰§è¡Œï¼Œpiplineä¼šæ¸…ç©ºï¼Œstore/atomic/uncached load ä¼šæœ‰å‰¯ä½œç”¨</p><p>éœ€è¦è¯»å†™ä¹±åºï¼Œ éœ€è¦æå‰æ‰§è¡Œload, ä¸€ç§æ€è·¯æ˜¯ç­‰å¾…æ‰€æœ‰çš„storeæ‰§è¡Œå®Œæ¯•ï¼Œå¦ä¸€ç§æ€è·¯æ˜¯ç”¨åœ°å€æœå¯»store,çœ‹çœ‹æ˜¯å¦å‡ºç°åŒä¸€ä¸ªåœ°å€çš„storeå’Œload,ä½†æ˜¯è¿™æ ·ç›¸å½“äºåšäº†ä¸€ä¸ªå…¨ç›¸è¿çš„buffer,é¢ç§¯å¤§ï¼Œå»¶è¿Ÿé«˜ã€‚</p><p><a class=link href="https://repository.upenn.edu/cgi/viewcontent.cgi?article=1001&amp;context=cis_reports" target=_blank rel=noopener>A high-bandwidth load-store unit for single-and multi-threaded processors</a> çš„è§£å†³æ€è·¯æ˜¯ï¼ŒæŠŠ Store æŒ‡ä»¤åˆ†ä¸ºä¸¤ç±»ï¼Œä¸€ç±»æ˜¯éœ€è¦è½¬å‘çš„ï¼Œä¸€ç±»æ˜¯ä¸éœ€è¦çš„ï¼Œé‚£ä¹ˆå¯ä»¥è®¾è®¡ä¸€ä¸ªå°çš„ç›¸è¿å­˜å‚¨å™¨ï¼Œåªä¿å­˜è¿™äº›éœ€è¦è½¬å‘çš„ Store æŒ‡ä»¤ï¼›åŒæ—¶è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒå¤§çš„ï¼Œä¿å­˜æ‰€æœ‰ Store æŒ‡ä»¤çš„é˜Ÿåˆ—ï¼Œå› ä¸ºä¸éœ€è¦ç›¸è¿æœç´¢ï¼Œæ‰€ä»¥å¯ä»¥åšçš„æ¯”è¾ƒå¤§ã€‚</p><p>ä¿®å¤load-storeç›¸å…³æ€§å¯ä»¥åœ¨storeæäº¤çš„æ—¶å€™ï¼Œæ£€æŸ¥æ˜¯å¦æœ‰åœ°å€å†²çªçš„loadæŒ‡ä»¤ï¼ˆ <a class=link href=https://docs.boom-core.org/en/latest/sections/load-store-unit.html#memory-ordering-failures target=_blank rel=noopener>Boom LSU</a> ),</p><p>å¯ä»¥åœ¨commitçš„æ—¶å€™é‡æ–°æ‰§è¡ŒloadæŒ‡ä»¤ï¼Œå¦‚æœç»“æœä¸ä¸€è‡´ï¼ŒæŠŠåé¢ä¾èµ–å†²åˆ·æ‰ï¼Œä½†æ˜¯è¿™æ ·æ¯æ¡loadéœ€è¦æ‰§è¡Œä¸¤æ¬¡ ã€‚<a class=link href="https://repository.upenn.edu/cgi/viewcontent.cgi?article=1228&amp;context=cis_papers" target=_blank rel=noopener>Store Vulnerability Window (SVW): Re-Execution Filtering for Enhanced Load Optimization</a> å±äºé‡æ–°æ‰§è¡Œ Load æŒ‡ä»¤çš„æ–¹æ³•ï¼Œé€šè¿‡ Bloom filter æ¥å‡å°‘ä¸€äº›æ²¡æœ‰å¿…è¦é‡å¤æ‰§è¡Œçš„ Loadã€‚è¿˜æœ‰ä¸€ç§åŠæ³•ï¼Œå°±æ˜¯é¢„æµ‹ Load æŒ‡ä»¤å’Œå“ªä¸€æ¡ Store æŒ‡ä»¤æœ‰ä¾èµ–å…³ç³»ï¼Œç„¶åç›´æ¥å»è®¿é—®é‚£ä¸€é¡¹ï¼Œå¦‚æœä¸åŒ¹é…ï¼Œå°±è®¤ä¸ºæ²¡æœ‰ä¾èµ–ã€‚<a class=link href=https://ieeexplore.ieee.org/document/1540957 target=_blank rel=noopener>Scalable Store-Load Forwarding via Store Queue Index Prediction</a> æŠŠ Load æŒ‡ä»¤åˆ†ä¸ºä¸‰ç±»ï¼Œä¸€ç±»æ˜¯ä¸ç¡®å®šä¾èµ–å“ªæ¡ Store æŒ‡ä»¤ï¼ˆDifficult Loadsï¼‰ï¼Œä¸€ç±»æ˜¯åŸºæœ¬ç¡®å®šä¾èµ–å“ªä¸€æ¡ Store æŒ‡ä»¤ï¼Œä¸€ç±»æ˜¯ä¸ä¾èµ– Store æŒ‡ä»¤ã€‚è¿™ä¸ªæœ‰ç‚¹åƒ Cache é‡Œé¢çš„ Way Prediction æœºåˆ¶ã€‚</p><p>å…·ä½“åˆ° Load/Store Queue çš„å¤§å°ï¼Œå…¶å®éƒ½ä¸å¤§ï¼š</p><ol><li><a class=link href=https://ieeexplore.ieee.org/document/9000513 target=_blank rel=noopener>Zen 2</a> Store Queue 48</li><li><a class=link href=https://en.wikichip.org/wiki/intel/microarchitectures/skylake_%28client%29#Memory_subsystem target=_blank rel=noopener>Intel Skylake</a> Store Buffer 56 Load Buffer 72</li><li><a class=link href="https://ieeexplore.ieee.org/document/7029183?arnumber=7029183" target=_blank rel=noopener>POWER 8</a> Store Queue 40 Load Queue 44 (Virtual 128+128)</li><li><a class=link href=http://ieeexplore.ieee.org/document/755465/ target=_blank rel=noopener>Alpha 21264</a> Store Queue 32 Load Queue 32</li></ol><p>load pipline</p><p>ä¸‹é¢æ¥ä¸¾ä¾‹åˆ†æ LSU ä¸­ Load Pipeline æ¯ä¸€æ‹éœ€è¦åšäº›ä»€ä¹ˆã€‚</p><p>ä»¥<a class=link href=https://raw.githubusercontent.com/OpenXiangShan/XiangShan-doc/main/slides/20210625-RVWC-%e8%ae%bf%e5%ad%98%e6%b5%81%e6%b0%b4%e7%ba%bf%e7%9a%84%e8%ae%be%e8%ae%a1%e4%b8%8e%e5%ae%9e%e7%8e%b0.pdf target=_blank rel=noopener>é¦™å±±é›æ –æ¹–</a>å¾®æ¶æ„ä¸ºä¾‹ï¼Œå®ƒçš„ Load Pipeline åˆ†ä¸ºä¸‰çº§æµæ°´çº¿ï¼š</p><ol><li>ç¬¬ä¸€çº§ï¼šè®¡ç®—è™šæ‹Ÿåœ°å€ï¼ˆåŸºåœ°å€ + ç«‹å³æ•°åç§»ï¼‰ï¼ŒæŠŠè™šæ‹Ÿåœ°å€é€è¿› DTLB å’Œ L1 DCacheï¼ˆå› ä¸º VIPTï¼Œè™šæ‹Ÿåœ°å€ä½œä¸º index è®¿é—® L1 DCacheï¼‰ï¼Œä» DTLB è¯»å–ç‰©ç†åœ°å€ï¼Œä» L1 DCache Tag Array è¯»å–å„è·¯çš„ Tag</li><li>ç¬¬äºŒçº§ï¼šä» DTLB å¾—åˆ°äº†ç‰©ç†åœ°å€ï¼Œæ ¹æ®ç‰©ç†åœ°å€è®¡ç®—å‡º Tagï¼Œå’Œ L1 DCache è¯»å‡ºçš„ Tag åšæ¯”è¾ƒï¼Œæ‰¾åˆ°åŒ¹é…çš„ Wayï¼Œä» L1 DCache çš„ Data Array è¯»å–å¯¹åº” Way çš„æ•°æ®ï¼›æŠŠç‰©ç†åœ°å€é€åˆ° Store Queueï¼ŒæŸ¥æ‰¾åŒ¹é…çš„ Store</li><li>ç¬¬ä¸‰çº§ï¼šæ ¹æ®ä» L1 DCache è¯»å–çš„æ•°æ®å’Œ Store to Load Forwarding å¾—åˆ°çš„æ•°æ®ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¯»å–ç»“æœï¼Œå†™å›</li></ol><p>ä»¥<a class=link href=https://raw.githubusercontent.com/OpenXiangShan/XiangShan-doc/main/slides/20220825-RVSC-%e5%8d%97%e6%b9%96%e6%9e%b6%e6%9e%84%e8%ae%bf%e5%ad%98%e5%ad%90%e7%b3%bb%e7%bb%9f%e7%9a%84%e8%ae%be%e8%ae%a1%e4%b8%8e%e5%ae%9e%e7%8e%b0.pdf target=_blank rel=noopener>é¦™å±±å—æ¹–</a>å¾®æ¶æ„ä¸ºä¾‹ï¼Œå®ƒçš„ Load Pipeline åˆ†ä¸ºå››çº§æµæ°´çº¿ï¼š</p><ol><li>ç¬¬ä¸€çº§ï¼šè®¡ç®—è™šæ‹Ÿåœ°å€ï¼ˆåŸºåœ°å€ + ç«‹å³æ•°åç§»ï¼‰ï¼ŒæŠŠè™šæ‹Ÿåœ°å€é€è¿› DTLB å’Œ L1 DCacheï¼ˆå› ä¸º VIPTï¼Œè™šæ‹Ÿåœ°å€ä½œä¸º index è®¿é—® L1 DCacheï¼‰ï¼Œä» DTLB è¯»å–ç‰©ç†åœ°å€ï¼Œä» L1 DCache Tag Array è¯»å–å„è·¯çš„ Tag</li><li>ç¬¬äºŒçº§ï¼šä» DTLB å¾—åˆ°äº†ç‰©ç†åœ°å€ï¼Œæ ¹æ®ç‰©ç†åœ°å€è®¡ç®—å‡º Tagï¼Œå’Œ L1 DCache è¯»å‡ºçš„ Tag åšæ¯”è¾ƒï¼Œæ‰¾åˆ°åŒ¹é…çš„ Wayï¼Œä» L1 DCache çš„ Data Array è¯»å–å¯¹åº” Way çš„æ•°æ®ï¼›æŠŠç‰©ç†åœ°å€é€åˆ° Store Queueï¼ŒæŸ¥æ‰¾åŒ¹é…çš„ Store</li><li>ç¬¬ä¸‰çº§ï¼šç”±äº L1 DCache å®¹é‡è¾ƒå¤§ï¼Œéœ€è¦çš„å»¶è¿Ÿæ¯”è¾ƒé«˜ï¼Œåœ¨è¿™ä¸€çº§å®Œæˆæ•°æ®çš„è¯»å–å’Œ Store to Load Forwarding</li><li>ç¬¬å››çº§ï¼šæ ¹æ®ä» L1 DCache è¯»å–çš„æ•°æ®å’Œ Store to Load Forwarding å¾—åˆ°çš„æ•°æ®ï¼Œå¾—åˆ°æœ€ç»ˆçš„è¯»å–ç»“æœï¼Œå†™å›</li></ol><p>ä»¥é¦™å±±æ˜†æ˜æ¹–å¾®æ¶æ„ä¸ºä¾‹ï¼Œå®ƒçš„Load Pipline åˆ†æˆ</p><p>æœªå®Œ</p><p>ä¸ºäº†å‡å°‘é¢å¤–çš„ 1 ä¸ªå‘¨æœŸå¯¹ pointer chasing åœºæ™¯çš„æ€§èƒ½å½±å“ï¼Œå—æ¹–æ¶æ„é’ˆå¯¹ pointer chasing åšäº†ä¼˜åŒ–ï¼špointer chasing åœºæ™¯ä¸‹ï¼Œè¯»å–çš„æ•°æ®ä¼šæˆä¸ºåç»­ load æŒ‡ä»¤çš„åœ°å€ã€‚ä¸ºäº†ä¼˜åŒ–å®ƒï¼Œå—æ¹–æ¶æ„åœ¨æµæ°´çº¿çš„ç¬¬å››çº§ä¸Šåšäº†å‰ä¼ ï¼Œç›´æ¥ä¼ é€’åˆ°ä¸‹ä¸€æ¡ load æŒ‡ä»¤çš„ç”±è™šæ‹Ÿåœ°å€è®¡ç®—å‡ºçš„ indexï¼Œè¿™æ ·çš„è¯å¯ä»¥åšåˆ° 3 cycle çš„ load to use latencyã€‚ä¸ºäº†ä¼˜åŒ–æ—¶åºï¼Œå‰ä¼ çš„æ—¶å€™ï¼Œå‡è®¾åŸºåœ°å€åŠ ä¸Š imm ä»¥åï¼Œä¸ä¼šå½±å“ indexï¼Œè¿™æ ·é¢„æµ‹çš„æ—¶å€™å°±ä¸ç”¨åŠ ä¸Š immï¼Œæ—¶åºä¸Šä¼šå¥½ä¸€äº›ï¼Œä¸è¿‡è¿™ä¹Ÿé™åˆ¶äº†ä¼˜åŒ–å¯ä»¥ç”Ÿæ•ˆçš„ imm èŒƒå›´ã€‚</p><p><figure class=gallery-image style=flex-grow:153;flex-basis:368px><a href=/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/image-20250212003916045.png data-size=1422x927><img src=/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/image-20250212003916045.png width=1422 height=927 srcset="/2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/image-20250212003916045_hu15397080119635479537.png 480w, /2025/%E4%B9%B1%E5%BA%8F%E8%AE%BF%E5%AD%98%E5%8D%95%E5%85%83/image-20250212003916045_hu10502182120977214539.png 1024w" loading=lazy></a></figure></p><p>è‹¹æœçš„ä¸“åˆ©å°±æ˜¯è¯»å¯„å­˜å™¨çš„ä¸€ä¸ªå‰é€’ï¼Œè‹¹æœçš„ä¸“åˆ© <a class=link href=https://patents.google.com/patent/US9710268B2 target=_blank rel=noopener>Reducing latency for pointer chasing loads</a> æåˆ°äº†å®ƒçš„ LSU æµæ°´çº¿è®¾è®¡ä»¥åŠå‰ä¼ çš„åšæ³•ï¼š</p><p>å’Œé¦™å±±å—æ¹–ç±»ä¼¼ï¼Œå®ƒçš„ Load Pipeline ä¹Ÿæ˜¯å››çº§æµæ°´çº¿ï¼ˆå¯¹åº”å›¾ä¸­ Stage 3-6ï¼‰ï¼ŒåŠŸèƒ½ä¹Ÿç±»ä¼¼ã€‚ä¸è¿‡å®ƒçš„ 3 å‘¨æœŸ load to load å‰ä¼ çš„å®ç°æ–¹æ³•åˆ™ä¸åŒã€‚</p><p>è¿™ä¸ªä¸“åˆ©çš„å‰ä¼ æ˜¯ä»ç¬¬ä¸‰çº§å‰ä¼ åˆ°è¯»å¯„å­˜å™¨çš„é˜¶æ®µï¼Œè¿™æ ·ä¹Ÿå¯ä»¥å®ç° 3 å‘¨æœŸçš„çš„ load to load latencyã€‚è¿™æ ·çš„å¥½å¤„æ˜¯ï¼ŒAGU é˜¶æ®µä¿ç•™ï¼Œè¿™å¯¹äº AGU é˜¶æ®µæ¯”è¾ƒå¤æ‚çš„ ARM æ¶æ„æ˜¯æ¯”è¾ƒå¥½çš„ï¼Œå› ä¸º ARM æ¶æ„ä¸‹ AGU é˜¶æ®µå¯èƒ½æ¶‰åŠåˆ°åŠ æ³•å’Œç§»ä½ï¼Œè€Œ RISCV åªæœ‰ç«‹å³æ•°åŠ æ³•ã€‚ä¸è¿‡è¿™æ ·ä¹Ÿè¦æ±‚ Load ä¸å‘½ä¸­ Store Queueï¼Œè€Œæ˜¯ä» L1 DCache è·å¾—ï¼Œå› ä¸º Store to Load Forwarding çš„åˆå¹¶æ“ä½œæ˜¯åœ¨ç¬¬å››çº§æµæ°´çº¿ï¼Œä¸ºäº†èƒ½åœ¨ç¬¬ä¸‰çº§æµæ°´çº¿å‰ä¼ ï¼Œåªèƒ½é¢„æµ‹å®ƒä¸å‘½ä¸­ Store Queueï¼Œæ•°æ®å®Œå…¨ä» L1 DCache ä¸­å–å¾—ã€‚</p><p>å›¾ä¸­æŠŠ AGU å’Œ DTLB Lookup å¹¶ç€ç”»å¯èƒ½æœ‰ä¸€äº›é—®é¢˜ï¼Œåº”è¯¥æ˜¯å…ˆç”± AGU è®¡ç®—å‡ºè™šæ‹Ÿåœ°å€ï¼Œå†èµ° DTLB Lookupã€‚</p><h2 id=memory-dependence-predictor>Memory Dependence Predictor</h2><p>è§£å†³store-loadä¾èµ–çš„ï¼Œå¦‚æœæœ‰ä¾èµ–ï¼Œç­‰å¾…ä¾èµ–çš„storeå®Œæˆï¼Œå¦‚æœæ²¡æœ‰ä¾èµ–ï¼Œå¯ä»¥ç›´æ¥load .ä¸ºäº†ä¿è¯æ­£ç¡®æ€§ï¼ŒStore æ‰§è¡Œçš„æ—¶å€™ï¼Œä¹Ÿè¦å»çœ‹æ˜¯å¦ç ´åäº†æå‰æ‰§è¡Œçš„ Loadã€‚</p><p>alpha 21264 load wait table , å¯¹äºé‚£äº›å‡ºç°è¿‡é¡ºåºè¿ä¾‹çš„ Load æŒ‡ä»¤ï¼Œæ‰“ä¸Šä¸€ä¸ªæ ‡è®°ï¼Œé‚£ä¹ˆæœªæ¥è¿™ä¸ª Load éƒ½è¦ç­‰åˆ°åœ¨å®ƒä¹‹å‰çš„æ‰€æœ‰ Store æ‰§è¡Œæ‰èƒ½æ‰§è¡Œã€‚è¿™ä¸ªæ ‡è®°çš„æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œç»´æŠ¤ Load æŒ‡ä»¤çš„ PC åˆ°å• bit çš„æ˜ å°„ã€‚ é¦™å±±<a class=link href=https://github.com/OpenXiangShan/XiangShan/blob/dd16cea72b92bcf8a87750b14458be82fda5cfff/src/main/scala/xiangshan/mem/mdp/WaitTable.scala#L27 target=_blank rel=noopener>å®ç°</a></p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-scala data-lang=scala><span style=display:flex><span><span style=color:#c678dd>val</span> <span style=color:#e06c75>data</span> <span style=color:#c678dd>=</span> <span style=color:#e5c07b>RegInit</span><span style=color:#56b6c2>(</span><span style=color:#e5c07b>VecInit</span><span style=color:#56b6c2>(</span><span style=color:#e5c07b>Seq</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>fill</span><span style=color:#56b6c2>(</span><span style=color:#e5c07b>WaitTableSize</span><span style=color:#56b6c2>)(</span><span style=color:#d19a66>0.</span><span style=color:#e06c75>U</span><span style=color:#56b6c2>(</span><span style=color:#d19a66>2.</span><span style=color:#e06c75>W</span><span style=color:#56b6c2>))))</span> <span style=color:#7f848e>// 2bitçš„è®¡æ•°å™¨ 
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>  <span style=color:#c678dd>val</span> <span style=color:#e06c75>resetCounter</span> <span style=color:#c678dd>=</span> <span style=color:#e5c07b>RegInit</span><span style=color:#56b6c2>(</span><span style=color:#d19a66>0.</span><span style=color:#e06c75>U</span><span style=color:#56b6c2>(</span><span style=color:#e5c07b>ResetTimeMax2Pow</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>W</span><span style=color:#56b6c2>))</span>
</span></span><span style=display:flex><span>  <span style=color:#e06c75>resetCounter</span> <span style=color:#c678dd>:</span><span style=color:#56b6c2>=</span> <span style=color:#e06c75>resetCounter</span> <span style=color:#56b6c2>+</span> <span style=color:#d19a66>1.</span><span style=color:#e06c75>U</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#7f848e>// read ports
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>  <span style=color:#c678dd>for</span> <span style=color:#56b6c2>(</span><span style=color:#e06c75>i</span> <span style=color:#c678dd>&lt;-</span> <span style=color:#d19a66>0</span> <span style=color:#e06c75>until</span> <span style=color:#e5c07b>DecodeWidth</span><span style=color:#56b6c2>)</span> <span style=color:#56b6c2>{</span> <span style=color:#7f848e>// raddr : pc(vaddr-1:1)
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>    <span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>rdata</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>i</span><span style=color:#56b6c2>)</span> <span style=color:#c678dd>:</span><span style=color:#56b6c2>=</span> <span style=color:#56b6c2>(</span><span style=color:#e06c75>data</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>raddr</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>i</span><span style=color:#56b6c2>))(</span><span style=color:#e5c07b>LWTUse2BitCounter</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>B</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>asUInt</span><span style=color:#56b6c2>)</span> <span style=color:#56b6c2>||</span> <span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>csrCtrl</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>no_spec_load</span><span style=color:#56b6c2>)</span> <span style=color:#56b6c2>&amp;&amp;</span> <span style=color:#56b6c2>!</span><span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>csrCtrl</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>lvpred_disable</span>
</span></span><span style=display:flex><span>  <span style=color:#56b6c2>}</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#7f848e>// write port
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>  <span style=color:#e06c75>when</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>update</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>valid</span><span style=color:#56b6c2>){</span>  
</span></span><span style=display:flex><span>    <span style=color:#e06c75>data</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>update</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>waddr</span><span style=color:#56b6c2>)</span> <span style=color:#c678dd>:</span><span style=color:#56b6c2>=</span> <span style=color:#e5c07b>Cat</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>data</span><span style=color:#56b6c2>(</span><span style=color:#e06c75>io</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>update</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>waddr</span><span style=color:#56b6c2>)(</span><span style=color:#d19a66>0</span><span style=color:#56b6c2>),</span> <span style=color:#e5c07b>true</span><span style=color:#56b6c2>.</span><span style=color:#e06c75>B</span><span style=color:#56b6c2>)</span>
</span></span><span style=display:flex><span>  <span style=color:#56b6c2>}</span>
</span></span></code></pre></div><p>store set , ä¸€ä¸ªload ä¾èµ–è¿‡çš„æ‰€æœ‰store çš„é›†åˆ ï¼Œ å¦‚æœä¸€ä¸ª Load çš„ Store Set å†…çš„æ‰€æœ‰çš„ Store éƒ½æ‰§è¡Œå®Œäº†ï¼Œé‚£ä¹ˆè¿™ä¸ª Load å°±å¯ä»¥æå‰æ‰§è¡Œäº†ï¼Œä¸ç”¨è€ƒè™‘åˆ«çš„ Store æŒ‡ä»¤ã€‚å½“ç„¶äº†ï¼Œä¸€å¼€å§‹å¹¶ä¸çŸ¥é“ Load ä¾èµ–å“ªäº› Storeï¼Œæ‰€ä»¥ Store Set æ˜¯ç©ºçš„ï¼Œæ­¤æ—¶ Load å¯èƒ½ä¼šæå‰æ‰§è¡Œã€‚å½“å‘ç°æ‰§è¡Œé¡ºåºé”™è¯¯ï¼Œéœ€è¦å›æ»šæ—¶ï¼Œå°±æŠŠå¯¼è‡´å›æ»šçš„ Store æ·»åŠ åˆ°å¯¹åº” Load çš„ Store Set å½“ä¸­ã€‚</p><ol><li>æ¯ä¸ª Store åªèƒ½å‡ºç°åœ¨ä¸€ä¸ª Store Set å½“ä¸­ï¼Œè¿™ä¸ª Store Set å¯ä»¥ç”±å¤šä¸ª Load å…±äº«ã€‚</li><li>æ‰§è¡Œ Load ä¹‹å‰ï¼Œä¸ºäº†ä¿è¯ Store Set ä¸­çš„ Store æŒ‡ä»¤éƒ½å®Œæˆæ‰§è¡Œï¼Œè¦æ±‚è¿™äº› Store æŒ‡ä»¤æŒ‰ç…§ä¸€å®šçš„é¡ºåºå®Œæˆï¼Œé‚£ä¹ˆ Load åªç”¨ç­‰å¾… Store Set å†…çš„æœ€åä¸€æ¡ Store æŒ‡ä»¤ï¼Œè€Œä¸ç”¨è€ƒè™‘ Store Set å†…æ‰€æœ‰ Store æŒ‡ä»¤å®Œæˆã€‚</li></ol><p>é¦–å…ˆæ˜¯ Store Set Identifier Table (SSIT)ï¼Œè¿™ä¸ªè¡¨å®ç°äº† Load/Store æŒ‡ä»¤ PC åˆ° Store Set ID çš„æ˜ å°„ã€‚é€šè¿‡ SSITï¼Œå°±å¯ä»¥çŸ¥é“ Load çš„ Store Set æ˜¯å“ªä¸ª IDï¼Œå“ªäº› Store åœ¨è¿™ä¸ª Store Set å½“ä¸­ã€‚ç¬¬äºŒä¸ªè¡¨æ˜¯ Last Fetched Store Table (LFST)ï¼Œå®ƒè®°å½•äº†è¿™ä¸ª Store Set ä¸­æœ€æ™šè¢«å–æŒ‡çš„ Store æŒ‡ä»¤ã€‚</p><p>å‰é¢æåˆ°ï¼Œä¸ºäº†ç®€åŒ–ä¾èµ–çš„æ£€æŸ¥ï¼ŒåŒä¸€ä¸ª Store Set å†…çš„ Store æŒ‡ä»¤éœ€è¦æŒ‰ç…§é¡ºåºæ‰§è¡Œï¼Œé‚£ä¹ˆ Load åªéœ€è¦ä¾èµ– Store Set çš„æœ€åä¸€æ¡ Store æŒ‡ä»¤ã€‚è¿™ä¸ªå°±æ˜¯é€šè¿‡ LFST æ¥å®ç°çš„ï¼š</p><ul><li>æ¯ä¸ª Store é¦–å…ˆæ ¹æ® SSIT æ‰¾åˆ°è‡ªå·±çš„ Store Set IDï¼Œå†ç”¨ Store Set ID è®¿é—® LFSTï¼Œå¦‚æœé‡Œé¢å·²ç»æœ‰æ›´æ—©çš„ Storeï¼Œé‚£å°±è¦ä¾èµ–è¿™ä¸ªæ›´æ—©çš„ Storeï¼›åŒæ—¶ä¹Ÿä¼šæ›´æ–° LFSTï¼ŒæŠŠè‡ªå·±å†™è¿›å»ã€‚</li><li>åŒç† Load ä¹Ÿä¼šæ ¹æ® SSIT æ‰¾åˆ° Store IDï¼Œç”¨ Store Set ID åé—® LFSTï¼Œå»ä¾èµ–æœ€æ™šçš„ Storeã€‚</li><li>å¦‚æœ Store å·²ç»è¢«æ‰§è¡Œï¼ˆå‡†ç¡®åœ°è¯´ï¼ŒIssueï¼‰ï¼Œè‡ªç„¶åç»­çš„ Load ä¹Ÿä¸ç”¨ç­‰å¾…å®ƒäº†ï¼Œå¦‚æœ LFST è®°å½•çš„è¿˜æ˜¯è¿™æ¡ Storeï¼Œå®ƒå°±å¯ä»¥ä» LFST ä¸­æ¸…é™¤æ‰ã€‚</li></ul><h2 id=store-to-load-forwarding>store to load forwarding</h2><p>å¯¹äºé‚£äº›ä¾èµ–ä¹‹å‰çš„ Store çš„ Load æŒ‡ä»¤ï¼Œå¦‚æœ Store è¿˜æ²¡æœ‰å†™è¿›ç¼“å­˜ï¼Œé‚£ä¹ˆ Load åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œå°±éœ€è¦ä» Store è¦å†™å…¥çš„æ•°æ®é‡Œè·å–æ•°æ®ï¼Œè¿™å°±æ˜¯ Store to Load Forwardingã€‚ä½†å®é™…æƒ…å†µå¯èƒ½ä¼šæ¯”è¾ƒå¤æ‚ï¼Œä¾‹å¦‚ Load å’Œ Store åªæœ‰ä¸€éƒ¨åˆ†çš„é‡åˆï¼Œä¸é‡åˆçš„éƒ¨åˆ†è¦ä»ç¼“å­˜ä¸­è·å–ï¼›æˆ–è€… Load å’Œå¤šä¸ª Store é‡åˆï¼Œè¦ä»å¤šä¸ª Store åˆ†åˆ«å–æ•°æ®åˆå¹¶èµ·æ¥ï¼›æˆ–è€…å‰åæœ‰å¯¹åŒä¸€ä¸ªåœ°å€çš„ Storeï¼Œé‚£ä¹ˆè¦é€‰å–æœ€æ™šçš„é‚£ä¸€ä¸ªã€‚</p><p>é¦–å…ˆæ¥çœ‹çœ‹ Intel åœ¨ IntelÂ® 64 and IA-32 Architectures Optimization Reference Manual ä¸­å¯¹ Coreï¼ˆä¸æ˜¯ Core ç³»åˆ— CPUï¼‰å¾®æ¶æ„çš„è¡¨è¿°ï¼š</p><ol><li>å°½é‡é€šè¿‡å¯„å­˜å™¨ä¼ é€’å‡½æ•°å‚æ•°ï¼Œè€Œä¸æ˜¯æ ˆï¼›è™½ç„¶é€šè¿‡æ ˆä¼ å‚æ•°ï¼Œæ¯”è¾ƒå®¹æ˜“äº«å—åˆ° Store to Load Forwarding çš„ä¼˜åŒ–ï¼Œä½†æµ®ç‚¹çš„è½¬å‘è¿˜æ˜¯æ¯”è¾ƒæ…¢ã€‚</li><li>è½¬å‘æ—¶ï¼ŒLoad çš„èµ·å§‹åœ°å€å’Œ Store ç›¸åŒã€‚Load çš„è¯»å–èŒƒå›´è¦åŒ…å«åœ¨ Store çš„å†™å…¥èŒƒå›´ä¹‹å†…ã€‚</li><li>å¦‚æœè¦ä» Store å†™å…¥èŒƒå›´çš„ä¸­é—´è€Œä¸æ˜¯å¼€å¤´è¯»å–æ•°æ®ï¼Œç›´æ¥ä»ä¸­é—´å¼€å§‹è¯»æ— æ³•äº«å— Store to Load Forwardingï¼Œæƒ³è¦æ›´å¥½çš„æ€§èƒ½ï¼Œéœ€è¦å…ˆä»å¤´å¼€å§‹è¯»ï¼Œæ»¡è¶³è½¬å‘æ¡ä»¶ï¼Œå†é€šè¿‡ä½è¿ç®—æå–å‡ºæƒ³è¦çš„éƒ¨åˆ†ã€‚</li></ol><p>ARMå…¬ç‰ˆæ ¸ï¼š Loadçš„èµ·å§‹åœ°å€ç­‰äºstoreçš„èµ·å§‹åœ°å€æˆ–è€…æ­£å¥½ä¸­é—´ï¼Œå¤§äº 8 å­—èŠ‚çš„ Load æœ€å¤šå¯ä»¥ä»ä¸¤ä¸ª Store ä¸­è½¬å‘æ•°æ®ï¼Œæ­¤æ—¶æ¯ä¸ª Store åˆ†åˆ«è´¡çŒ®ä¸€åŠï¼Œä¾‹å¦‚ä¸¤ä¸ª Store åˆ†åˆ«å†™å…¥ 8 ä¸ªå­—èŠ‚ï¼Œç„¶å Load æŠŠ 16 ä¸ªå­—èŠ‚è¯»å‡ºæ¥ã€‚å°äºæˆ–ç­‰äº 4 å­—èŠ‚çš„ Load åªèƒ½ä»ä¸€ä¸ª Store ä¸­è·å–æ•°æ®ã€‚</p><p>ä¸‹é¢æ˜¯åœ¨å‡ æ¬¾å¤„ç†å™¨ä¸Šå®æµ‹ Store to Load Forwarding åœ¨å„ç§è®¿å­˜æ¨¡å¼ä¸‹èƒ½å¦è½¬å‘ä»¥åŠè½¬å‘çš„æ¡ä»¶ï¼š</p><div class=table-wrapper><table><thead><tr><th style=text-align:left>uArch</th><th style=text-align:left>1 ld + 1 st</th><th style=text-align:left>1 ld + 2 st</th><th style=text-align:left>1 ld + 4 st</th><th style=text-align:left>1 ld + 8 st</th></tr></thead><tbody><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2024/11/11/amd_zen5/ target=_blank rel=noopener>AMD Zen5</a></td><td style=text-align:left>Yes [1]</td><td style=text-align:left>No</td><td style=text-align:left>No</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2024/11/07/arm_neoverse_v2/ target=_blank rel=noopener>ARM Neoverse V2</a></td><td style=text-align:left>Yes [2]</td><td style=text-align:left>Yes [3]</td><td style=text-align:left>No</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2024/09/01/qualcomm_oryon/ target=_blank rel=noopener>Qualcomm Oryon</a></td><td style=text-align:left>Yes [4]</td><td style=text-align:left>Yes [5]</td><td style=text-align:left>No</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2024/12/26/apple_m1/ target=_blank rel=noopener>Apple Firestorm</a></td><td style=text-align:left>Yes</td><td style=text-align:left>Yes [6]</td><td style=text-align:left>Yes [6]</td><td style=text-align:left>Yes [6]</td></tr><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2025/01/10/intel_golden_cove/ target=_blank rel=noopener>Intel Golden Cove</a></td><td style=text-align:left>Yes [7]</td><td style=text-align:left>No</td><td style=text-align:left>No</td><td style=text-align:left>No</td></tr><tr><td style=text-align:left><a class=link href=https://jia.je/hardware/2025/01/12/intel_gracemont/ target=_blank rel=noopener>Intel Gracemont</a></td><td style=text-align:left>Yes [8]</td><td style=text-align:left>No</td><td style=text-align:left>No</td><td style=text-align:left>No</td></tr></tbody></table></div><ul><li>[1]: è¦æ±‚ st å®Œå…¨åŒ…å« ld</li><li>[2]: è¦æ±‚ ld å’Œ st åœ°å€ç›¸åŒæˆ–å·®åŠä¸ª st å®½åº¦</li><li>[3]: è¦æ±‚ ld å’Œ st åœ°å€ç›¸åŒ</li><li>[4]: è¦æ±‚ä¸è·¨è¶Š 64B è¾¹ç•Œ</li><li>[5]: è¦æ±‚ ld å¯¹é½åˆ° 4B è¾¹ç•Œä¸”ä¸è·¨è¶Š 64B è¾¹ç•Œ</li><li>[6]: è¦æ±‚ä¸è·¨è¶Š 64B è¾¹ç•Œ</li><li>[7]: è¦æ±‚ st å®Œå…¨åŒ…å« ldï¼›ç‰¹åˆ«åœ°ï¼Œåœ¨ st å’Œ ld è®¿é—®ç›¸åŒåœ°å€æ—¶ï¼Œæ—  Forwarding æ€§èƒ½æŸå¤±</li><li>[8]: è¦æ±‚ st å®Œå…¨åŒ…å« ldï¼Œld å’Œ st åœ°å€ç›¸åŒï¼Œä¸è·¨è¶Š 64B è¾¹ç•Œï¼›ç‰¹åˆ«åœ°ï¼Œ64b st åˆ° 32b ld è½¬å‘å…è®¸ ld åœ°å€å’Œ st åœ°å€å·®åŠä¸ª st å®½åº¦</li></ul><h2 id=memory-renaming>memory renaming</h2><p>Register Renaming æŠŠç‰©ç†å¯„å­˜å™¨é‡å‘½åä¸ºæ¶æ„å¯„å­˜å™¨ï¼Œé‚£ä¹ˆ <a class=link href=https://link.springer.com/article/10.1023/A:1018734923512 target=_blank rel=noopener>Memory Renaming: Fast, Early and Accurate Processing of Memory Communication</a> ç±»ä¼¼åœ°æŠŠå†…å­˜é‡å‘½åä¸ºå¯„å­˜å™¨ã€‚å…·ä½“åœ°ï¼Œå¦‚æœå‘ç°æŸä¸ª Load çš„æ•°æ®æ€»æ˜¯æ¥è‡ªäºæŸä¸ª Storeï¼ŒæŒ‰ç…§å…ˆå‰çš„åšæ³•ï¼Œè¦ç­‰ Store å…ˆæ‰§è¡Œï¼Œç„¶å Load ä» Store Queue ä¸­æ‹¿åˆ° Store çš„ç»“æœï¼Œæ›´è¿›ä¸€æ­¥ï¼Œä¸å¦‚ç›´æ¥æŠŠ Load çš„ç›®çš„å¯„å­˜å™¨å¤åˆ¶ä¸º Store çš„æºæ•°æ®å¯„å­˜å™¨ï¼Œç›¸å½“äºæŠŠå†…å­˜é‡å‘½åæˆäº†å¯„å­˜å™¨ï¼ŒLoad å˜æˆäº†ç®€å•çš„å¯„å­˜å™¨çš„ Moveã€‚</p><p>å…·ä½“åšæ³•æ˜¯ï¼Œåœ¨ Memory Dependency Predictor çš„åŸºç¡€ä¸Šï¼Œè¿˜æŠŠ Store å†™å…¥çš„æ•°æ®ä¿å­˜åˆ° Value File å½“ä¸­ã€‚å½“é¢„æµ‹ Load ä¼šä»æŸä¸ª Store å–æ•°æ®æ—¶ï¼Œå°±ä» Value File ä¸­å–å‡ºå¯¹åº”çš„æ•°æ®ï¼Œææ—©æ‰§è¡Œä¾èµ– Load ç»“æœçš„æŒ‡ä»¤ã€‚</p><h2 id=é™„å½•>é™„å½•</h2><h3 id=å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</h3><p><a class=link href=https://jia.je/hardware/2022/03/31/brief-into-ooo-2/#%E5%86%85%E5%AD%98%E8%AE%BF%E9%97%AE target=_blank rel=noopener>æµ…è°ˆä¹±åºæ‰§è¡Œ</a></p><h3 id=ç‰ˆæƒä¿¡æ¯>ç‰ˆæƒä¿¡æ¯</h3><p>æœ¬æ–‡åŸè½½äº <a class=link href=https://vastcircle.github.io target=_blank rel=noopener>vastcircle.github.io</a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚</p></section><footer class=article-footer><section class=article-tags></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("//cdn.bootcss.com/pangu/3.3.0/pangu.min.js",function(){pangu.spacingPage()})</script><section class=copyright>&copy;
2023 -
2025 <a href=https://stack-theme-mod.vercel.app/>vastcircle</a>Â·<i class="fas fa-bell"></i> <a id=days>0</a>Days<br>å…±ä¹¦å†™äº†267.4kå­—Â·å…± 80ç¯‡æ–‡ç« </br><span><p></section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a><br><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank>Â© Licensed Under CC BY-NC-SA 4.0</a></section><script>var days,number_of_days,s1="2024-10-06",s1=new Date(s1.replace(/-/g,"/"));s2=new Date,days=s2.getTime()-s1.getTime(),number_of_days=parseInt(days/(1e3*60*60*24)),document.getElementById("days").innerHTML=number_of_days</script></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><form action=/search/ class="search-form widget"><p><label>Search</label>
<input name=keyword required placeholder="Type something...">
<button title=Search><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button></p></form><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#å†…å­˜è®¿é—®>å†…å­˜è®¿é—®</a></li><li><a href=#åŠ è½½å­˜å‚¨å•å…ƒ>åŠ è½½å­˜å‚¨å•å…ƒ</a></li><li><a href=#memory-dependence-predictor>Memory Dependence Predictor</a></li><li><a href=#store-to-load-forwarding>store to load forwarding</a></li><li><a href=#memory-renaming>memory renaming</a></li><li><a href=#é™„å½•>é™„å½•</a><ol><li><a href=#å‚è€ƒæ–‡çŒ®>å‚è€ƒæ–‡çŒ®</a></li><li><a href=#ç‰ˆæƒä¿¡æ¯>ç‰ˆæƒä¿¡æ¯</a></li></ol></li></ol></nav></div></section><section class="widget categories"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg></div><h2 class="widget-title section-title">Categories</h2><div class=widget-categories--list><div class=widget><h3 class=widget-title></h3><div class=widget-body><div class=category-list><div class=category-list-item><a href=https://VastCircle.github.io/categories/a_prime_on_hardware_prefetch/ class=category-list-link>a_prime_on_hardware_prefetch<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/boom/ class=category-list-link>boom<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/boom%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/ class=category-list-link>boomä»£ç é˜…è¯»<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/cache/ class=category-list-link>cache<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/chipyard/ class=category-list-link>chipyard<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/chisel/ class=category-list-link>chisel<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/cpu%E5%9F%BA%E7%A1%80/ class=category-list-link>cpuåŸºç¡€<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/gem5/ class=category-list-link>gem5<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/gpgpu%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/ class=category-list-link>gpgpuè¯»ä¹¦ç¬”è®°<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/linux/ class=category-list-link>linux<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/riscv/ class=category-list-link>riscv<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/rocket-chip/ class=category-list-link>rocket-chip<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/runahead/ class=category-list-link>runahead<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/ class=category-list-link>ä»£ç é˜…è¯»<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/ class=category-list-link>åˆ†æ”¯é¢„æµ‹<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ class=category-list-link>åšå®¢æ­å»º<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%A4%84%E7%90%86%E5%99%A8/ class=category-list-link>å¤„ç†å™¨<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/ class=category-list-link>ç¯å¢ƒæ­å»º<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/ class=category-list-link>ç¯å¢ƒé…ç½®<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/ class=category-list-link>ç¼“å­˜ä¸€è‡´æ€§<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/ class=category-list-link>è®ºæ–‡é˜…è¯»<span class=category-list-count>12</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%AE%BF%E5%AD%98/ class=category-list-link>è®¿å­˜<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8/ class=category-list-link>è¶…æ ‡é‡å¤„ç†å™¨<span class=category-list-count>12</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E9%A6%99%E5%B1%B1/ class=category-list-link>é¦™å±±<span class=category-list-count>8</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E9%A6%99%E5%B1%B1%E6%BA%90%E4%BB%A3%E7%A0%81/ class=category-list-link>é¦™å±±æºä»£ç <span class=category-list-count>3</a></span></div></div></div></div></div></section><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg></div><h2 class="widget-title section-title">Archives</h2><div class=widget-archive--list><div class=archives-year><a href=/archives/#2025><span class=year>2025</span>
<span class=count>33</span></a></div><div class=archives-year><a href=/archives/#2024><span class=year>2024</span>
<span class=count>47</span></a></div></div></section><section class="widget tagCloud"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg></div><h2 class="widget-title section-title">Tags</h2><div class=tagCloud-tags><a href=/tags/runahead/ class=font_size_6>Runahead
</a><a href=/tags/prefetch/ class=font_size_3>Prefetch
</a><a href=/tags/vector/ class=font_size_3>Vector
</a><a href=/tags/cache/ class=font_size_2>Cache
</a><a href=/tags/chipyard/ class=font_size_2>Chipyard
</a><a href=/tags/diplomacy/ class=font_size_2>Diplomacy
</a><a href=/tags/in-order/ class=font_size_2>In-Order
</a><a href=/tags/rocket-chip/ class=font_size_2>Rocket-Chip
</a><a href=/tags/%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/ class=font_size_2>åˆ†æ”¯é¢„æµ‹
</a><a href=/tags/%E5%AF%84%E5%AD%98%E5%99%A8%E9%87%8D%E5%91%BD%E5%90%8D/ class=font_size_2>å¯„å­˜å™¨é‡å‘½å</a></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>