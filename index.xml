<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>VastCircle's blog</title><link>https://VastCircle.github.io/</link><description>Recent content on VastCircle's blog</description><generator>Hugo -- gohugo.io</generator><language>en-us</language><lastBuildDate>Thu, 31 Oct 2024 20:13:06 +0800</lastBuildDate><atom:link href="https://VastCircle.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>Scalar_runahead_execution</title><link>https://VastCircle.github.io/2024/scalar_runahead_execution/</link><pubDate>Thu, 31 Oct 2024 20:13:06 +0800</pubDate><guid>https://VastCircle.github.io/2024/scalar_runahead_execution/</guid><description>&lt;h3 id="introduction">introduction&lt;/h3>
&lt;p>(i) ä¸€ç§é€‚ç”¨äºé¡ºåºæ‰§è¡Œæ ¸å¿ƒçš„é«˜æ€§èƒ½ã€ä½å¼€é”€çš„ç¡¬ä»¶é¢„å–æŠ€æœ¯ï¼Œç§°ä¸ºæ ‡é‡å‰æ¨æ‰§è¡Œï¼ˆğ‘†ğ‘…ğ¸ï¼‰ã€‚ğ‘†ğ‘…ğ¸åœ¨å¯„å­˜å™¨ä¼ è¾“çº§æœ‰æ•ˆé¢„å–å¤æ‚çš„å†…å­˜è®¿é—®æ¨¡å¼ï¼Œå¹¶å®ç°äº†ç¡¬ä»¶ä¼˜åŒ–ç­–ç•¥ï¼Œä»¥å°½é‡å‡å°‘èƒ½é‡å’Œé¢ç§¯çš„å¼€é”€ï¼ˆå¦‚å›¾1æ‰€ç¤ºï¼‰ã€‚&lt;/p>
&lt;p>(ii) ä¸ºè§£å†³å‰æ¨æ‰§è¡Œå’Œç¼“å­˜æ›¿æ¢å¯¹æœ‰æ•ˆé¢„å–çš„æ©ç›–é—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†ä¸€ç§æ–°çš„å·¥ä½œè´Ÿè½½åˆ†ææ–¹æ³•ã€‚è¯¥æ–¹æ³•é€šè¿‡æ¢ç´¢ç‹¬ç‰¹çš„å·¥ä½œè´Ÿè½½ç‰¹æ€§ï¼Œå¢å¼ºäº†å‰æ¨æŠ€æœ¯åœ¨éšè—å†…å­˜å»¶è¿Ÿæ–¹é¢çš„èƒ½åŠ›ï¼Œä»è€Œç¼©çŸ­æ€»æ‰§è¡Œæ—¶é—´ã€‚&lt;/p>
&lt;p>(iii) åˆ©ç”¨è‡ªå®šä¹‰æŒ‡ä»¤ï¼Œæˆ‘ä»¬æå‡ºäº†ä¸‰ç§ä¸åŒçš„æ¨¡å¼ï¼Œä»¥è§£å†³å‰æ¨æŠ€æœ¯çš„å®‰å…¨æ¼æ´ï¼Œå¹¶è¿›ä¸€æ­¥æå‡æ€§èƒ½ã€‚&lt;/p>
&lt;h3 id="background">background&lt;/h3>
&lt;p>A.æ ‡é‡æ ¸å¿ƒä¸­çš„é•¿å»¶è¿Ÿå†…å­˜è®¿é—®&lt;/p>
&lt;p>é¡ºåºæ‰§è¡Œæ ¸å¿ƒåœ¨é¢ç§¯å’ŒåŠŸè€—æ–¹é¢ç›¸æ¯”ä¹±åºæ‰§è¡Œæ ¸å¿ƒå…·æœ‰æ˜¾è‘—ä¼˜åŠ¿ï¼Œä½¿å…¶æœ¬è´¨ä¸Šæ›´é€‚åˆéœ€è¦é•¿æ—¶é—´è¿è¡Œçš„åœºæ™¯ã€‚ç„¶è€Œï¼Œåœ¨è®¿é—®ç¨€ç–æ•°æ®ç»“æ„æ—¶ï¼Œä¹±åºæ ¸å¿ƒå¯ä»¥é€šè¿‡è¯¸å¦‚ROBï¼ˆé‡æ’åºç¼“å†²åŒºï¼‰ã€ä¿ç•™ç«™ã€åŠ è½½ç¼“å†²åŒºå’Œå­˜å‚¨ç¼“å†²åŒºç­‰ç»„ä»¶ç¼“è§£ç”±æœ«çº§ç¼“å­˜æœªå‘½ä¸­å¼•èµ·çš„å†…å­˜è®¿é—®å»¶è¿Ÿã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œé¡ºåºæ‰§è¡Œæ ¸å¿ƒç¼ºä¹åº”å¯¹å†…å­˜å»¶è¿Ÿçš„æœ‰æ•ˆç­–ç•¥ï¼Œç”šè‡³L1ç¼“å­˜æœªå‘½ä¸­ä¹Ÿä¼šæ˜¾è‘—å½±å“æ€§èƒ½ã€‚åœ¨ä¸¥é‡æƒ…å†µä¸‹ï¼Œæ‰§è¡Œæ—¶é—´çš„å¤§éƒ¨åˆ†éƒ½èŠ±è´¹åœ¨ç­‰å¾…å†…å­˜ä¸Šï¼Œå¯¼è‡´é¡ºåºæ ¸å¿ƒçš„å¹³å‡æ¯æŒ‡ä»¤å‘¨æœŸï¼ˆCPIï¼‰å¯èƒ½è¾¾åˆ°æ•°åã€‚å› æ­¤ï¼Œè§£å†³å†…å­˜å»¶è¿Ÿé—®é¢˜å¯¹äºæå‡é¡ºåºæ‰§è¡Œæ ¸å¿ƒçš„æ€§èƒ½è‡³å…³é‡è¦ã€‚&lt;/p>
&lt;p>B. runahead technique
ç„¶è€Œï¼Œç”±äºé«˜å¼€é”€ï¼Œå®ƒä»¬å¹¶ä¸é€‚åˆåœ¨é¡ºåºå¤„ç†å™¨ä¸Šå®ç°ã€‚ä»¥åŸå§‹çš„runahead executeä¸ºä¾‹ï¼Œå½“ä¸€æ¡é•¿å»¶è¿Ÿå†…å­˜è®¿é—®æŒ‡ä»¤ä½äºæŒ‡ä»¤çª—å£çš„å¤´éƒ¨ï¼Œå¯¼è‡´æŒ‡ä»¤çª—å£å·²æ»¡å¹¶é˜»å¡æµæ°´çº¿æ—¶ï¼Œå¤„ç†å™¨ä¼šå¯¹æ¶æ„å¯„å­˜å™¨æ–‡ä»¶å’Œåˆ†æ”¯å†å²å¯„å­˜å™¨çš„çŠ¶æ€è¿›è¡Œæ£€æŸ¥ç‚¹æ“ä½œï¼Œä¿ƒä½¿å¤„ç†å™¨è¿›å…¥runahead modeã€‚é˜»å¡æŒ‡ä»¤çª—å£çš„å†…å­˜è®¿é—®æŒ‡ä»¤çš„ç›®æ ‡å¯„å­˜å™¨å°†è¢«æ ‡è®°ä¸ºINVï¼ˆæ— æ•ˆï¼‰ï¼Œå¹¶åœ¨åç»­æŒ‡ä»¤æµä¸­ä¼ æ’­ï¼Œä»¥é˜²æ­¢é”™è¯¯çš„å†…å­˜è¯·æ±‚ã€‚å½“å†…å­˜è¯·æ±‚è¿”å›æ—¶ï¼Œå¤„ç†å™¨é€€å‡ºå‰æ¨æ¨¡å¼å¹¶æ¢å¤ç›¸å…³çš„æ¶æ„çŠ¶æ€ã€‚&lt;/p>
&lt;h3 id="overview">overview&lt;/h3>
&lt;p>ç›®å‰å¤„ç†å™¨ä¸­çš„æ¨æµ‹é¢„å–æŠ€æœ¯èƒ½å¤Ÿæœ‰æ•ˆç®¡ç†å¤æ‚çš„é—´æ¥å†…å­˜è®¿é—®æ¨¡å¼ï¼Œä½†åœ¨å¾®æ¶æ„è®¾è®¡ä¸­å¸¦æ¥äº†æ˜¾è‘—çš„ç¡¬ä»¶å¼€é”€ï¼Œä½¿å…¶ä¸é€‚ç”¨äºå°å‹æ ¸å¿ƒã€‚åœ¨å‘¨æœŸç²¾ç¡®çš„ä»¿çœŸå™¨ä¸­å®ç°è¿™äº›æŠ€æœ¯ä¼šå¯¼è‡´è®¾è®¡ä¾µå…¥æ€§ï¼Œå¹¶éœ€å¼€å‘ä¸“é—¨çš„æ‹¦æˆªç”µè·¯ã€‚ğ‘†ğ‘…ğ¸åœ¨å¯„å­˜å™¨ä¼ è¾“çº§å¼€å‘ï¼Œé€šè¿‡ä¸€ç³»åˆ—ä¼˜åŒ–ç­–ç•¥æ¥å‡è½»å¼€é”€ï¼Œä»è€Œç¡®ä¿åœ¨ä½æˆæœ¬çš„æƒ…å†µä¸‹å®ç°é«˜æ€§èƒ½ã€‚&lt;strong>åœ¨runahead executeè¿›å…¥æ¡ä»¶ä¸­é›†æˆäº†ä¸€ç§é—´æ¥å†…å­˜è®¿é—®æ£€æµ‹æœºåˆ¶&lt;/strong>ï¼Œæå‡äº†é¢„å–çš„å‡†ç¡®æ€§å’Œè¦†ç›–èŒƒå›´ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 200;
flex-basis: 480px"
>
&lt;a href="https://VastCircle.github.io/2024/scalar_runahead_execution/image-20241031202810483.png" data-size="1296x648">
&lt;img src="https://VastCircle.github.io/2024/scalar_runahead_execution/image-20241031202810483.png"
width="1296"
height="648"
srcset="https://VastCircle.github.io/2024/scalar_runahead_execution/image-20241031202810483_hu7108600535510953162.png 480w, https://VastCircle.github.io/2024/scalar_runahead_execution/image-20241031202810483_hu7882577258176118585.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨RCUä¸­ï¼Œä¸ºæ‹¦æˆªæ­£å¸¸æ‰§è¡Œæ¨¡å¼ä¸‹é¢„å–æ•°æ®çš„å›å†™ï¼ŒMSHRè¿½è¸ªæ¯ä¸ª&lt;strong>ç¼“å­˜æœªå‘½ä¸­è¯·æ±‚çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›å†™ä½ç½®ã€è¯·æ±‚åœ°å€å’Œé¡ºåº&lt;/strong>ã€‚åœ¨å¯„å­˜å™¨æ–‡ä»¶ä¸­æ„å»ºäº†æ‹¦æˆªç”µè·¯ï¼ˆå›¾2aï¼‰ã€‚åœ¨å¯„å­˜å™¨æ–‡ä»¶ä¸­è¿˜å»ºç«‹äº†ä¸€ä¸ªCPæå–å’Œå›å†™ç”µè·¯ï¼Œå¹¶åŒ…å«å¤šç«¯å£çš„CPï¼ˆå›¾2bï¼‰ï¼Œé€šè¿‡ä¸çº§è”æ§åˆ¶ç”µè·¯é›†æˆï¼Œåˆ©ç”¨å¤šä¸ªå‘¨æœŸæå–å’Œå›å†™å¤„ç†å™¨çš„çŠ¶æ€ä¿¡æ¯ã€‚&lt;/p>
&lt;p>å¯¹äºåœ¨runaheadé˜¶æ®µçš„å†…å­˜æœªå‘½ä¸­è¯·æ±‚ä»¥åŠç¬æ€æ‰§è¡Œ(transient execution)æœŸé—´è¯†åˆ«çš„&lt;strong>æ— æ•ˆå†…å­˜æœªå‘½ä¸­&lt;/strong>è¯·æ±‚ï¼Œä¼šæ£€æµ‹éšåä½¿ç”¨ç¼ºå¤±æ•°æ®çš„å¯„å­˜å™¨ç¼–å·ï¼Œå¹¶åœ¨scoreboardä¸Šé‡ç½®ç›¸åº”ä½ç½®ï¼ˆå›¾2cï¼‰ã€‚å¼€å‘äº†ä¸€ä¸ªæ— æ•ˆæ£€æµ‹å’Œä¼ æ’­æœºåˆ¶ï¼Œç”¨äºè¿½è¸ªè´Ÿè´£æµæ°´çº¿é‡Šæ”¾çš„å¯„å­˜å™¨ç¼–å·å’Œå†…å­˜æœªå‘½ä¸­åœ°å€ï¼Œä»è€Œé˜²æ­¢é”™è¯¯çš„é¢„å–è¯·æ±‚ã€‚æ­¤å¤–ï¼Œæ„å»ºäº†ä¸€ä¸ªç´§å‡‘çš„dual-way cacheï¼Œç”¨äºåœ¨runahead é˜¶æ®µæ”¶é›†å­˜å‚¨æŒ‡ä»¤çš„å­˜å‚¨å€¼ï¼Œç¡®ä¿å†…å­˜æŒ‡ä»¤çš„æ­£ç¡®æ‰§è¡Œï¼ˆå›¾2dï¼‰ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬è¿˜å¼€å‘äº†ä¸€ä¸ªè‡ªå®šä¹‰ISAæ¥å£ä»¥å¢å¼ºçµæ´»æ€§ï¼ŒåŒ…æ‹¬ï¼ˆå›¾2eï¼‰ï¼š(i) Safe Modeï¼Œè§£å†³åœ¨å‰æ¨æ¨æµ‹æ‰§è¡ŒæœŸé—´å› åˆ†æ”¯é¢„æµ‹é”™è¯¯å¯¼è‡´çš„æœºå¯†æ•°æ®æ³„æ¼é£é™©ï¼›(ii) Miss Counter Table,ï¼Œä¸€ä¸ªåŒå…¥å£è¡¨ï¼Œç”¨äºè‡ªå®šä¹‰å‰æ¨è¿‡ç¨‹çš„ç»ˆæ­¢ç‚¹ï¼Œä»¥ä¼˜åŒ–ä¸åŒç¡¬ä»¶å’Œå·¥ä½œè´Ÿè½½çš„æ€§èƒ½ï¼›(iii) Aggressive Modeï¼Œæä¾›ç¦ç”¨å‰æ¨æœŸé—´çš„FPUé€‰é¡¹ï¼Œé˜²æ­¢åœ¨æµ®ç‚¹è¿ç®—å¯†é›†å‹å·¥ä½œè´Ÿè½½ä¸­é•¿æŒ‡ä»¤é˜»å¡ï¼Œå¹¶å…è®¸å‘å‡ºæ›´å¤šé¢„å–è¯·æ±‚ã€‚&lt;/p>
&lt;h2 id="å¾®æ¶æ„">å¾®æ¶æ„&lt;/h2>
&lt;p>é€‰æ‹©äº†å¼€æºçš„Rocket Chip SoCä½œä¸ºğ‘†ğ‘…ğ¸å¾®æ¶æ„çš„åŸºç¡€ã€‚Rocket ChipåŒ…å«ä¸€ä¸ªä½åŠŸè€—çš„Rocketæ ¸å¿ƒï¼Œæ”¯æŒå¼€æºçš„RV64GC RISC-VæŒ‡ä»¤é›†ï¼Œå¹¶ä½¿ç”¨Chiselç¡¬ä»¶æè¿°è¯­è¨€ç¼–å†™ã€‚å®ƒå…·å¤‡æ”¯æŒåŸºäºé¡µé¢çš„è™šæ‹Ÿå†…å­˜çš„å†…å­˜ç®¡ç†å•å…ƒï¼ˆMMUï¼‰ã€ä¸€ä¸ªéé˜»å¡æ•°æ®ç¼“å­˜ï¼Œä»¥åŠå¸¦æœ‰åˆ†æ”¯é¢„æµ‹åŠŸèƒ½çš„å‰ç«¯ã€‚&lt;/p>
&lt;p>A. The Runahead Control Unit
è¿›å…¥ pseudo-enter é˜¶æ®µçš„æ¡ä»¶é€šè¿‡å¤„ç†æ¥è‡ªL2ç¼“å­˜MSHRçš„æœªå‘½ä¸­è¯·æ±‚ä¿¡æ¯ï¼ˆå›å†™ä½ç½®ï¼‰æ¥ç¡®å®šã€‚å¯¹äºnon-blocking cacheçš„stall-on-useæœºåˆ¶ï¼Œåœ¨&lt;strong>è§£ç &lt;/strong>é˜¶æ®µæ£€æµ‹æ•°æ®ä½¿ç”¨çš„æ—¶æœºï¼Œä½¿å¤„ç†å™¨èƒ½å¤Ÿåœ¨è¯¥å‘¨æœŸè¿›å…¥pseudo-enteré˜¶æ®µï¼ˆå›¾3aï¼‰ã€‚åœ¨pseudo-enteré˜¶æ®µï¼Œå¤„ç†å™¨æ£€æŸ¥æ˜¯å¦å­˜åœ¨&lt;strong>é—´æ¥å†…å­˜è®¿é—®&lt;/strong>ã€‚å¦‚æœæ£€æµ‹åˆ°è¿™ç§è®¿é—®ï¼Œå¤„ç†å™¨å°†è½¬å…¥runahead execution phaseï¼Œé€šå¸¸æŒç»­åä¸ªå‘¨æœŸï¼ˆå›¾3bï¼‰ã€‚åœ¨runahead execution phaseï¼Œä¸ºäº†ä¾¿äºåç»­é‡Šæ”¾æµæ°´çº¿å¹¶æœ‰æ•ˆç®¡ç†æ•°æ®å›å†™å¯„å­˜å™¨ï¼Œå¿…é¡»è·Ÿè¸ªæ¥è‡ªL1ç¼“å­˜MSHRçš„Load-Misså’ŒGain-Missä¿¡æ¯ï¼Œå…¶ä¸­åŒ…æ‹¬å›å†™å¯„å­˜å™¨ç¼–å·ã€è¯·æ±‚åœ°å€å’Œè¯»/å†™æŒ‡é’ˆç­‰è¯¦ç»†ä¿¡æ¯ï¼ˆå›¾3cï¼‰ã€‚åŒæ—¶ï¼Œä¸ºé˜²æ­¢Load-Misså’ŒGain-Missé˜»å¡æµæ°´çº¿ï¼Œé€šè¿‡è¯†åˆ«æœªå‘½ä¸­å›å†™å¯„å­˜å™¨ç¼–å·æ¥é‡Šæ”¾æµæ°´çº¿å¹¶ä½¿å¯¹åº”çš„å¯„å­˜å™¨å’Œåœ°å€æ— æ•ˆï¼ˆå›¾3dï¼‰ã€‚åœ¨è¿›å…¥ä¼ªé€€å‡ºé˜¶æ®µæ—¶ï¼Œç›®æ ‡æ˜¯æ‹¦æˆªä¸Gain-missç›¸å…³çš„æ•°æ®å›å†™ã€‚é€šè¿‡åŸºäºL1ç¼“å­˜MSHRä¸­çš„è¯·æ±‚å›å†™å¯„å­˜å™¨ç¼–å·ã€åœ°å€å’Œè¯»/å†™æŒ‡é’ˆï¼Œç²¾ç¡®æ‹¦æˆªç›¸åŒæˆ–ä¸åŒå—çš„å›å†™è¯·æ±‚æ¥å®ç°ã€‚æ­¤å¤–ï¼ŒåŒä¸€å—å†…çš„Gain-missä¼šè§¦å‘MSHRé‡æ”¾æœºåˆ¶ï¼Œå¯èƒ½ä¼šä¸­æ–­å‰æ¨è¿‡ç¨‹ã€‚æ‹¦æˆªç”µè·¯çš„æ‰©å±•è®¾è®¡é€šè¿‡æ£€æµ‹å¹¶æ‹¦æˆªé‡å¤è¯·æ±‚æ¥è§£å†³æ­¤é—®é¢˜ï¼Œä»¥é˜²æ­¢æ­¤ç±»ä¸­æ–­ï¼ˆå›¾3fï¼‰ã€‚&lt;/p>
&lt;p>B. The Runahead Control FSM
ä¸ºäº†å®ç°å¯¹é¢„å–æ¶æ„çš„ç²¾ç¡®æ§åˆ¶ï¼Œæˆ‘ä»¬å°†æœ‰é™çŠ¶æ€æœºï¼ˆFSMï¼‰æœºåˆ¶ä¸å‰æ¨æ‰§è¡Œæ¨¡å¼ç´§å¯†é›†æˆï¼Œä»¥å¢å¼ºå¤„ç†å™¨åœ¨å¤„ç†é•¿å»¶è¿Ÿå†…å­˜è®¿é—®æ—¶çš„æ•ˆç‡ã€‚FSMé€šè¿‡åœ¨å„çŠ¶æ€é—´åˆ‡æ¢åŠ¨æ€ç®¡ç†é¢„å–æ“ä½œï¼Œç¡®ä¿å¤„ç†å™¨åœ¨å†…å­˜å»¶è¿ŸæœŸé—´ä»ä¿æŒé«˜æ•ˆã€‚FSMä»ä¼ªè¿›å…¥çŠ¶æ€å¼€å§‹ï¼Œåœ¨è¯¥çŠ¶æ€ä¸‹ï¼Œå®ƒå¤„ç†æ¥è‡ªL2ç¼“å­˜çš„æœªå‘½ä¸­çŠ¶æ€ä¿æŒå¯„å­˜å™¨ï¼ˆMSHRï¼‰çš„æœªå‘½ä¸­è¯·æ±‚ä¿¡æ¯ï¼ˆå›å†™ä½ç½®ï¼‰ã€‚æ­¤æ—¶ï¼Œç”±äºæ•°æ®ç¼“å­˜çš„â€œstall on useâ€æœºåˆ¶ï¼Œå¤„ç†å™¨ä¸ä»…ä¸ä¼šå®Œå…¨åœé¡¿ï¼Œè¿˜ä¼šç»§ç»­æ‰§è¡ŒæŒ‡ä»¤ã€‚åœ¨è¿™é‡Œï¼Œå¤„ç†å™¨æ£€æŸ¥æµæ°´çº¿æŒ‡ä»¤ï¼Œè¯†åˆ«å‡ºé—´æ¥å†…å­˜è®¿é—®åï¼Œè¿›å…¥å‰æ¨è¿›å…¥çŠ¶æ€ã€‚æ­¤çŠ¶æ€ä¸‹å¤„ç†å™¨ä¿å­˜å½“å‰çŠ¶æ€å’Œå¯„å­˜å™¨ï¼Œä¸ºåç»­ä»å‰æ¨æ¨¡å¼æ— ç¼æ¢å¤æ­£å¸¸æ“ä½œåšå¥½å‡†å¤‡ï¼Œä»¥ç»´æŠ¤ç³»ç»Ÿå®Œæ•´æ€§ï¼ˆå›¾3aï¼‰ã€‚å®Œæˆå‰æ¨è¿›å…¥çŠ¶æ€çš„ç›¸å…³å¤„ç†åï¼Œå¤„ç†å™¨ç›´æ¥è¿›å…¥å‰æ¨æ‰§è¡ŒçŠ¶æ€ã€‚åœ¨å‰æ¨æ‰§è¡ŒçŠ¶æ€ä¸‹ï¼Œå¤„ç†å™¨ç»§ç»­æ‰§è¡ŒæŒ‡ä»¤è€Œä¸å°†ç»“æœæäº¤è‡³å¯„å­˜å™¨æ–‡ä»¶ï¼Œé€šè¿‡åœ¨Load-Missè§£å†³å‰é¢„å–æ•°æ®æ¥æœ‰æ•ˆå‡å°‘ç©ºé—²æ—¶é—´ã€‚&lt;/p>
&lt;p>ä¸ºå®ç°æ­¤ç›®çš„ï¼ŒFSMä»L1ç¼“å­˜çš„MSHRä¸­è·Ÿè¸ªLoad-Misså’ŒGain-Missçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å›å†™å¯„å­˜å™¨ç¼–å·ã€è¯·æ±‚åœ°å€å’Œè¯»/å†™æŒ‡é’ˆã€‚æµæ°´çº¿è¢«é‡Šæ”¾ï¼Œå¯¹åº”çš„å¯„å­˜å™¨å’Œåœ°å€è¢«æ— æ•ˆåŒ–ï¼Œä»¥é˜²æ­¢é˜»å¡ã€‚ä¸€æ—¦Load-Missæ•°æ®è¿”å›ï¼ŒFSMä¾¿åˆ‡æ¢è‡³å‰æ¨é€šè¿‡çŠ¶æ€ï¼Œè¯¥çŠ¶æ€ä½œä¸ºä¸­ä»‹ï¼Œå†³å®šå¤„ç†å™¨åº”è¿›å…¥ä¼ªé€€å‡ºçŠ¶æ€è¿˜æ˜¯ç›´æ¥è¿›å…¥æ­£å¸¸é€€å‡ºçŠ¶æ€ã€‚FSMåœ¨ä¸¤ç§æƒ…å†µä¸‹ä¼šè¿›å…¥ä¼ªé€€å‡ºçŠ¶æ€ï¼š(i) åœ¨æ•°æ®å›å†™å‰è¾¾åˆ°æ•ˆç›Šç‚¹ï¼Œé€šè¿‡æ¯”è¾ƒè¯·æ±‚åœ°å€å’Œè¯»/å†™æŒ‡é’ˆï¼›æˆ–(ii) Gain-Missè®¡æ•°å™¨åœ¨æ•°æ®å›å†™åè¾¾åˆ°æŒ‡å®šå€¼ï¼Œè¡¨æ˜å·²è¾¾åˆ°æ•ˆç›Šç‚¹ã€‚åœ¨ä¼ªé€€å‡ºçŠ¶æ€ï¼ŒFSMé€šè¿‡å‡†ç¡®æ£€æµ‹ç›¸åŒå’Œä¸åŒå—çš„é‡å¤è¯·æ±‚æ¥æ‹¦æˆªä¸Gain-Missç›¸å…³çš„å›å†™è¯·æ±‚ã€‚æ­¤æ‹¦æˆªæœºåˆ¶é˜²æ­¢äº†å› ç›¸åŒå—ä¸­çš„Gain-Missè§¦å‘é‡æ”¾æœºåˆ¶è€Œä¸­æ–­å‰æ¨è¿‡ç¨‹ã€‚FSMéšåå®Œæˆæ“ä½œï¼Œç¡®ä¿æ‰€æœ‰å‰æ¨æ‰§è¡Œçš„æŒ‡ä»¤å·²å®Œæˆæˆ–å®‰å…¨ä¸¢å¼ƒã€‚&lt;/p>
&lt;p>å¦‚æœå‰æ¨è¿‡ç¨‹ä¸­æ²¡æœ‰æœªè§£å†³çš„ä¾èµ–å…³ç³»ï¼ŒFSMå°†è¿›å…¥å‰æ¨é€€å‡ºçŠ¶æ€ï¼Œå…è®¸å¤„ç†å™¨æ¢å¤æ­£å¸¸å¤„ç†ã€‚ç„¶è€Œï¼Œè‹¥å‰æ¨æ‰§è¡ŒæœŸé—´å­˜åœ¨æ— æ³•è§£å†³çš„ä¾èµ–å…³ç³»æˆ–æ‰§è¡Œå¼‚å¸¸ï¼ŒFSMå¯èƒ½ä¼šæš‚æ—¶åˆ‡æ¢è‡³å‰æ¨æ— æ•ˆçŠ¶æ€ï¼Œå¹¶é€šè¿‡æ§åˆ¶æµæ°´çº¿åœé¡¿ã€ç­‰å¾…Load-Missæ­£å¸¸è¿”å›åå†é€€å‡ºå‰æ¨æ¨¡å¼ã€‚&lt;/p>
&lt;p>C. å¤šå‘¨æœŸæ£€æŸ¥ç‚¹å’Œé‡Šæ”¾ç”µè·¯&lt;/p>
&lt;p>å¤„ç†å™¨çŠ¶æ€çš„checkpoint and restoreï¼ŒåŒ…æ‹¬ GHRï¼ˆå…¨å±€å†å²å¯„å­˜å™¨ï¼‰ã€RASï¼ˆè¿”å›åœ°å€å †æ ˆï¼‰å’Œæ¶æ„å¯„å­˜å™¨æ–‡ä»¶ï¼Œå¯¹äºç¡®ä¿è¶…å‰è¿è¡Œä¸­çš„æ­£ç¡®æ“ä½œè‡³å…³é‡è¦ã€‚æ¨¡å¼å’Œæ™®é€šæ¨¡å¼ã€‚ GHR å’Œ RAS å¤„ç†åˆ†æ”¯å†å²è®°å½•å’Œè¿”å›åœ°å€è·Ÿè¸ªã€‚å½“å¤„ç†å™¨è¿›å…¥è¶…å‰è¿è¡Œæ¨¡å¼æ—¶ï¼Œè¿™äº›ç»“æ„åœ¨å•ä¸ªå‘¨æœŸå†…è®¾ç½®æ£€æŸ¥ç‚¹ï¼Œä¿ç•™åˆ†æ”¯é¢„æµ‹å’Œè¿”å›åœ°å€è®¡ç®—æ‰€éœ€çš„ä¿¡æ¯ã€‚é€€å‡ºè¶…å‰è¿è¡Œæ¨¡å¼åï¼Œå…ˆå‰ä¿å­˜çš„åˆ†æ”¯å†å²è®°å½•å’Œè¿”å›åœ°å€å°†è¢«æ¢å¤ï¼Œä»è€Œä¿æŒå‡†ç¡®çš„æ§åˆ¶æµï¼Œè€Œä¸ä¼šå¢åŠ æ˜¾ç€çš„æ€§èƒ½å¼€é”€ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œå­˜å‚¨å¤„ç†å™¨æ¶æ„çŠ¶æ€çš„æ¶æ„å¯„å­˜å™¨æ–‡ä»¶æ¶‰åŠæ›´å¤šæ•°æ®å’Œå¤æ‚æ€§ã€‚ä¸ºäº†ç®¡ç†è¿™ä¸€ç‚¹ï¼Œä½¿ç”¨äº†å¤šå‘¨æœŸæ£€æŸ¥ç‚¹å’Œé‡Šæ”¾æœºåˆ¶ï¼Œè¿™å‡å°‘äº†å¯¹æ‰©å±•æ¨¡å—æ¥å£çš„éœ€æ±‚å¹¶é™ä½äº†å¤„ç†å™¨ä¹‹é—´çš„é€šä¿¡å‹åŠ›ã€‚å°½ç®¡å¯¹æ¶æ„å¯„å­˜å™¨æ–‡ä»¶è¿›è¡Œæ£€æŸ¥ç‚¹éœ€è¦å¤šä¸ªå‘¨æœŸï¼Œä½†å®ƒä¸åœ¨è¶…å‰è¿è¡Œæ¨¡å¼å’Œæ­£å¸¸æ¨¡å¼ä¹‹é—´è½¬æ¢æ—¶æ¸…é™¤å’Œé‡æ–°å¡«å……ç®¡é“æ‰€éœ€çš„äº”ä¸ªå‘¨æœŸè¿‡ç¨‹ç›¸ä¸€è‡´ï¼Œä»è€Œé¿å…äº†ä»»ä½•é¢å¤–çš„æ€§èƒ½æŸå¤±ã€‚&lt;/p>
&lt;p>D. é¢„å–ç®¡ç†å•å…ƒ
æˆ‘ä»¬è®¾è®¡äº†é¢„å–ç®¡ç†å•å…ƒï¼ˆPMUï¼‰ä»¥æ£€æµ‹å’Œæ‹¦æˆªé”™è¯¯çš„é¢„å–è¯·æ±‚ï¼Œä»è€Œä½¿æ¨æµ‹æ‰§è¡Œèƒ½å¤Ÿæœ‰æ•ˆå¤„ç†å†…å­˜è®¿é—®æŒ‡ä»¤ã€‚PMUç”±ä¸¤ä¸ªä¸»è¦ç»“æ„ç»„æˆï¼šæ— æ•ˆé›†åˆå•å…ƒï¼ˆISUï¼‰ï¼Œç”¨äºæ‹¦æˆªé”™è¯¯çš„é¢„å–åœ°å€ï¼Œä»¥åŠå‰æ¨ç¼“å­˜ï¼ˆRCï¼‰ï¼Œç”¨äºåœ¨å‰æ¨è¿‡ç¨‹ä¸­å­˜å‚¨å­˜å‚¨æŒ‡ä»¤çš„å€¼ã€‚&lt;/p>
&lt;p>&lt;strong>ISUï¼ˆæ— æ•ˆé›†åˆå•å…ƒï¼‰&lt;/strong>ï¼šInvfileç”¨äºå­˜å‚¨æ— æ•ˆå¯„å­˜å™¨ç¼–å·å’Œåœ°å€ä¿¡æ¯ï¼Œç±»ä¼¼äºè®°åˆ†æ¿ã€‚æ¯ä¸ªå¯„å­˜å™¨ç¼–å·æˆ–å‰æ¨ç¼“å­˜æ¡ç›®éƒ½æœ‰ä¸€ä¸ªæŒ‡ç¤ºå…¶æœ‰æ•ˆæ€§çš„ä½ï¼ˆå›¾4 aï¼‰ã€‚Load-misså’ŒGain-missçš„å†™å›å¯„å­˜å™¨ç¼–å·ä»¥åŠåœ¨å‰æ¨è¿‡ç¨‹ä¸­å­˜å‚¨çš„æ— æ•ˆåœ°å€ï¼Œé€šå¸¸æ˜¯Invfileçš„æ¥æºï¼Œç›¸å…³æœºåˆ¶æ£€æµ‹åˆ°æ—¶ï¼ŒInvfileè¢«æ¿€æ´»ã€‚æˆ‘ä»¬å°†æ¥è‡ªæ‰§è¡Œé˜¶æ®µçš„RSä¸å†…å­˜è¯·æ±‚åœ°å€è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶ä¸Invfileä¸­çš„ç›¸åº”ä½è¿›è¡Œæ¯”å¯¹ï¼Œäº§ç”Ÿä¸‰ç§æƒ…å†µï¼ˆå›¾4 bï¼‰ï¼š&lt;/p>
&lt;ol>
&lt;li>å½“æºå¯„å­˜å™¨ç¼–å·å­˜åœ¨äºInvfileä¸­æ—¶ï¼Œå¯åŠ¨æ— æ•ˆä¼ æ’­æœºåˆ¶ï¼Œè®¾ç½®ç›¸åº”çš„ç›®æ ‡å¯„å­˜å™¨ç¼–å·ã€‚&lt;/li>
&lt;li>å¦‚æœåŠ è½½æŒ‡ä»¤çš„åœ°å€æœ‰æ•ˆæˆ–æ‰€æœ‰æºå¯„å­˜å™¨æœ‰æ•ˆï¼Œåˆ™è§¦å‘æ— æ•ˆé‡ç½®æœºåˆ¶ï¼Œé‡ç½®ç›¸åº”å¯„å­˜å™¨ç¼–å·çš„æ— æ•ˆä½ã€‚&lt;/li>
&lt;li>å¦‚æœå‘ç°å­˜å‚¨åœ°å€æœ‰æ•ˆï¼Œåˆ™æ¿€æ´»æ— æ•ˆé‡ç½®æœºåˆ¶ï¼Œé‡ç½®ç›¸åº”åœ°å€ä½ã€‚&lt;/li>
&lt;/ol>
&lt;p>åŸºäºè¿™äº›æ“ä½œçš„ç»“æœï¼Œæ— æ•ˆå¯„å­˜å™¨ä¿¡å·è½¬å˜ä¸ºå†…å­˜è®¿é—®é˜»å¡ä¿¡å·å’Œåœ¨å†™å›é˜¶æ®µå¯¹å¤„ç†å™¨çš„æµæ°´çº¿é‡Šæ”¾ä¿¡å·ã€‚æ— æ•ˆåœ°å€ä¿¡å·è¢«è½¬å‘åˆ°å‰æ¨ç¼“å­˜æ¨¡å—ï¼Œä»¥ç¡®å®šåŠ è½½å—æ˜¯å¦æœ‰æ•ˆå‘½ä¸­å‰æ¨ç¼“å­˜ã€‚&lt;/p>
&lt;p>&lt;strong>RCï¼ˆå‰æ¨ç¼“å­˜ï¼‰&lt;/strong>ï¼šå‰æ¨ç¼“å­˜è¢«è®¾è®¡ä¸ºç´§å‡‘çš„äºŒè·¯å…³è”å­˜å‚¨ç»“æ„ï¼Œæ¯ä¸ªæ¡ç›®åŒ…å«æ ‡ç­¾å’Œæ•°æ®ä¿¡æ¯ï¼Œæ¯ä¸ªæ•°æ®æ¡ç›®çš„å¤§å°ä¸ºä¸¤ä¸ªå­—ï¼ˆå…·ä½“ä¸º16Bï¼‰ï¼ˆå›¾4 cï¼‰ã€‚åœ¨å‰æ¨è¿‡ç¨‹ä¸­ï¼ŒåŠ è½½åœ°å€åŒæ—¶è®¿é—®è¯¥ç¼“å­˜å’ŒL1ç¼“å­˜ã€‚å®ƒæ ¹æ®å†…å­˜è®¿é—®åœ°å€çš„ç´¢å¼•ä¿¡æ¯é€‰æ‹©è¡Œï¼ŒåŒ¹é…é€‚å½“çš„é›†åˆï¼Œç„¶åæ ¹æ®åç§»ä¿¡æ¯é€‰æ‹©å­—èŠ‚ï¼Œæœ€åæ ¹æ®æ–¹å¼å‘½ä¸­æ£€ç´¢åŒ¹é…çš„æ•°æ®ã€‚å‘½ä¸­æœºåˆ¶æ¶‰åŠå°†å†…å­˜è®¿é—®åœ°å€çš„æ ‡ç­¾ä¿¡æ¯ä¸å‰æ¨ç¼“å­˜çš„æ ‡ç­¾ä¿¡æ¯è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåŒ¹é…ï¼Œåˆ™è¿›ä¸€æ­¥éªŒè¯æ•°æ®çš„æœ‰æ•ˆæ€§ã€‚å¦‚æœæœ‰æ•ˆï¼Œåˆ™ç”Ÿæˆå‘½ä¸­ä¿¡å·ï¼Œå¹¶ç”¨ä½œæ•°æ®é€‰æ‹©çš„æ§åˆ¶ä¿¡å·ï¼ˆå›¾4 dï¼‰ã€‚åœ¨é€€å‡ºå‰æ¨æ—¶ï¼Œå‰æ¨ç¼“å­˜ä¸­çš„æ‰€æœ‰å€¼éƒ½è¢«ç½®ä¸ºæ— æ•ˆï¼Œä»¥é˜²æ­¢è®¿é—®è¿‡æ—¶çš„å€¼ï¼Œç›´åˆ°æ–°çš„å‰æ¨è¿‡ç¨‹é‡ç½®å­˜å‚¨çš„åœ°å€ã€‚å¯¹äºæ•°æ®æ›¿æ¢æœºåˆ¶ï¼Œæˆ‘ä»¬é‡‡ç”¨ä¼ªLRUæ›¿æ¢ç­–ç•¥é€‰æ‹©æœ€ä¸å¸¸ç”¨çš„æ–¹å¼è¿›è¡Œæ›¿æ¢ã€‚&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>å¤„ç†å™¨æˆåŠŸè¿è¡Œçš„æ ‡å¿—</title><link>https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/</link><pubDate>Thu, 31 Oct 2024 13:11:58 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/</guid><description>&lt;h2 id="å¤„ç†å™¨è¿è¡Œ">å¤„ç†å™¨è¿è¡Œ&lt;/h2>
&lt;p>&lt;figure
>
&lt;a href="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125127267.png" >
&lt;img src="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125127267.png"
loading="lazy"
alt="image-20241031125127267">
&lt;/a>
&lt;figcaption>image-20241031125127267&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>åœ¨_success_exit_sim_exit == 1æ—¶io_successä¸º1&lt;/p>
&lt;p>&lt;figure
>
&lt;a href="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125156158.png" >
&lt;img src="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125156158.png"
loading="lazy"
alt="image-20241031125156158">
&lt;/a>
&lt;figcaption>image-20241031125156158&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
>
&lt;a href="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125250090.png" >
&lt;img src="https://VastCircle.github.io/1030-big_soc_%e8%b7%af%e5%be%84%e6%9f%a5%e6%89%be/image-20241031125250090.png"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-verilog" data-lang="verilog">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">input&lt;/span> &lt;span style="color:#e06c75">clock&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">input&lt;/span> &lt;span style="color:#e06c75">reset&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">input&lt;/span> &lt;span style="color:#e06c75">tsi_out_valid&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">output&lt;/span> &lt;span style="color:#e06c75">tsi_out_ready&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">input&lt;/span> [&lt;span style="color:#d19a66">31&lt;/span>&lt;span style="color:#56b6c2">:&lt;/span>&lt;span style="color:#d19a66">0&lt;/span>] &lt;span style="color:#e06c75">tsi_out_bits&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">output&lt;/span> &lt;span style="color:#e06c75">tsi_in_valid&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">input&lt;/span> &lt;span style="color:#e06c75">tsi_in_ready&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">output&lt;/span> [&lt;span style="color:#d19a66">31&lt;/span>&lt;span style="color:#56b6c2">:&lt;/span>&lt;span style="color:#d19a66">0&lt;/span>] &lt;span style="color:#e06c75">tsi_in_bits&lt;/span>,
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">output&lt;/span> [&lt;span style="color:#d19a66">31&lt;/span>&lt;span style="color:#56b6c2">:&lt;/span>&lt;span style="color:#d19a66">0&lt;/span>] &lt;span style="color:#e06c75">exit&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 115;
flex-basis: 276px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031132938852.png" data-size="801x696">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031132938852.png"
width="801"
height="696"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031132938852_hu1086351026104805095.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031132938852_hu16573299286926149045.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 238;
flex-basis: 573px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135417464.png" data-size="803x336">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135417464.png"
width="803"
height="336"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135417464_hu13613305115897699263.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135417464_hu11887304916702126665.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="serialram-ram-testharnesssv">SerialRAM ram TestHarness.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 188;
flex-basis: 452px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140339626.png" data-size="813x431">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140339626.png"
width="813"
height="431"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140339626_hu4176905410126000133.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140339626_hu2529958250269980170.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tsitotilelink-tsi2tl-serialramsvimage-20241031135520906png">TSIToTileLink tsi2tl SerialRAM.sv&lt;figure
class="gallery-image"
style="
flex-grow: 152;
flex-basis: 367px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135520906.png" data-size="829x542">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135520906.png"
width="829"
height="542"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135520906_hu14310546762855310609.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031135520906_hu12161034021007393813.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/h4>
&lt;h3 id="chiptop-chiptop0-testharnesssv-image-20241031140507499image-20241031140507499png">ChipTop chiptop0 TestHarness.sv &lt;figure
class="gallery-image"
style="
flex-grow: 218;
flex-basis: 524px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140507499.png" data-size="922x422">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140507499.png"
width="922"
height="422"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140507499_hu8295389208615334147.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140507499_hu10722610121197411403.png 1024w"
loading="lazy"
alt="image-20241031140507499">
&lt;/a>
&lt;figcaption>image-20241031140507499&lt;/figcaption>
&lt;/figure>&lt;/h3>
&lt;h3 id="digitaltop-system-chiptopsv">DigitalTop system ChipTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 335;
flex-basis: 805px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140808505.png" data-size="1434x427">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140808505.png"
width="1434"
height="427"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140808505_hu1061019807963324589.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140808505_hu2950244644950165344.png 1024w"
loading="lazy"
alt="image-20241031140808505">
&lt;/a>
&lt;figcaption>image-20241031140808505&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="asyncqueue-subsystem_fbus_out_async">AsyncQueue subsystem_fbus_out_async&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 410;
flex-basis: 985px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140930605.png" data-size="1363x332">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140930605.png"
width="1363"
height="332"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140930605_hu9871378090970186772.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031140930605_hu13595630188455238265.png 1024w"
loading="lazy"
alt="image-20241031140930605">
&lt;/a>
&lt;figcaption>image-20241031140930605&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 3588;
flex-basis: 8611px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141017157.png" data-size="1220x34">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141017157.png"
width="1220"
height="34"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141017157_hu16951995028749720341.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141017157_hu10423103866915634304.png 1024w"
loading="lazy"
alt="image-20241031141017157">
&lt;/a>
&lt;figcaption>image-20241031141017157&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 416;
flex-basis: 1000px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141152232.png" data-size="1434x344">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141152232.png"
width="1434"
height="344"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141152232_hu11387270610975677908.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141152232_hu5720023195938835171.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="tlserdesser-subsystem_fbus_serdesser-digitaltopsv">TLSerdesser subsystem_fbus_serdesser DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 240;
flex-basis: 577px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141312322.png" data-size="1054x438">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141312322.png"
width="1054"
height="438"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141312322_hu17977651119035661201.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031141312322_hu4356173967899277811.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>After the transaction is converted to TileLink, the &lt;code>TLSerdesser&lt;/code> (located in &lt;code>generators/testchipip&lt;/code>) serializes the transaction and sends it to the chip (this &lt;code>TLSerdesser&lt;/code> is sometimes also referred to as a digital serial-link or SerDes).&lt;/p>
&lt;h3 id="heading">&lt;/h3>
&lt;p>_sbusystem_fbus_serdess_auto_client_out_&lt;/p>
&lt;p>_subsystem_sbus_auto_coupler_from_bus_named_subsystem_fbus_bus_xing_in_d_bits_opcode&lt;/p>
&lt;p>&amp;hellip;&lt;/p>
&lt;p>åé¢åº”è¯¥å°±åˆ°coreäº†å§&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 108;
flex-basis: 260px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031142422181.png" data-size="810x747">
&lt;img src="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031142422181.png"
width="810"
height="747"
srcset="https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031142422181_hu9005692429509185126.png 480w, https://VastCircle.github.io/2024/%E5%A4%84%E7%90%86%E5%99%A8%E6%88%90%E5%8A%9F%E8%BF%90%E8%A1%8C%E7%9A%84%E6%A0%87%E5%BF%97/image-20241031142422181_hu2502667652843423368.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p></description></item><item><title>Big_soc_è·¯å¾„æŸ¥æ‰¾</title><link>https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/</link><pubDate>Wed, 30 Oct 2024 16:25:09 +0800</pubDate><guid>https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/</guid><description>&lt;h2 id="è·¯å¾„æŸ¥æ‰¾">è·¯å¾„æŸ¥æ‰¾&lt;/h2>
&lt;h3 id="bootrom-clocksinkdomain_1sv">Bootrom ClockSinkDomain_1.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 158;
flex-basis: 381px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164859345.png" data-size="567x357">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164859345.png"
width="567"
height="357"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164859345_hu13999121753685267221.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164859345_hu10622608143385405980.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="clocksinkdomain_1-bootromdomainwrapper-digitaltopsv">ClockSinkDomain_1 bootROMDomainWrapper DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 265;
flex-basis: 638px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164741290.png" data-size="907x341">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164741290.png"
width="907"
height="341"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164741290_hu102353570205705049.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030164741290_hu2590073761771574827.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="peripherybus_1-subsystem_cbus--digitaltopsv">PeripheryBus_1 subsystem_cbus DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 306;
flex-basis: 735px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030165640444.png" data-size="923x301">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030165640444.png"
width="923"
height="301"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030165640444_hu10383002120596061510.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030165640444_hu18402210719830523042.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlinterconnectcoupler_33-coupler_to_bootrom-tlinterconnectcoupler_33sv">TLInterconnectCoupler_33 coupler_to_bootrom TLInterconnectCoupler_33.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 133;
flex-basis: 321px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031010752745.png" data-size="870x650">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031010752745.png"
width="870"
height="650"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031010752745_hu3992272573636306381.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031010752745_hu9979219063896286076.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlxbar_5-out_xbar--peripherybus_1sv">TLXbar_5 out_xbar PeripheryBus_1.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 166;
flex-basis: 398px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030185219084.png" data-size="793x477">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030185219084.png"
width="793"
height="477"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030185219084_hu10448680742370513107.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030185219084_hu17420875698955200549.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 181;
flex-basis: 435px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202332950.png" data-size="713x393">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202332950.png"
width="713"
height="393"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202332950_hu9250519818328254813.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202332950_hu8645570273136880355.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlfifofixer_2-fixer-peripherybus_1sv">TLFIFOFixer_2 fixer PeripheryBus_1.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 152;
flex-basis: 365px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202242426.png" data-size="776x510">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202242426.png"
width="776"
height="510"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202242426_hu1671350503351295985.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202242426_hu2891245334902017403.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 110;
flex-basis: 265px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202200430.png" data-size="679x613">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202200430.png"
width="679"
height="613"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202200430_hu4279736998364245208.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202200430_hu6367668441550391184.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlbuffer_4-buffer-peripherybus_1sv">TLBuffer_4 buffer PeripheryBus_1.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 117;
flex-basis: 281px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202115325.png" data-size="703x599">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202115325.png"
width="703"
height="599"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202115325_hu2093073729786551643.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104202115325_hu9788218670477972827.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 130;
flex-basis: 312px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201933229.png" data-size="681x523">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201933229.png"
width="681"
height="523"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201933229_hu14151955852051181800.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201933229_hu10350937311788669531.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlatomicautomata_1-atomics-peripherybus_1sv">TLAtomicAutomata_1 atomics PeripheryBus_1.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 139;
flex-basis: 333px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201838520.png" data-size="740x532">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201838520.png"
width="740"
height="532"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201838520_hu15474228921633105648.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201838520_hu18177123055238767923.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 121;
flex-basis: 291px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201741377.png" data-size="715x589">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201741377.png"
width="715"
height="589"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201741377_hu12807145140930188950.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201741377_hu16454610261658107867.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlxbar_4-in_xbar-peripherybus_1sv">TLXbar_4 in_xbar PeripheryBus_1.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 196;
flex-basis: 471px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201652036.png" data-size="721x367">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201652036.png"
width="721"
height="367"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201652036_hu15463308738735522326.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201652036_hu11076147321959160063.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 128;
flex-basis: 308px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201454888.png" data-size="760x591">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201454888.png"
width="760"
height="591"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201454888_hu1648661250605773999.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104201454888_hu9220552418403513128.png 1024w"
loading="lazy"
alt="image-20241104201454888">
&lt;/a>
&lt;figcaption>image-20241104201454888&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="peripyherybus_1-subsystem_cbus-digitaltopsv">PeripyheryBus_1 subsystem_cbus DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 247;
flex-basis: 594px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200308864.png" data-size="1196x483">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200308864.png"
width="1196"
height="483"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200308864_hu2987058579385441560.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200308864_hu8238927459530301682.png 1024w"
loading="lazy"
alt="image-20241104200308864">
&lt;/a>
&lt;figcaption>image-20241104200308864&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="systembus-subsystem_sbus-digitaltopsv">SystemBus subsystem_sbus DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 390;
flex-basis: 937px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200104409.png" data-size="1051x269">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200104409.png"
width="1051"
height="269"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200104409_hu3587345545705323987.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104200104409_hu7002349993959100018.png 1024w"
loading="lazy"
alt="image-20241104200104409">
&lt;/a>
&lt;figcaption>image-20241104200104409&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h4 id="tlinterconnectcoupler-aoupler_to_bus_named_subsystem_cbus-systembussv">TLInterconnectCoupler aoupler_to_bus_named_subsystem_cbus SystemBus.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 124;
flex-basis: 299px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104203908777.png" data-size="957x768">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104203908777.png"
width="957"
height="768"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104203908777_hu6125513517208744189.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104203908777_hu17150586439581193941.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlxbar-system_bus_xbar-systembussv">TLXbar system_bus_xbar SystemBus.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 196;
flex-basis: 472px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204100508.png" data-size="850x432">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204100508.png"
width="850"
height="432"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204100508_hu4689703313920921600.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204100508_hu3866374991973846319.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 157;
flex-basis: 377px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204343965.png" data-size="885x562">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204343965.png"
width="885"
height="562"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204343965_hu5442870221149858326.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204343965_hu15635827722560487754.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlfifofixer-fixer-systembussv">TLFIFOFixer fixer SystemBus.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 209;
flex-basis: 503px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204454714.png" data-size="898x428">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204454714.png"
width="898"
height="428"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204454714_hu17321549004515328782.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204454714_hu3268317837269684717.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 269;
flex-basis: 647px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204645357.png" data-size="1111x412">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204645357.png"
width="1111"
height="412"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204645357_hu14169484330165946716.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104204645357_hu1129588965761359889.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="systembus-subsystem_sbus-digitaltopsv-1">SystemBus subsystem_sbus DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 338;
flex-basis: 812px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205256635.png" data-size="1138x336">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205256635.png"
width="1138"
height="336"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205256635_hu7523165942051679694.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205256635_hu15364917323929948535.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="tileprcidomain-tile_prci_domain-digitaltopsv">TilePRCIDomain tile_prci_domain DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 318;
flex-basis: 763px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205613883.png" data-size="1168x367">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205613883.png"
width="1168"
height="367"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205613883_hu5550151832250196451.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205613883_hu16612706730424766286.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlbuffer_15-buffer-tileprcidomainsv">TLBuffer_15 buffer TilePRCIDomain.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 154;
flex-basis: 370px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205853472.png" data-size="770x499">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205853472.png"
width="770"
height="499"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205853472_hu264810291881296659.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205853472_hu13279160373168244277.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 173;
flex-basis: 416px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205948237.png" data-size="668x385">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205948237.png"
width="668"
height="385"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205948237_hu18143089294266212219.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104205948237_hu3551002334042921988.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="toomtile-tile_reset_domain_boom_tile-tileprcidomainsv">ToomTile tile_reset_domain_boom_tile TilePRCIDomain.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 129;
flex-basis: 310px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104210127393.png" data-size="716x554">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104210127393.png"
width="716"
height="554"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104210127393_hu18425995802566615571.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104210127393_hu3630265501328523238.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h5 id="tlxbar_8-tlmasterxbar-boomtilesv">TLXbar_8 tlMasterXbar BoomTile.sv&lt;/h5>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 169;
flex-basis: 406px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104214423660.png" data-size="725x428">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104214423660.png"
width="725"
height="428"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104214423660_hu6573180292948110858.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104214423660_hu2808990919005740674.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 96;
flex-basis: 230px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104215304702.png" data-size="681x708">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104215304702.png"
width="681"
height="708"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104215304702_hu285788930342095181.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241104215304702_hu11573631366708722688.png 1024w"
loading="lazy"
alt="image-20241104215304702">
&lt;/a>
&lt;figcaption>image-20241104215304702&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 176;
flex-basis: 422px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241105144018651.png" data-size="1394x792">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241105144018651.png"
width="1394"
height="792"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241105144018651_hu16716922515995658433.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241105144018651_hu12977846780869885404.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;hr>
&lt;hr>
&lt;p>æœªå®Œ&lt;/p>
&lt;h3 id="coherencemanagerwrapper-subsystem_l2_wrapper-digitaltopsv">CoherenceManagerWrapper subsystem_l2_wrapper DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 174;
flex-basis: 419px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031013341985.png" data-size="1192x682">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031013341985.png"
width="1192"
height="682"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031013341985_hu4239901299354339721.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031013341985_hu17551902722383602852.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="inclusivecache-l2--coherencemanagerwrappersv">InclusiveCache l2 CoherenceManagerWrapper.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 117;
flex-basis: 283px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031112634641.png" data-size="717x608">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031112634641.png"
width="717"
height="608"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031112634641_hu2709144765505328249.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031112634641_hu17114887769523885667.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 95;
flex-basis: 229px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113153384.png" data-size="746x780">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113153384.png"
width="746"
height="780"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113153384_hu10994807932654197116.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113153384_hu9974981150287781469.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="tlcachecork-cork--coherencemanagerwrappersv">TLCacheCork cork &lt;strong>CoherenceManagerWrapper.sv&lt;/strong>&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 101;
flex-basis: 244px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113807118.png" data-size="816x802">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113807118.png"
width="816"
height="802"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113807118_hu9076489822654885813.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113807118_hu17825230885535812463.png 1024w"
loading="lazy"
alt="image-20241031113807118">
&lt;/a>
&lt;figcaption>image-20241031113807118&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 131;
flex-basis: 315px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113912098.png" data-size="795x604">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113912098.png"
width="795"
height="604"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113912098_hu13582625459371530707.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113912098_hu14921006148919335977.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="bankbinder-binder-coherencemanagerwrappersv">BankBinder binder CoherenceManagerWrapper.sv&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 106;
flex-basis: 254px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113951757.png" data-size="835x787">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113951757.png"
width="835"
height="787"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113951757_hu4867654425878897104.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031113951757_hu416188532021133310.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="coherencemanagerwrapper-subsystem_l2_wrapper--digitaltopsv">CoherenceManagerWrapper subsystem_l2_wrapper DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 192;
flex-basis: 463px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095210458.png" data-size="1258x652">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095210458.png"
width="1258"
height="652"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095210458_hu1991859796095460662.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095210458_hu12504717475907084572.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="memorybus-subsystem_mbus-digitaltopsv">memorybus subsystem_mbus DigitalTop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 223;
flex-basis: 536px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095313158.png" data-size="1290x577">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095313158.png"
width="1290"
height="577"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095313158_hu10547067537806860942.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241031095313158_hu8519425387056163879.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 129;
flex-basis: 310px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204624185.png" data-size="721x558">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204624185.png"
width="721"
height="558"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204624185_hu4951593277296956299.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204624185_hu17132605656731841606.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="digitaltop-system-chiptopsv">DigitalTop system chiptop.sv&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 353;
flex-basis: 849px"
>
&lt;a href="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204011379.png" data-size="1012x286">
&lt;img src="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204011379.png"
width="1012"
height="286"
srcset="https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204011379_hu8900226278681400073.png 480w, https://VastCircle.github.io/2024/big_soc_%E8%B7%AF%E5%BE%84%E6%9F%A5%E6%89%BE/image-20241030204011379_hu973512857469762760.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="dram">Dram&lt;/h3>
&lt;p>ç•¥&lt;/p></description></item><item><title>Chipyardçš„ä¸‰ä¸ªhighest_level</title><link>https://VastCircle.github.io/2024/chipyard%E7%9A%84%E4%B8%89%E4%B8%AAhighest_level/</link><pubDate>Tue, 29 Oct 2024 21:56:38 +0800</pubDate><guid>https://VastCircle.github.io/2024/chipyard%E7%9A%84%E4%B8%89%E4%B8%AAhighest_level/</guid><description>&lt;p>Chipyard SoC ä¸­ä¸‰ä¸ªæœ€é«˜å±‚æ¬¡æ˜¯&lt;code>ChipTop&lt;/code>(DUT)ã€&lt;code>TestHarness&lt;/code>å’Œ&lt;code>TestDriver&lt;/code>ã€‚&lt;code>ChipTop&lt;/code>å’Œ&lt;code>TestHarness&lt;/code>å‡ç”± Chisel ç”Ÿæˆå™¨å‘å‡ºã€‚&lt;code>TestDriver&lt;/code>ç”¨ä½œæˆ‘ä»¬çš„æµ‹è¯•å¹³å°ï¼Œæ˜¯ Rocket Chip ä¸­çš„ Verilog æ–‡ä»¶ã€‚&lt;/p>
&lt;h2 id="chiptopdut">ChipTop(DUT)&lt;/h2>
&lt;p>ChipTop æ˜¯é¡¶å±‚æ¨¡å—ï¼Œè´Ÿè´£å®ä¾‹åŒ– System å­æ¨¡å—ï¼Œé€šå¸¸æ˜¯ DigitalTop çš„å…·ä½“å®ä¾‹ã€‚è®¾è®¡çš„å¤§éƒ¨åˆ†å†…å®¹ä½äº System ä¸­ã€‚ChipTop å±‚ä¸­å­˜åœ¨çš„å…¶ä»–ç»„ä»¶é€šå¸¸æ˜¯ IO å•å…ƒã€æ—¶é’Ÿæ¥æ”¶å™¨å’Œå¤šè·¯å¤ç”¨å™¨ã€é‡ç½®åŒæ­¥å™¨ä»¥åŠå…¶ä»–éœ€è¦å­˜åœ¨äº System ä¹‹å¤–çš„æ¨¡æ‹Ÿ IPã€‚IOBinders è´Ÿè´£å®ä¾‹åŒ–ä¸ System çš„ IO ç›¸å¯¹åº”çš„ ChipTop IO çš„ IO å•å…ƒã€‚HarnessBinders è´Ÿè´£å®ä¾‹åŒ–æµ‹è¯•å¤¹å…·ï¼Œä»¥è¿æ¥åˆ° ChipTop ç«¯å£ã€‚å¤§å¤šæ•°ç±»å‹çš„è®¾å¤‡å’Œæµ‹è¯•å¤¹å…·éƒ½å¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰çš„ IOBinders å’Œ HarnessBinders è¿›è¡Œå®ä¾‹åŒ–ã€‚&lt;/p>
&lt;h2 id="è‡ªå®šä¹‰-chiptop">è‡ªå®šä¹‰ ChipTop&lt;/h2>
&lt;p>é»˜è®¤çš„æ ‡å‡† ChipTop æä¾›äº†ä¸€ä¸ªæœ€å°çš„ã€åŸºæœ¬çš„æ¨¡æ¿ï¼Œä»¥ä¾¿ IOBinders åœ¨ DigitalTop ç‰¹æ€§å‘¨å›´ç”Ÿæˆ IO å•å…ƒã€‚å¯¹äº tapeoutã€é›†æˆæ¨¡æ‹Ÿ IP æˆ–å…¶ä»–éæ ‡å‡†ç”¨ä¾‹ï¼ŒChipyard æ”¯æŒä½¿ç”¨ BuildTop é”®æŒ‡å®šè‡ªå®šä¹‰ ChipTopã€‚ä¸€ä¸ªä½¿ç”¨éæ ‡å‡† IO å•å…ƒçš„è‡ªå®šä¹‰ ChipTop ç¤ºä¾‹ä½äº &lt;code>generators/chipyard/src/main/scala/example/CustomChipTop.scala&lt;/code>ã€‚&lt;/p>
&lt;p>æ‚¨è¿˜å¯ä»¥æŒ‡å®šä¸€ä¸ªå®Œå…¨è‡ªå®šä¹‰çš„ ChipTopï¼Œè¯¥ ChipTop ä¸ä½¿ç”¨ä»»ä½• RocketChip æˆ– Chipyard SoC ç»„ä»¶ã€‚ç¤ºä¾‹ä½äº &lt;code>generators/chipyard/src/main/scala/example/EmptyChipTop.scala&lt;/code>ã€‚å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ„å»º EmptyChipTop ç¤ºä¾‹ï¼š&lt;code>make CONFIG=EmptyChipTopConfig TOP=EmptyChipTop&lt;/code>ã€‚&lt;/p>
&lt;h2 id="systemdigitaltop">System/DigitalTop&lt;/h2>
&lt;p>Rocket Chip SoC çš„ç³»ç»Ÿæ¨¡å—æ˜¯é€šè¿‡ cake-pattern ç»„åˆè€Œæˆçš„ã€‚å…·ä½“è€Œè¨€ï¼ŒDigitalTop æ‰©å±•äº† Systemï¼ŒSystem æ‰©å±•äº† Subsystemï¼ŒSubsystem åˆæ‰©å±•äº† BaseSubsystemã€‚&lt;/p>
&lt;h3 id="basesubsystem">BaseSubsystem&lt;/h3>
&lt;p>BaseSubsystem åœ¨ &lt;code>generators/rocketchip/src/main/scala/subsystem/BaseSubsystem.scala&lt;/code> ä¸­å®šä¹‰ã€‚æŸ¥çœ‹ BaseSubsystem æŠ½è±¡ç±»ï¼Œæˆ‘ä»¬çœ‹åˆ°è¯¥ç±»å®ä¾‹åŒ–äº†é¡¶å±‚æ€»çº¿ï¼ˆfrontbusã€systembusã€peripherybus ç­‰ï¼‰ï¼Œä½†æ²¡æœ‰æŒ‡å®šæ‹“æ‰‘ç»“æ„ã€‚è¯¥ç±»è¿˜å®šä¹‰äº†å¤šä¸ª ElaborationArtefactsï¼Œè¿™äº›æ–‡ä»¶æ˜¯åœ¨ Chisel ç»†åŒ–åç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œè®¾å¤‡æ ‘å­—ç¬¦ä¸²å’Œå¤–äº¤å›¾å¯è§†åŒ– GraphML æ–‡ä»¶ï¼‰ã€‚&lt;/p>
&lt;h3 id="subsystem">Subsystem&lt;/h3>
&lt;p>åœ¨ &lt;code>generators/chipyard/src/main/scala/Subsystem.scala&lt;/code> ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ° Chipyard çš„ Subsystem æ˜¯å¦‚ä½•æ‰©å±• BaseSubsystem æŠ½è±¡ç±»çš„ã€‚Subsystem æ··å…¥äº† HasBoomAndRocketTiles ç‰¹æ€§ï¼Œè¯¥ç‰¹æ€§æ ¹æ®æŒ‡å®šçš„å‚æ•°å®šä¹‰å¹¶å®ä¾‹åŒ– BOOM æˆ– Rocket ç“¦ç‰‡ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œä¸ºæ¯ä¸ªç“¦ç‰‡è¿æ¥ä¸€äº›åŸºæœ¬çš„ IOï¼Œç‰¹åˆ«æ˜¯ hartids å’Œå¤ä½å‘é‡ã€‚&lt;/p>
&lt;h3 id="system">System&lt;/h3>
&lt;p>&lt;code>generators/chipyard/src/main/scala/System.scala&lt;/code> å®Œæˆäº† System çš„å®šä¹‰ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>HasHierarchicalBusTopology&lt;/strong> åœ¨ Rocket Chip ä¸­å®šä¹‰ï¼ŒæŒ‡å®šé¡¶å±‚æ€»çº¿ä¹‹é—´çš„è¿æ¥ã€‚&lt;/li>
&lt;li>&lt;strong>HasAsyncExtInterrupts&lt;/strong> å’Œ &lt;strong>HasExtInterruptsModuleImp&lt;/strong> æ·»åŠ å¤–éƒ¨ä¸­æ–­çš„ IOï¼Œå¹¶å°†å…¶é€‚å½“åœ°è¿æ¥åˆ°ç“¦ç‰‡ã€‚&lt;/li>
&lt;li>&lt;strong>CanHave&amp;hellip;AXI4Port&lt;/strong> æ·»åŠ å„ç§ä¸»ä» AXI4 ç«¯å£ï¼Œæ·»åŠ  TL-to-AXI4 è½¬æ¢å™¨ï¼Œå¹¶å°†å…¶è¿æ¥åˆ°é€‚å½“çš„æ€»çº¿ã€‚&lt;/li>
&lt;li>&lt;strong>HasPeripheryBootROM&lt;/strong> æ·»åŠ  BootROM è®¾å¤‡ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="tops">Tops&lt;/h2>
&lt;p>SoC Top ç»§æ‰¿ System ç±»ï¼Œå¹¶åŒ…å«è‡ªå®šä¹‰ç»„ä»¶çš„ç‰¹æ€§ã€‚åœ¨ Chipyard ä¸­ï¼Œè¿™åŒ…æ‹¬æ·»åŠ  NICã€UART å’Œ GPIOï¼Œä»¥åŠä¸ºå¼•å¯¼æ–¹æ³•è®¾ç½®ç¡¬ä»¶ã€‚&lt;/p>
&lt;h2 id="testharness">TestHarness&lt;/h2>
&lt;p>TestHarness ä¸ Top ä¹‹é—´çš„è¿æ¥æ˜¯åœ¨æ·»åŠ åˆ° Top çš„ç‰¹æ€§ä¸­å®šä¹‰çš„æ–¹æ³•ä¸­æ‰§è¡Œçš„ã€‚å½“è¿™äº›æ–¹æ³•ä» TestHarness ä¸­è°ƒç”¨æ—¶ï¼Œå®ƒä»¬å¯ä»¥åœ¨scope of the harnesså†…å®ä¾‹åŒ–æ¨¡å—ï¼Œç„¶åå°†å…¶è¿æ¥åˆ° DUTã€‚ä¾‹å¦‚ï¼Œä» CanHaveMasterAXI4MemPortModuleImp ç‰¹æ€§å®šä¹‰çš„ &lt;code>connectSimAXIMem&lt;/code> æ–¹æ³•ï¼Œåœ¨ TestHarness ä¸­è°ƒç”¨æ—¶ï¼Œä¼šå®ä¾‹åŒ– SimAXIMemsï¼Œå¹¶å°†å…¶è¿æ¥åˆ°é¡¶å±‚çš„æ­£ç¡® IOã€‚&lt;/p>
&lt;p>å°½ç®¡è¿™ç§é—´æ¥æ–¹å¼è¿æ¥é¡¶å±‚ IO å¯èƒ½çœ‹èµ·æ¥ä¸å¿…è¦åœ°å¤æ‚ï¼Œä½†å®ƒå…è®¸è®¾è®¡å¸ˆç»„åˆè‡ªå®šä¹‰ç‰¹æ€§ï¼Œè€Œæ— éœ€æ‹…å¿ƒä»»ä½•ç‰¹å®šç‰¹æ€§çš„å®ç°ç»†èŠ‚ã€‚&lt;/p>
&lt;h2 id="testdriver">TestDriver&lt;/h2>
&lt;p>TestDriver åœ¨ &lt;code>generators/rocketchip/src/main/resources/vsrc/TestDriver.v&lt;/code> ä¸­å®šä¹‰ã€‚è¯¥ Verilog æ–‡ä»¶é€šè¿‡å®ä¾‹åŒ– TestHarnessã€é©±åŠ¨æ—¶é’Ÿå’Œå¤ä½ä¿¡å·ä»¥åŠè§£é‡ŠæˆåŠŸè¾“å‡ºæ¥æ‰§è¡Œä»¿çœŸã€‚è¯¥æ–‡ä»¶ä¸ä¸º TestHarness å’Œ Top ç”Ÿæˆçš„ Verilog ä¸€èµ·ç¼–è¯‘ï¼Œä»¥ç”Ÿæˆä»¿çœŸå™¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-verilog" data-lang="verilog">&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e06c75">`MODEL&lt;/span> &lt;span style="color:#e06c75">testHarness&lt;/span>(
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .&lt;span style="color:#e06c75">clock&lt;/span>(&lt;span style="color:#e06c75">clock&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .&lt;span style="color:#e06c75">reset&lt;/span>(&lt;span style="color:#e06c75">reset&lt;/span>),
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .&lt;span style="color:#e06c75">io_success&lt;/span>(&lt;span style="color:#e06c75">success&lt;/span>)
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/ucb-bar/chipyard/blob/main/docs/Advanced-Concepts/Top-Testharness.rst" target="_blank" rel="noopener"
>Tops,Test-Harnesses,and the Test-Driver&lt;/a>&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>Rocket Chipå­¦ä¹ </title><link>https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/</link><pubDate>Tue, 29 Oct 2024 17:12:22 +0800</pubDate><guid>https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/</guid><description>&lt;h2 id="rocket-chip-æ¡†å›¾">rocket-chip æ¡†å›¾&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 93;
flex-basis: 224px"
>
&lt;a href="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/image-20241029185840013.png" data-size="685x733">
&lt;img src="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/image-20241029185840013.png"
width="685"
height="733"
srcset="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/image-20241029185840013_hu14119112562339422234.png 480w, https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/image-20241029185840013_hu6804879921133493359.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 160;
flex-basis: 384px"
>
&lt;a href="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/1b76004cd81da403ee6061bc5f28c8a4.png" data-size="920x574">
&lt;img src="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/1b76004cd81da403ee6061bc5f28c8a4.png"
width="920"
height="574"
srcset="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/1b76004cd81da403ee6061bc5f28c8a4_hu10081888447368840699.png 480w, https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/1b76004cd81da403ee6061bc5f28c8a4_hu7103377815266656506.png 1024w"
loading="lazy"
alt="rocket-chipæµæ°´çº¿">
&lt;/a>
&lt;figcaption>rocket-chipæµæ°´çº¿&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 151;
flex-basis: 362px"
>
&lt;a href="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/606757a6f155fc39d830d2669766510d.png" data-size="812x537">
&lt;img src="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/606757a6f155fc39d830d2669766510d.png"
width="812"
height="537"
srcset="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/606757a6f155fc39d830d2669766510d_hu2470859002471598808.png 480w, https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/606757a6f155fc39d830d2669766510d_hu17716410241867253808.png 1024w"
loading="lazy"
alt="rocket-chip Icache">
&lt;/a>
&lt;figcaption>rocket-chip Icache&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 140;
flex-basis: 337px"
>
&lt;a href="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/d5b43f3a013f1952dcc43774d22b5d37.png" data-size="1042x742">
&lt;img src="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/d5b43f3a013f1952dcc43774d22b5d37.png"
width="1042"
height="742"
srcset="https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/d5b43f3a013f1952dcc43774d22b5d37_hu12111035731917621890.png 480w, https://VastCircle.github.io/2024/rocket-chip%E5%AD%A6%E4%B9%A0/d5b43f3a013f1952dcc43774d22b5d37_hu6353591107662034634.png 1024w"
loading="lazy"
alt="rocket-chip Dcache">
&lt;/a>
&lt;figcaption>rocket-chip Dcache&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="rocket-chip-ä»£ç ç»“æ„">rocket-chip ä»£ç ç»“æ„&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## rocket-chip generatorçš„ä¸€çº§ç›®å½•ç»“æ„&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€bootrom : åœ¨BootROMçš„bootloaderç¬¬ä¸€é˜¶æ®µæ‰€ä½¿ç”¨çš„ä»£ç 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> csrc Verilator: ä»¿çœŸç”¨çš„Cä»£ç 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€emulator Verilator :ç”¨æ¥ç¼–è¯‘å’Œè·‘ä»¿çœŸçš„å·¥ä½œç›®å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€project Scala: æ„å»ºå·¥å…·sbtç”¨æ¥æ„å»ºScalaçš„å·¥ä½œç›®å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€regression: å®šä¹‰çš„æŒç»­çš„æ•´åˆå’Œä¸€å¥—nightly regression
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€scripts: ç”¨æ¥åˆ†æä»¿çœŸçš„è¾“å‡ºæˆ–è€…å¤„ç†ä»£ç æ–‡ä»¶çš„å†…å®¹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€vsim VCS: ç”¨æ¥ç¼–è¯‘å’Œè·‘ä»¿çœŸçš„å·¥ä½œç›®å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€vsrc Verilog: ä»£ç ï¼ŒåŒ…å«æ¥å£ã€æµ‹è¯•æ¡†æ¶å’ŒVerilogè¿‡ç¨‹æ¥å£VPI
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€chisel3 :åŒ…å«Chiselè‡ªå®šä¹‰çš„å„ç§ç±»å’Œè§„åˆ™ï¼Œç”¨æ¥ç”ŸæˆRTL
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€firrtl: å­˜æ”¾Chiselç¼–è¯‘å™¨å¤„ç†ä»£ç è€Œç”Ÿæˆçš„ä¸€ç§ä¸­é—´è¡¨ç¤ºï¼Œç”±ä¸­é—´è¡¨ç¤ºèƒ½ç”ŸæˆVerilogä»£ç æˆ–C++ä»£ç 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€hardfloat: ç”¨chiselå†™æˆçš„æµ®ç‚¹å•å…ƒ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€riscv-tools: æ”¯æŒRISC-Vçš„ä¸€å¥—è½¯ä»¶ï¼Œä¸ç”ŸæˆRTLæœ‰å…³
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€torture: ç”¨æ¥ç”Ÿæˆå‹åŠ›æµ‹è¯•æ‰€éœ€çš„ä¸€äº›éšæœºæŒ‡ä»¤
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## src/main/scala: æ„ç­‘rocket-chipçš„ä»£ç &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> amba: åè®®çš„å®ç°ä»£ç ï¼ŒåŒ…æ‹¬AXI4ï¼ŒAHB-liteï¼ŒAPB
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> config: æä¾›èƒ½é…ç½®Generatorçš„Scalaçš„æ¥å£
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€coreplex: åŒ…å«Rocketæ ¸ã€ç³»ç»Ÿæ€»çº¿ã€coherence agentsã€debugè®¾å¤‡ã€ä¸­æ–­å¤„ç†ã€é¢å‘å¤–éƒ¨çš„å¤–è®¾ã€æ—¶é’ŸåŒæ­¥å¤„ç†å’ŒTileLinkåˆ°å¤–è®¾æ€»çº¿è½¬æ¢
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€devices: ä¸€äº›å¤–è®¾ï¼ŒåŒ…æ‹¬debugæ¨¡å—å’Œå„ç§æŒ‚åœ¨TileLinkçš„ä»è®¾å¤‡
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€diplomacy: ç”¨æ¥æ‰©å±•Chiselï¼Œé€šè¿‡å…è®¸å¯¹ç¡¬ä»¶è¿›è¡Œä¸¤ä¸ªé˜¶æ®µçš„é˜è¿°ï¼Œå¯ä»¥è®©å‚æ•°åœ¨æ¨¡å—ä¹‹é—´åè°ƒä¼ é€’
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€groundtest: ç”Ÿæˆå¯ç»¼åˆçš„ç¡¬ä»¶æµ‹è¯•å¹³å°ï¼Œé€šè¿‡å‘å‡ºéšæœºçš„è®¿é—®å­˜å‚¨å™¨æŒ‡ä»¤æµï¼Œè¿›è¡Œå¯¹æ ¸å¤–çš„å­˜å‚¨å™¨ç³»ç»Ÿè¿›è¡Œå‹åŠ›æµ‹è¯•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€jtag: ç”¨æ¥ç”ŸæˆJTAGæ€»çº¿æ¥å£
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€regmapper: ç”¨æ¥ç”Ÿæˆå¸¦æœ‰èƒ½è®¿é—®å†…å­˜æ˜ å°„å¯„å­˜å™¨çš„æ ‡å‡†æ¥å£çš„ä»è®¾å¤‡
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€rocket: ç”¨æ¥ç”Ÿæˆé¡ºåºæ ¸Rocketã€L1æŒ‡ä»¤cacheå’ŒL1æ•°æ®cache
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€tile: åŒ…å«å¯ä»¥ä¸Rocketæ ¸ç»„æˆtileçš„ç»„ä»¶ï¼Œå¦‚FPUå’ŒRoCCåå¤„ç†å™¨
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€tilelink: ç”¨æ¥ç”ŸæˆTileLinkæ€»çº¿ï¼ˆåè®®ï¼‰ï¼ŒåŒ…å«ä¸€äº›é€‚é…å™¨å’Œè½¬å…¶ä»–æ€»çº¿ï¼ˆåè®®ï¼‰çš„è½¬æ¢å™¨
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€system:Rocket Chipçš„é¡¶å±‚ä»£ç åŒ…ï¼ŒåŒæ—¶ä¹Ÿæ˜¯ç”¨ä½œæµ‹è¯•çš„ç¡¬ä»¶å¹³å°çš„é¡¶å±‚ä»£ç åŒ…
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€unittest: ç”¨ä½œç”Ÿæˆç¡¬ä»¶æµ‹è¯•å¹³å°æ¥æµ‹è¯•å•ç‹¬çš„ä¸€ä¸ªä¸ªæ¨¡å—
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>ã€€util: æä¾›ä¸€äº›èƒ½è¢«å…¶ä»–ä»£ç åŒ…è°ƒç”¨çš„é€šç”¨çš„Scalaå’ŒChiselç»“æ„
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="srcmainscalasystem">/src/main/scala/system&lt;/h3>
&lt;h4 id="testharnessscala">TestHarness.scala&lt;/h4>
&lt;p>TestHarness æ¨¡å—é€šè¿‡æ¨¡æ‹Ÿé…ç½®ã€æ¥å£è¿æ¥å’Œè°ƒè¯•ä¿¡å·è®¾ç½®ï¼Œæ„å»ºäº†ä¸€ä¸ªæµ‹è¯•ç¯å¢ƒï¼Œç”¨äºéªŒè¯ ExampleRocketSystemçš„åŠŸèƒ½&lt;/p>
&lt;h4 id="testgenerationscala">TestGeneration.scala&lt;/h4>
&lt;p>è¿™æ®µä»£ç å®šä¹‰äº†RISC-Vå¤„ç†å™¨çš„æµ‹è¯•æ¡†æ¶ï¼Œå®ƒä¸»è¦ç”±ä¸€äº›æŠ½è±¡å’Œå…·ä½“çš„æµ‹è¯•å¥—ä»¶ç±»ç»„æˆï¼Œç”¨äºç”Ÿæˆç”¨äºRISC-Væµ‹è¯•çš„Makefileè„šæœ¬ç‰‡æ®µã€‚ä»¥ä¸‹æ˜¯ä»£ç çš„ä¸»è¦ç»“æ„ä¸åŠŸèƒ½ï¼š&lt;/p>
&lt;p>RocketTestSuite æŠ½è±¡ç±»ï¼š
è¿™ä¸ªæŠ½è±¡ç±»å®šä¹‰äº†ä¸€ä¸ªé€šç”¨çš„æµ‹è¯•å¥—ä»¶ç»“æ„ï¼ŒåŒ…å«æµ‹è¯•ç›®å½•ã€ç›®æ ‡åç§°ã€æµ‹è¯•ç”¨ä¾‹é›†åˆç­‰å…³é”®å‚æ•°ã€‚postScriptå±æ€§ç”Ÿæˆç”¨äºé“¾æ¥ç›®æ ‡æ–‡ä»¶çš„Makefileå‘½ä»¤æ¨¡æ¿ã€‚&lt;/p>
&lt;p>AssemblyTestSuite ç±»ï¼š&lt;/p>
&lt;p>è¿™æ˜¯RocketTestSuiteçš„å­ç±»ï¼Œç”¨äºå®šä¹‰æ±‡ç¼–è¯­è¨€çš„æµ‹è¯•å¥—ä»¶ã€‚æ¯ä¸ªå®ä¾‹è¡¨ç¤ºç‰¹å®šç¯å¢ƒï¼ˆå¦‚rv32uiï¼‰ä¸‹çš„æµ‹è¯•é›†åˆï¼Œå¹¶ç”ŸæˆåŒ…å«æµ‹è¯•æ–‡ä»¶çš„Makefileç‰‡æ®µã€‚
BenchmarkTestSuite ç±»ï¼š&lt;/p>
&lt;p>ç”¨äºå®šä¹‰åŸºå‡†æµ‹è¯•å¥—ä»¶ï¼Œæ”¯æŒç‰¹å®šç›®å½•ä¸­çš„å¤šä¸ªåŸºå‡†æµ‹è¯•ï¼Œä¾‹å¦‚æ€§èƒ½è¯„ä¼°ç”¨çš„ç¨‹åºã€‚
RegressionTestSuite ç±»ï¼š&lt;/p>
&lt;p>åŒ…å«ä¸€ç»„ç”¨äºå›å½’æµ‹è¯•çš„æµ‹è¯•æ–‡ä»¶ï¼Œé€šè¿‡ç®€å•å®šä¹‰makeTargetNameæ¥ç»Ÿä¸€ç”ŸæˆMakefileç‰‡æ®µã€‚
TestGeneration å¯¹è±¡ï¼š&lt;/p>
&lt;p>è¯¥å¯¹è±¡å®šä¹‰äº†æ·»åŠ æµ‹è¯•å¥—ä»¶å¹¶ç”ŸæˆMakefileç‰‡æ®µçš„é€»è¾‘ã€‚é€šè¿‡genæ–¹æ³•æ ¹æ®æµ‹è¯•ç±»å‹å’Œç¯å¢ƒç”Ÿæˆç›®æ ‡åç§°å’ŒPerlè„šæœ¬ï¼Œç”¨äºæ•è·å’Œå¤„ç†æµ‹è¯•ç»“æœã€‚
DefaultTestSuites å¯¹è±¡ï¼š&lt;/p>
&lt;p>åŒ…å«å¤šä¸ªé»˜è®¤æµ‹è¯•å¥—ä»¶çš„å®ä¾‹ï¼Œè¿™äº›æµ‹è¯•å¥—ä»¶æ¶µç›–äº†ä¸åŒç±»å‹çš„RISC-VæŒ‡ä»¤é›†æ‰©å±•ï¼Œä¾‹å¦‚rv32uiã€rv64uiã€rv32uaã€rv64uaç­‰ã€‚è¿˜åŒ…æ‹¬äº†ä¸€äº›æ€§èƒ½åŸºå‡†å’Œå•ä¸€å›å½’æµ‹è¯•çš„ç¤ºä¾‹ã€‚&lt;/p>
&lt;h4 id="configsscala">Configs.scala&lt;/h4>
&lt;p>TestHarness.scala å°±æ˜¯testbenchï¼Œè€Œ ExampleRocketSystem.scala å°±æ˜¯SOCçš„å±‚æ¬¡ï¼ŒåŒ…æ‹¬Coreä»¥å¤–çš„å…¶ä»–å¤–è®¾&amp;amp;æ€»çº¿ï¼ŒConfigs.scala å°±æ˜¯æ ¸å¿ƒCoreçš„é…ç½®ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-scala" data-lang="scala">&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">class&lt;/span> &lt;span style="color:#e5c07b">BaseConfig&lt;/span> &lt;span style="color:#c678dd">extends&lt;/span> &lt;span style="color:#e5c07b">Config&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithDefaultMemPort&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithDefaultMMIOPort&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithDefaultSlavePort&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithTimebase&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e5c07b">BigInt&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#d19a66">1000000&lt;/span>&lt;span style="color:#56b6c2">))&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span> &lt;span style="color:#7f848e">// 1 MHz
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithDTS&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#98c379">&amp;#34;freechips,rocketchip-unknown&amp;#34;&lt;/span>&lt;span style="color:#56b6c2">,&lt;/span> &lt;span style="color:#e5c07b">Nil&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">WithNExtTopInterrupts&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#d19a66">2&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">BaseSubsystemConfig&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#56b6c2">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="examplerocketsystemscala">ExampleRocketSystem.scala&lt;/h4>
&lt;p>å¯¹äºSOCå±‚é¢çš„è®¾è®¡&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-scala" data-lang="scala">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">/** Example Top with periphery devices and ports, and a Rocket subsystem */&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">class&lt;/span> &lt;span style="color:#e5c07b">ExampleRocketSystem&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#c678dd">implicit&lt;/span> &lt;span style="color:#e06c75">p&lt;/span>&lt;span style="color:#c678dd">:&lt;/span> &lt;span style="color:#e5c07b">Parameters&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#c678dd">extends&lt;/span> &lt;span style="color:#e5c07b">RocketSubsystem&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">with&lt;/span> &lt;span style="color:#e5c07b">HasAsyncExtInterrupts&lt;/span> &lt;span style="color:#7f848e">// æä¾›å¼‚æ­¥å¤–éƒ¨ä¸­æ–­æ¥å£ï¼Œå…è®¸ç³»ç»Ÿå¤„ç†æ¥è‡ªå¤–éƒ¨è®¾å¤‡çš„å¼‚æ­¥ä¸­æ–­ä¿¡å·
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">with&lt;/span> &lt;span style="color:#e5c07b">CanHaveMasterAXI4MemPort&lt;/span> &lt;span style="color:#7f848e">// æ·»åŠ  AXI4 ä¸»æ¥å£ï¼Œç”¨äºè¿æ¥å­˜å‚¨å™¨
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">with&lt;/span> &lt;span style="color:#e5c07b">CanHaveMasterAXI4MMIOPort&lt;/span> &lt;span style="color:#7f848e">// æ·»åŠ  AXI4 ä¸»æ¥å£ï¼Œç”¨äºè¿æ¥å†…å­˜æ˜ å°„çš„ I/O ç«¯å£
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">with&lt;/span> &lt;span style="color:#e5c07b">CanHaveSlaveAXI4Port&lt;/span> &lt;span style="color:#7f848e">// æ·»åŠ  AXI4 ä»æ¥å£ï¼Œæ”¯æŒä¸å…¶ä»–ä¸»è®¾å¤‡çš„äº¤äº’
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span>&lt;span style="color:#56b6c2">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e">// optionally add ROM devices
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#7f848e">// å¯é€‰åœ°æ·»åŠ  ROM è®¾å¤‡
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#7f848e">// Note that setting BootROMLocated will override the reset_vector for all tiles
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#7f848e">// è®¾ç½® BootROMLocated å°†è¦†ç›–æ‰€æœ‰æ ¸å¿ƒçš„é‡ç½®å‘é‡
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">val&lt;/span> &lt;span style="color:#e06c75">bootROM&lt;/span> &lt;span style="color:#c678dd">=&lt;/span> &lt;span style="color:#e06c75">p&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e5c07b">BootROMLocated&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e06c75">location&lt;/span>&lt;span style="color:#56b6c2">)).&lt;/span>&lt;span style="color:#e06c75">map&lt;/span> &lt;span style="color:#56b6c2">{&lt;/span> &lt;span style="color:#e5c07b">BootROM&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e06c75">attach&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#c678dd">_&lt;/span>&lt;span style="color:#56b6c2">,&lt;/span> &lt;span style="color:#c678dd">this&lt;/span>&lt;span style="color:#56b6c2">,&lt;/span> &lt;span style="color:#e5c07b">CBUS&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">}&lt;/span> &lt;span style="color:#7f848e">// è¿æ¥ BootROM åˆ° CBUSï¼Œä»¥é…ç½®ç³»ç»Ÿå¯åŠ¨å…¥å£
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">val&lt;/span> &lt;span style="color:#e06c75">maskROMs&lt;/span> &lt;span style="color:#c678dd">=&lt;/span> &lt;span style="color:#e06c75">p&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e5c07b">MaskROMLocated&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e06c75">location&lt;/span>&lt;span style="color:#56b6c2">)).&lt;/span>&lt;span style="color:#e06c75">map&lt;/span> &lt;span style="color:#56b6c2">{&lt;/span> &lt;span style="color:#e5c07b">MaskROM&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e06c75">attach&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#c678dd">_&lt;/span>&lt;span style="color:#56b6c2">,&lt;/span> &lt;span style="color:#c678dd">this&lt;/span>&lt;span style="color:#56b6c2">,&lt;/span> &lt;span style="color:#e5c07b">CBUS&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">}&lt;/span> &lt;span style="color:#7f848e">// å°† MaskROMs è¿æ¥åˆ° CBUSï¼Œä½œä¸ºåªè¯»å­˜å‚¨å™¨ä½¿ç”¨
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">override&lt;/span> &lt;span style="color:#c678dd">lazy&lt;/span> &lt;span style="color:#c678dd">val&lt;/span> &lt;span style="color:#e06c75">module&lt;/span> &lt;span style="color:#c678dd">=&lt;/span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e5c07b">ExampleRocketSystemModuleImp&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#c678dd">this&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#7f848e">// å»¶è¿ŸåŠ è½½æ¨¡å—å®ç°
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span>&lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="simaximemscala">simAXIMem.scala&lt;/h4>
&lt;p>Memory with AXI port for use in elaboratable test harnesses(ä¸€ä¸ªmemçš„ä»¿çœŸæ¨¡å‹)&lt;/p>
&lt;h3 id="srcmainscalarocket">/src/main/scala/rocket&lt;/h3>
&lt;p>æ­¤ RTL åŒ…ç”Ÿæˆ Rocket é¡ºåºæµæ°´çº¿æ ¸å¿ƒä»¥åŠ L1 æŒ‡ä»¤å’Œæ•°æ®ç¼“å­˜ã€‚æ­¤åº“æ—¨åœ¨ä¾›èŠ¯ç‰‡ç”Ÿæˆå™¨ä½¿ç”¨ï¼Œè¯¥ç”Ÿæˆå™¨åœ¨å†…å­˜ç³»ç»Ÿä¸­å®ä¾‹åŒ–æ ¸å¿ƒå¹¶å°†å…¶è¿æ¥åˆ°å¤–éƒ¨ä¸–ç•Œã€‚&lt;/p>
&lt;h2 id="åœ¨simæ–‡ä»¶é‡Œmake-å‘ç”Ÿäº†ä»€ä¹ˆ">åœ¨simæ–‡ä»¶é‡Œmake å‘ç”Ÿäº†ä»€ä¹ˆ&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ‹·è´é•œåƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>cp -f /chipyard/resources/testchipip/bootrom/bootrom.rv64.img chipyard/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/bootrom.rv64.img
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Chipyardç¯å¢ƒä¸­ç”ŸæˆåŸºäºMyCoreConfigé…ç½®çš„æ¨¡æ‹Ÿä»£ç ï¼ŒåŒæ—¶è¾“å‡ºç”Ÿæˆè¿‡ç¨‹çš„æ—¥å¿—ä»¥ä¾¿åç»­è°ƒè¯•å’ŒæŸ¥çœ‹ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#e5c07b">set&lt;/span> -o pipefail &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> &lt;span style="color:#e5c07b">cd&lt;/span> CHIPYARD_HOME &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> java -cp CHIPYARD_HOME/.classpath_cache/chipyard.jar chipyard.Generator
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--target-dir CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig &lt;span style="color:#7f848e">## æŒ‡å®šç”Ÿæˆä»£ç çš„è¾“å‡ºç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--name chipyard.harness.TestHarness.MyCoreConfig &lt;span style="color:#7f848e">## æŒ‡å®šç”Ÿæˆæ–‡ä»¶çš„åå­—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--top-module chipyard.harness.TestHarness &lt;span style="color:#7f848e">## æŒ‡å®šç”Ÿæˆä»£ç çš„é¡¶å±‚æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--legacy-configs chipyard:MyCoreConfig &lt;span style="color:#7f848e">## æŒ‡å®šä»£ç çš„é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>| tee CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.chisel.log&lt;span style="color:#56b6c2">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ‰§è¡Œäº†ä¸€ä¸ª Chipyard é¡¹ç›®æ¨¡å‹ç”Ÿæˆè¿‡ç¨‹ã€‚å®ƒè¯»å–è®¾è®¡çš„ FIRRTL æ–‡ä»¶å’Œç›¸å…³æ³¨è§£ï¼Œç”ŸæˆæŒ‡å®šçš„ SFC æ¨¡å‹å’Œæ³¨è§£æ–‡ä»¶ï¼Œä»¥ä¾¿åç»­ä»¿çœŸæˆ–ç»¼åˆä½¿ç”¨ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> CHIPYARD_HOME &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> java -cp CHIPYARD_HOME/.classpath_cache/tapeout.jar barstools.tapeout.transforms.GenerateModelStageMain
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--no-dedup &lt;span style="color:#7f848e">## ç¦ç”¨æ¨¡å—å»é‡ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--output-file CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.sfc &lt;span style="color:#7f848e">## æŒ‡å®šç”ŸæˆSFCæ–‡ä»¶çš„è·¯å¾„,ç”¨äºå­˜å‚¨ç”Ÿæˆçš„æ¨¡å‹æ•°æ®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--output-annotation-file CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.sfc.anno.json &lt;span style="color:#7f848e">## ç”Ÿæˆæ¨¡å‹çš„æ³¨è§£æ–‡ä»¶,å°†é™„åŠ ä¿¡æ¯ä¿å­˜ä¸ºjsonæ–‡ä»¶ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--target-dir CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral &lt;span style="color:#7f848e">## æŒ‡å®šç”Ÿæˆçš„é™„åŠ æ–‡ä»¶çš„ç›®æ ‡ç›®å½•.gen-collateral ç”¨äºå­˜æ”¾å­˜æ”¾å…¶ä»–çš„ç”Ÿæˆæ•°æ®å’Œæ–‡ä»¶ã€‚ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--input-file CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.fir &lt;span style="color:#7f848e">## è¾“å…¥çš„ FIRRTL æ–‡ä»¶ï¼Œç”¨äºæè¿°æ•´ä¸ªè®¾è®¡çš„ç»“æ„å’Œé€»è¾‘ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--annotation-file CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.appended.anno.json &lt;span style="color:#7f848e">## è¾“å…¥æ³¨è§£æ–‡ä»¶ï¼ŒåŒ…å«äº†ä¸ FIRRTL æ–‡ä»¶ç›¸å…³çš„é¢å¤–ä¿¡æ¯ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--log-level error &lt;span style="color:#7f848e">## è®¾ç½®æ—¥å¿—ç­‰çº§ä¸º errorï¼Œåªè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œä»¥å‡å°‘ä¸å¿…è¦çš„æ—¥å¿—ä¿¡æ¯ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>--allow-unrecognized-annotations &lt;span style="color:#7f848e">##å…è®¸å·¥å…·è·³è¿‡æ— æ³•è¯†åˆ«çš„æ³¨è§£ï¼Œä¿è¯ç”Ÿæˆè¿‡ç¨‹é¡ºåˆ©è¿›è¡Œã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>-X
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>firtool &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> --format&lt;span style="color:#56b6c2">=&lt;/span>fir &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šè¾“å…¥æ–‡ä»¶ä¸º FIRRTL æ ¼å¼&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --dedup &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å¯ç”¨æ¨¡å—å»é‡ï¼Œå‡å°‘é‡å¤æ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --export-module-hierarchy &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å¯¼å‡ºæ¨¡å—çš„å±‚æ¬¡ç»“æ„ï¼Œä¾¿äºç†è§£æ¨¡å—å…³ç³»&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --emit-metadata &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># ç”ŸæˆåŒ…å«è®¾è®¡å…ƒæ•°æ®çš„æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --verify-each&lt;span style="color:#56b6c2">=&lt;/span>&lt;span style="color:#e5c07b">true&lt;/span> &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æ¯æ¬¡è½¬æ¢åéªŒè¯ FIRRTLï¼Œç¡®ä¿è½¬æ¢æ­£ç¡®æ€§&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --warn-on-unprocessed-annotations &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å¯¹æ— æ³•è¯†åˆ«çš„æ³¨è§£ç»™å‡ºè­¦å‘Šï¼Œä¾¿äºè°ƒè¯•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --disable-annotation-classless &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># ç¦ç”¨æ— æ˜ç¡®ç±»å‹çš„æ³¨è§£ï¼Œé¿å…ç”Ÿæˆä¸ç¡®å®šä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --disable-annotation-unknown &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># ç¦ç”¨æœªçŸ¥ç±»å‹çš„æ³¨è§£ï¼Œç¡®ä¿ç”Ÿæˆè¿‡ç¨‹å¯æ§&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --mlir-timing &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è®°å½• MLIR çš„æ‰§è¡Œæ—¶é—´ï¼Œä¾¿äºæ€§èƒ½åˆ†æ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --lowering-options&lt;span style="color:#56b6c2">=&lt;/span> &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æ§åˆ¶é™ä½é€‰é¡¹ï¼ˆç•™ç©ºä½¿ç”¨é»˜è®¤è®¾ç½®ï¼‰&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --repl-seq-mem &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å¯ç”¨åºåˆ—å†…å­˜æ›¿æ¢ï¼Œå°†é«˜å±‚å†…å­˜ç»“æ„è½¬æ¢ä¸ºå¯ç»¼åˆå†…å­˜&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --repl-seq-mem-file&lt;span style="color:#56b6c2">=&lt;/span>CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.mems.conf &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šå†…å­˜æ›¿æ¢é…ç½®æ–‡ä»¶ï¼Œæè¿°ç”Ÿæˆçš„å†…å­˜æ¨¡å—&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --repl-seq-mem-circuit&lt;span style="color:#56b6c2">=&lt;/span>TestHarness &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šå†…å­˜æ›¿æ¢çš„ç”µè·¯åç§°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --annotation-file&lt;span style="color:#56b6c2">=&lt;/span>CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.sfc.anno.json &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥æ³¨è§£æ–‡ä»¶ï¼Œæä¾›ç”Ÿæˆè¿‡ç¨‹æ‰€éœ€çš„é¢å¤–ä¿¡æ¯&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --split-verilog &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å°†ç”Ÿæˆçš„ Verilog æ‹†åˆ†ä¸ºå¤šä¸ªæ–‡ä»¶ï¼Œä¾¿äºç®¡ç†&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -o CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šè¾“å‡ºç›®å½•ï¼Œå­˜æ”¾ç”Ÿæˆçš„æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.sfc.fir &lt;span style="color:#7f848e"># è¾“å…¥ FIRRTL æ–‡ä»¶ï¼ŒåŒ…å«ç”µè·¯çš„é«˜å±‚æ¬¡æè¿°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## è¿™æ¡å‘½ä»¤è¿è¡Œ uniquify-module-names.py è„šæœ¬ï¼Œç”¨äºå¯¹æ¨¡å—åç§°è¿›è¡Œå”¯ä¸€åŒ–ã€‚å…¶ç›®çš„åœ¨äºè§£å†³æ¨¡å—åé‡å¤é—®é¢˜ï¼Œç¡®ä¿åœ¨æ–‡ä»¶åˆ—è¡¨å’Œå±‚æ¬¡ç»“æ„ä¸­ï¼Œæ¯ä¸ªæ¨¡å—çš„åç§°éƒ½æ˜¯å”¯ä¸€çš„ï¼Œä¾¿äº Verilog ç”Ÿæˆå’Œä»¿çœŸæµç¨‹çš„ç®¡ç†ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CHIPYARD_HOME/scripts/uniquify-module-names.py &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> --model-hier-json CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/model_module_hierarchy.json &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šæ¨¡å‹æ¨¡å—çš„å±‚æ¬¡ç»“æ„ JSON æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --top-hier-json CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/top_module_hierarchy.json &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šé¡¶å±‚æ¨¡å—çš„å±‚æ¬¡ç»“æ„ JSON æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --in-all-filelist CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral/filelist.f &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šåŒ…å«æ‰€æœ‰æ¨¡å—çš„æ–‡ä»¶åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --dut ChipTop &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šå¾…éªŒè¯çš„é¡¶å±‚æ¨¡å—ä¸º ChipTop&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --model TestHarness &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šæ¨¡å‹çš„é¡¶å±‚æ¨¡å—ä¸º TestHarness&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --target-dir CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šç›®æ ‡ç›®å½•ï¼Œç”¨äºå­˜æ”¾è¾“å‡ºæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --out-dut-filelist CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.top.f &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºï¼šé¡¶å±‚æ¨¡å—çš„æ–‡ä»¶åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --out-model-filelist CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.model.f &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºï¼šæ¨¡å‹æ¨¡å—çš„æ–‡ä»¶åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --out-model-hier-json CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/model_module_hierarchy.uniquified.json &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºï¼šå”¯ä¸€åŒ–åçš„æ¨¡å‹æ¨¡å—å±‚æ¬¡ç»“æ„ JSON æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --gcpath CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral &lt;span style="color:#7f848e"># æŒ‡å®šç”Ÿæˆæ–‡ä»¶çš„è·¯å¾„ï¼ˆç”¨äºåœ¨å”¯ä¸€åŒ–è¿‡ç¨‹ä¸­æŸ¥æ‰¾ç”Ÿæˆæ–‡ä»¶ï¼‰\&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## å¤åˆ¶TestDriver.våˆ°gen-collateralæ–‡ä»¶å¤¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cp -f CHIPYARD_HOME/generators/rocket-chip/src/main/resources/vsrc/TestDriver.v CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## è¿è¡Œ split-mems-conf.py è„šæœ¬ï¼Œå°†åŒ…å«æ‰€æœ‰å†…å­˜é…ç½®çš„æ–‡ä»¶åˆ†ç¦»ä¸ºé¡¶å±‚æ¨¡å—å’Œæ¨¡å‹æ¨¡å—å„è‡ªç‹¬ç«‹çš„å†…å­˜é…ç½®æ–‡ä»¶ã€‚ä½¿é¡¶å±‚æ¨¡å— ChipTop å’Œæ¨¡å‹æ¨¡å— TestHarness å„è‡ªæ‹¥æœ‰ç‹¬ç«‹çš„å†…å­˜é…ç½®æ–‡ä»¶ï¼Œä¾¿äºåç»­çš„ç»¼åˆå’Œä»¿çœŸè¿‡ç¨‹ã€‚ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>CHIPYARD_HOME/scripts/split-mems-conf.py &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> --in-smems-conf CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.mems.conf &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šåŒ…å«æ‰€æœ‰å†…å­˜çš„é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --in-model-hrchy-json CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/model_module_hierarchy.uniquified.json &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šå”¯ä¸€åŒ–çš„æ¨¡å‹æ¨¡å—å±‚æ¬¡ç»“æ„ JSON æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --dut-module-name ChipTop &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šé¡¶å±‚æ¨¡å—åç§°ä¸º ChipTop&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --model-module-name TestHarness &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šæ¨¡å‹æ¨¡å—åç§°ä¸º TestHarness&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --out-dut-smems-conf CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.top.mems.conf &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºï¼šç”¨äºé¡¶å±‚æ¨¡å— ChipTop çš„å†…å­˜é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --out-model-smems-conf CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.model.mems.conf &lt;span style="color:#7f848e"># è¾“å‡ºï¼šç”¨äºæ¨¡å‹æ¨¡å— TestHarness çš„å†…å­˜é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">### è¿™æ¡å‘½ä»¤ä½¿ç”¨ MacroCompiler å·¥å…·ï¼Œæ ¹æ®å†…å­˜é…ç½®ç”Ÿæˆé¡¶å±‚æ¨¡å—çš„å†…å­˜å®å•å…ƒã€‚é€šè¿‡æŒ‡å®š synflops æ¨¡å¼ï¼Œå¯ä»¥ç¡®ä¿ç”Ÿæˆçš„å†…å­˜ç»“æ„ç¬¦åˆåŒæ­¥è§¦å‘å™¨çš„åˆæˆè¦æ±‚ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„ Verilog æ–‡ä»¶ï¼Œç”¨äºåç»­çš„ä»¿çœŸæˆ–ç»¼åˆæ­¥éª¤ã€‚&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> CHIPYARD_HOME &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> java -cp CHIPYARD_HOME/.classpath_cache/tapeout.jar barstools.macros.MacroCompiler &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> -n CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.top.mems.conf &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥å†…å­˜é…ç½®æ–‡ä»¶ï¼Œä¸ºé¡¶å±‚æ¨¡å—ç”Ÿæˆå†…å­˜å®å•å…ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -v CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral/chipyard.harness.TestHarness.MyCoreConfig.top.mems.v &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡º Verilog æ–‡ä»¶ï¼Œç”Ÿæˆçš„å†…å­˜å®å•å…ƒæè¿°&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -f CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.top.mems.fir &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ FIRRTL æ–‡ä»¶ï¼Œç”¨äºæè¿°å†…å­˜ç»“æ„&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --mode synflops &lt;span style="color:#7f848e"># æŒ‡å®šç”Ÿæˆæ¨¡å¼ä¸º synflopsï¼Œç”¨äºåŒæ­¥è§¦å‘å™¨åˆæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">### è¿™æ¡å‘½ä»¤ä¸ä¹‹å‰çš„å‘½ä»¤ç±»ä¼¼ï¼Œä½†è¿™æ˜¯é’ˆå¯¹æ¨¡å‹æ¨¡å— TestHarness çš„å†…å­˜é…ç½®ã€‚å®ƒä½¿ç”¨ MacroCompiler å·¥å…·ç”Ÿæˆè¯¥æ¨¡å—çš„å†…å­˜å®å•å…ƒï¼Œç¡®ä¿ç”Ÿæˆçš„å†…å­˜ç»“æ„ç¬¦åˆåŒæ­¥è§¦å‘å™¨çš„åˆæˆè¦æ±‚ã€‚ç”Ÿæˆçš„ Verilog æ–‡ä»¶å°†ç”¨äºåç»­çš„ä»¿çœŸæˆ–ç»¼åˆè¿‡ç¨‹ã€‚ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e5c07b">cd&lt;/span> CHIPYARD_HOME &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> java -cp CHIPYARD_HOME/.classpath_cache/tapeout.jar barstools.macros.MacroCompiler &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> -n CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.model.mems.conf &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šæ¨¡å‹æ¨¡å—çš„å†…å­˜é…ç½®æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -v CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral/chipyard.harness.TestHarness.MyCoreConfig.model.mems.v &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºï¼šç”Ÿæˆçš„ Verilog æ–‡ä»¶ï¼Œæè¿°æ¨¡å‹æ¨¡å—çš„å†…å­˜å®å•å…ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -f CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.model.mems.fir &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥ï¼šç”¨äºæè¿°æ¨¡å‹æ¨¡å—å†…å­˜ç»“æ„çš„ FIRRTL æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --mode synflops &lt;span style="color:#7f848e"># æŒ‡å®šç”Ÿæˆæ¨¡å¼ä¸º synflopsï¼Œä»¥æ”¯æŒåŒæ­¥è§¦å‘å™¨çš„åˆæˆ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## è¿™æ¡å‘½ä»¤ä½¿ç”¨ Verilator å·¥å…·ç”Ÿæˆä¸€ä¸ªåŸºäº TestDriver é¡¶å±‚æ¨¡å—çš„ C++ æ¨¡æ‹Ÿå™¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>verilator --main --timing --cc --exe &lt;span style="color:#98c379">\
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#98c379">&lt;/span> -CFLAGS &lt;span style="color:#98c379">&amp;#34; -O3 -std=c++17 -ICHIPYARD_HOME/.conda-env/riscv-tools/include -ICHIPYARD_HOME/tools/DRAMSim2 -ICHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/gen-collateral -DVERILATOR -include CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig.plusArgs&amp;#34;&lt;/span> &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># ç¼–è¯‘æ ‡å¿—ï¼ŒåŒ…å«ä¼˜åŒ–é€‰é¡¹ã€æ ‡å‡†å’ŒåŒ…å«è·¯å¾„&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -LDFLAGS &lt;span style="color:#98c379">&amp;#34; -LCHIPYARD_HOME/.conda-env/riscv-tools/lib -Wl,-rpath,CHIPYARD_HOME/.conda-env/riscv-tools/lib -LCHIPYARD_HOME/sims/verilator -LCHIPYARD_HOME/tools/DRAMSim2 -lriscv -lfesvr -ldramsim &amp;#34;&lt;/span> &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># é“¾æ¥æ ‡å¿—ï¼ŒæŒ‡å®šåº“è·¯å¾„å’Œé“¾æ¥çš„åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --threads &lt;span style="color:#d19a66">1&lt;/span> --threads-dpi all -O3 --x-assign fast --x-initial fast &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è®¾ç½®çº¿ç¨‹æ•°ï¼Œä¼˜åŒ–å’Œå¿«é€Ÿåˆå§‹åŒ–é€‰é¡¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --output-split &lt;span style="color:#d19a66">10000&lt;/span> --output-split-cfuncs &lt;span style="color:#d19a66">100&lt;/span> --assert -Wno-fatal &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å‡ºåˆ†å‰²è®¾ç½®ã€å¯ç”¨æ–­è¨€ï¼Œç¦æ­¢è‡´å‘½è­¦å‘Š&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --timescale 1ns/1ps --max-num-width &lt;span style="color:#d19a66">1048576&lt;/span> &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è®¾ç½®æ—¶é—´å°ºåº¦å’Œå®½åº¦é™åˆ¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> +define+CLOCK_PERIOD&lt;span style="color:#56b6c2">=&lt;/span>1.0 +define+RESET_DELAY&lt;span style="color:#56b6c2">=&lt;/span>777.7 +define+PRINTF_COND&lt;span style="color:#56b6c2">=&lt;/span>TestDriver.printf_cond &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å®šä¹‰å®ï¼ŒåŒ…æ‹¬æ—¶é’Ÿå‘¨æœŸå’Œé‡ç½®å»¶è¿Ÿ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> +define+STOP_COND&lt;span style="color:#56b6c2">=&lt;/span>!TestDriver.reset +define+MODEL&lt;span style="color:#56b6c2">=&lt;/span>TestHarness &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¿›ä¸€æ­¥å®šä¹‰æ¡ä»¶å’Œæ¨¡å‹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> +define+RANDOMIZE_MEM_INIT +define+RANDOMIZE_REG_INIT +define+RANDOMIZE_GARBAGE_ASSIGN +define+RANDOMIZE_INVALID_ASSIGN +define+VERILATOR &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># å¯ç”¨éšæœºåŒ–é€‰é¡¹&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> --top-module TestDriver --vpi &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šé¡¶å±‚æ¨¡å—ä¸º TestDriverï¼Œå¯ç”¨ VPI&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -f CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/sim_files.common.f &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># è¾“å…¥æ–‡ä»¶åˆ—è¡¨&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -o CHIPYARD_HOME/sims/verilator/simulator-chipyard.harness-MyCoreConfig &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šè¾“å‡ºçš„æ¨¡æ‹Ÿå™¨æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -Mdir CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig &lt;span style="color:#98c379">\ &lt;/span> &lt;span style="color:#7f848e"># æŒ‡å®šæ¨¡å‹ç›®å½•&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> -CFLAGS &lt;span style="color:#98c379">&amp;#34;-include CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig/VTestDriver.h&amp;#34;&lt;/span> &lt;span style="color:#7f848e"># é¢å¤–çš„ç¼–è¯‘æ ‡å¿—ï¼ŒåŒ…å« VTestDriver å¤´æ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## å»ºç«‹VtestDriver.mk &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>touch CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig/VTestDriver.mk
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## ç¼–è¯‘DRAMSim2çš„æºæ–‡ä»¶&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make -C CHIPYARD_HOME/tools/DRAMSim2 libdramsim.a
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## ä½¿ç”¨VTestDriver.mkæ¥ç”Ÿæˆå¯æ‰§è¡Œæ–‡ä»¶simulator-chipyard.harness-MyCoreConfig &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make &lt;span style="color:#e06c75">VM_PARALLEL_BUILDS&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>&lt;span style="color:#d19a66">1&lt;/span> -C CHIPYARD_HOME/sims/verilator/generated-src/chipyard.harness.TestHarness.MyCoreConfig/chipyard.harness.TestHarness.MyCoreConfig -f VTestDriver.mk
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>&lt;a class="link" href="https://blog.csdn.net/a_weiming/article/details/84594781" target="_blank" rel="noopener"
>rocket-chipç›®å½•&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/meton-robean/ResearchNote/issues/23" target="_blank" rel="noopener"
>rocketchipå­¦ä¹ ç¬”è®°&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/gujiangtaoFuture/articles/11766114.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/gujiangtaoFuture/articles/11766114.html&lt;/a>&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>rocket-srcå¾®æ¶æ„ä»£ç è§£è¯»</title><link>https://VastCircle.github.io/2024/%E5%BE%AE%E6%9E%B6%E6%9E%84%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/</link><pubDate>Sun, 27 Oct 2024 21:23:02 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E5%BE%AE%E6%9E%B6%E6%9E%84%E4%BB%A3%E7%A0%81%E8%A7%A3%E8%AF%BB/</guid><description>&lt;h2 id="å·®å¼‚æ–‡ä»¶">å·®å¼‚æ–‡ä»¶&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">### æ–°åŠ å…¥çš„&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/RCU.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/rh_cache.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/RH_Cache.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/rh_data.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/rh_tag.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/Runahead_cache.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">### ä¿®æ”¹è¿‡çš„ &lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tilelink/BootROM.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/BTB.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/Frontend.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/HellaCacheArbiter.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/HellaCache.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/NBDcache.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rocket/RocketCore.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>subsystem/Configs.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>subsystem/SystemBus.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tile/Core.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tilelink/Bundles.scala
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tilelink/Edges.scala
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>æäº¤</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B09/</link><pubDate>Sat, 26 Oct 2024 15:23:09 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B09/</guid><description>&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>æäº¤</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/</link><pubDate>Sat, 26 Oct 2024 15:06:32 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/</guid><description>&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>æ— &lt;/p>
&lt;h2 id="é‡æ’åºç¼“å­˜">é‡æ’åºç¼“å­˜&lt;/h2>
&lt;h3 id="ä¸€èˆ¬ç»“æ„">ä¸€èˆ¬ç»“æ„&lt;/h3>
&lt;p>ROBæ˜¯ä¸€ä¸ªFIFO&lt;/p>
&lt;p>(1)Complete:è¡¨ç¤ºä¸€æ¡æŒ‡ä»¤æ˜¯å¦æ‰§è¡Œå®Œæ¯•&lt;/p>
&lt;p>(2)Areg:æŒ‡ä»¤åœ¨åŸå§‹ç¨‹åºä¸­æŒ‡å®šçš„ç›®çš„å¯„å­˜å™¨,é€»è¾‘å¯„å­˜å™¨&lt;/p>
&lt;p>(3)Preg:æŒ‡ä»¤çš„Aregç»è¿‡å¯„å­˜å™¨é‡å‘½åä¹‹å,å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨ç¼–å·&lt;/p>
&lt;p>(4)OPreg:æŒ‡ä»¤çš„Aregè¢«é‡å‘½åä¸ºæ–°çš„Pregä¹‹å‰,å¯¹åº”çš„æ—§çš„Preg,å½“æŒ‡ä»¤å‘ç”Ÿå¼‚å¸¸(exception)è¿›è¡Œæ¢å¤,ä¼šç”¨åˆ°&lt;/p>
&lt;p>(5)PC:æŒ‡ä»¤å¯¹åº”çš„PCå€¼,å½“å‘ç”Ÿä¸­æ–­æˆ–å¼‚å¸¸ä¹‹å,éœ€è¦ä¿å­˜æŒ‡ä»¤çš„PCå€¼&lt;/p>
&lt;p>(6)Exception:æŒ‡ä»¤å‘ç”Ÿå¼‚å¸¸çš„å¼‚å¸¸ç±»å‹&lt;/p>
&lt;p>(7)Type:æŒ‡ä»¤çš„ç±»å‹ä¼šè¢«è®°å½•åˆ°è¿™é‡Œ,å½“æŒ‡ä»¤retireæ—¶,ä¸åŒç±»å‹çš„æŒ‡ä»¤ä¼šæœ‰ä¸åŒçš„åŠ¨ä½œ,ä¾‹å¦‚storeæŒ‡ä»¤å†™D-cache(é‚£æ‰§è¡Œåœ¨å¹²å˜›)&lt;/p>
&lt;p>åœ¨æµæ°´çº¿çš„åˆ†å‘é˜¶æ®µ,æŒ‡ä»¤ä¼šæŒ‰ç…§è¿›å…¥æµæ°´çº¿çš„é¡ºåºå†™å…¥ROB,ROBä¸­å¯¹åº”çš„completeä¼šè¢«ç½®0,æ‰§è¡Œå®Œæˆä¹‹åä¼šè¢«ç½®1.æŒ‡ä»¤çš„è®¡ç®—ç»“æœå¯ä»¥æ”¾åœ¨ROBä¸­,ä¹Ÿå¯ä»¥æ”¾åœ¨ç‰©ç†å¯„å­˜å™¨å †(PRF)ä¸­.&lt;/p>
&lt;p>å¼‚å¸¸çš„å¤„ç†ç»Ÿä¸€æ”¾åœ¨æäº¤é˜¶æ®µ&lt;/p>
&lt;p>æŒ‡ä»¤è¡¨é¡¹çš„ç¼–å·ä¼šä¸€ç›´éšç€æŒ‡ä»¤åœ¨æµæ°´çº¿ä¸­æµåŠ¨&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 229;
flex-basis: 551px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241018201606114.png" data-size="699x304">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241018201606114.png"
width="699"
height="304"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241018201606114_hu3029882811398972242.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241018201606114_hu11810229668060151238.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>i1æ˜¯é™¤æ³•æŒ‡ä»¤,i2ä½¿ç”¨i1çš„ç»“æœ,æ‰€ä»¥i1,i2æ‰§è¡Œæ—¶é—´å¾ˆé•¿&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 143;
flex-basis: 345px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160416090.png" data-size="535x372">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160416090.png"
width="535"
height="372"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160416090_hu526346446613648332.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160416090_hu11969902543979219059.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 150;
flex-basis: 361px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160430956.png" data-size="843x559">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160430956.png"
width="843"
height="559"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160430956_hu15166723323535760280.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160430956_hu17217095718010947724.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ç«¯å£éœ€æ±‚">ç«¯å£éœ€æ±‚&lt;/h3>
&lt;p>å¯¹äºä¸€ä¸ª4-wayçš„è¶…æ ‡é‡å¤„ç†å™¨æ¥è¯´,åœ¨ROBä¸­æ¯å‘¨æœŸå¯ä»¥é€€ä¼‘çš„æŒ‡ä»¤ä¸å°‘äº4æ¡,ROBé€‰æ‹©é‚£äº›Completeçš„æŒ‡ä»¤è¿›è¡Œé€€ä¼‘,ä½†æ˜¯ç”±äºæ˜¯é¡ºåºçš„,å¦‚æœè¿ç»­4æ¡ä¸­å‡ºç°ä¸€æ¡not ready ,åç»­çš„å°±æ— æ³•retire&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 146;
flex-basis: 352px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160826543.png" data-size="413x281">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160826543.png"
width="413"
height="281"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160826543_hu2060967638341698444.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026160826543_hu6471094479480740589.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>(1)4ä¸ªè¯»ç«¯å£:retireæ—¶æ£€æµ‹æŒ‡ä»¤æ˜¯å¦complete&lt;/p>
&lt;p>(2)8ä¸ªè¯»ç«¯å£ : åœ¨æµæ°´çº¿çš„å¯„å­˜å™¨é‡å‘½åé˜¶æ®µ,éœ€è¦ä»ROBè¯»å–4æ¡æŒ‡ä»¤çš„æºæ“ä½œæ•° ????&lt;/p>
&lt;p>(3)4ä¸ªå†™ç«¯å£:åˆ†å‘é˜¶æ®µéœ€è¦å‘ROBå†™å…¥4æ¡æŒ‡ä»¤ ????&lt;/p>
&lt;p>(4)æœ€å°‘4ä¸ªå†™ç«¯å£:åœ¨write back é˜¶æ®µ,éœ€è¦å†™å…¥æœ€å°4æ¡æŒ‡ä»¤çš„ç»“æœ (æœ€å°‘æ˜¯ç”±äºå¾ˆå¤šå¤„ç†å™¨çš„issue width &amp;gt; machine width)&lt;/p>
&lt;h2 id="ç®¡ç†å¤„ç†å™¨çš„çŠ¶æ€">ç®¡ç†å¤„ç†å™¨çš„çŠ¶æ€&lt;/h2>
&lt;ol>
&lt;li>Architecture State , é€šç”¨å¯„å­˜å™¨çš„å€¼,PCçš„å€¼,å­˜å‚¨å™¨çš„å€¼&lt;/li>
&lt;li>Speculative State,è¶…æ ‡é‡å¤„ç†å™¨å†…éƒ¨çš„çŠ¶æ€,ä¾‹å¦‚é‡å‘½åä½¿ç”¨çš„ç‰©ç†å¯„å­˜å™¨,é‡æ’åºç¼“å­˜(ROB),å‘å°„é˜Ÿåˆ—(Issue Queue)å’Œstore buffer ç­‰,è¿™äº›çŠ¶æ€è¶…å‰äºæŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€&lt;/li>
&lt;/ol>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 196;
flex-basis: 472px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026162140931.png" data-size="663x337">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026162140931.png"
width="663"
height="337"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026162140931_hu18410339645903847302.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026162140931_hu15498842930549422733.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºé‡‡ç”¨å°†é€šç”¨å¯„å­˜å™¨æ‰©å±•è¿›è¡Œå¯„å­˜å™¨é‡å‘½åçš„æ¶æ„,éœ€è¦å°†ç›®çš„å¯„å­˜å™¨çš„å€¼ä»ç‰©ç†å¯„å­˜å™¨æ¬ç§»åˆ°é€šç”¨å¯„å­˜å™¨ä¸­&lt;/p>
&lt;p>å¯¹äºé‡‡ç”¨é€šç”¨çš„ç‰©ç†å¯„å­˜å™¨è¿›è¡Œé‡å‘½åçš„æ¶æ„,éœ€è¦å°†ç›®çš„å¯„å­˜å™¨åœ¨ç‰©ç†å¯„å­˜å™¨å †ä¸­æ ‡è®°ä¸ºå¤–ç•Œå¯è§çš„çŠ¶æ€???&lt;/p>
&lt;p>å¦‚æœé€€ä¼‘çš„æŒ‡ä»¤æ˜¯store, éœ€è¦æŠŠstore bufferå¯¹åº”çš„å€¼å†™åˆ°D-cacheå»(éš¾é“ä¸æ˜¯å†™å®Œäº†å†é€€ä¼‘çš„å—)&lt;/p>
&lt;p>å¦‚æœé€€ä¼‘çš„æŒ‡ä»¤æ˜¯åˆ†æ”¯æŒ‡ä»¤,éœ€è¦è¿›è¡ŒçŠ¶æ€æ¢å¤,å¹¶ä¸”å†²åˆ·é”™è¯¯æŒ‡ä»¤,ä»æ­£ç¡®åœ°å€å–åœ°å€ ,&lt;/p>
&lt;p>åœ¨æäº¤é˜¶æ®µè¿˜éœ€è¦å¯¹å¼‚å¸¸è¿›è¡Œç»Ÿä¸€å¤„ç†&lt;/p>
&lt;p>ä¸¤ç§æ–¹æ³•&lt;/p>
&lt;p>(1)ä½¿ç”¨ROBç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€&lt;/p>
&lt;p>(2)ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨ç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€&lt;/p>
&lt;h3 id="ä½¿ç”¨robç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€-retire-register-file">ä½¿ç”¨ROBç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€ (Retire Register File)&lt;/h3>
&lt;p>å½“æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™,æŒ‡ä»¤çš„ç»“æœå¯ä»¥å¯¹æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€è¿›è¡Œæ›´æ–°,æ­¤æ—¶ä¼šå°†æŒ‡ä»¤çš„ç»“æœä»ROBä¸­æ¬ç§»åˆ°æŒ‡ä»¤é›†ä¸­å®šä¹‰çš„é€»è¾‘å¯„å­˜å™¨ä¸­.é€»è¾‘å¯„å­˜å™¨å­˜å‚¨äº†æ‰€æœ‰é€€ä¼‘æŒ‡ä»¤å¯¹åº”çš„ç›®çš„å¯„å­˜å™¨çš„å€¼&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 191;
flex-basis: 459px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026192854827.png" data-size="584x305">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026192854827.png"
width="584"
height="305"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026192854827_hu6872805367257657893.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026192854827_hu6988686517471031140.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¸€èˆ¬æƒ…å†µä¸‹,ä½¿ç”¨ROBç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€,éƒ½å¯¹åº”ç€ä½¿ç”¨æ•°æ®æ•æ‰çš„ç»“æ„æ¥è¿›è¡Œå‘å°„(issue),å› ä¸ºæŒ‡ä»¤çš„å†…å®¹ä¼šå­˜åœ¨åœ¨ROBå’Œé€šç”¨å¯„å­˜å™¨å½“ä¸­,é€šè¿‡æ•°æ®æ•æ‰å¯ä»¥åœ¨æ‰§è¡Œé˜¶æ®µæŠŠæ•°æ®é€åˆ°payload RAM ,å¯ä»¥ç›´æ¥ä»payload RAMå»è·å–æ‰€æœ‰æ•°æ®&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 207;
flex-basis: 497px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026193358686.png" data-size="729x352">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026193358686.png"
width="729"
height="352"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026193358686_hu14794657159944181992.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026193358686_hu17778871549113846091.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºéæ•è·é˜Ÿåˆ—,æ²¡æœ‰payload RAM,ç›¸åº”çš„æ•°æ®æ˜¯ç›´æ¥ä»ROBæˆ–è€…é€šç”¨å¯„å­˜å™¨è·å–,æ‰€æœ‰éœ€è¦å‘å°„é˜Ÿåˆ—æ”¯æŒé¢å¤–çš„å†™ç«¯å£(é€šçŸ¥æ“ä½œæ•°çš„ä½ç½®å˜åŠ¨),å’Œé¢å¤–çš„æ—è·¯ç½‘ç»œæ¥&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 224;
flex-basis: 539px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026195235072.png" data-size="690x307">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026195235072.png"
width="690"
height="307"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026195235072_hu12509796414499110516.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026195235072_hu13364150662557934682.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨ç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€">ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨ç®¡ç†æŒ‡ä»¤é›†å®šä¹‰çš„çŠ¶æ€&lt;/h3>
&lt;p>å½“ç‰©ç†å¯„å­˜å™¨çš„ç»“æœè¢«è®¡ç®—å‡ºæ¥ä¹‹å,æŒ‡ä»¤çš„çŠ¶æ€å˜æˆäº†complete,å½“å®ƒé€€ä¼‘çš„æ—¶å€™,ç›´æ¥æŠŠç›¸åº”çš„çŠ¶æ€æ ‡è®°ä¸º Architecture state ,ç›´åˆ°å¦ä¸€æ¡æŒ‡ä»¤å†™å…¥åŒæ ·çš„ç›®æ ‡å¯„å­˜å™¨å¹¶ä¸”é€€ä¼‘äº†,å°±ç›¸å½“äºç›´æ¥æŠŠæŒ‡ä»¤é›†å®šä¹‰çš„é€»è¾‘å¯„å­˜å™¨èå…¥åˆ°ç‰©ç†å¯„å­˜å™¨ä¸­&lt;/p>
&lt;p>(1)å½“æŒ‡ä»¤ä»ROBä¸­é€€ä¼‘ä¹‹å,ä¸éœ€è¦æŠŠæŒ‡ä»¤çš„ç»“æœè¿›è¡Œæ¬ç§»,ä¾¿äºå®ç°ä½åŠŸè€—&lt;/p>
&lt;p>(2)åœ¨åŸºäºROBè¿›è¡ŒçŠ¶æ€ç®¡ç†æ—¶,éœ€è¦ROBå¼€è¾Ÿç©ºé—´å­˜æ”¾æŒ‡ä»¤çš„ç»“æœ,ä½†ä¾‹å¦‚store,æ¯”è¾ƒæŒ‡ä»¤,åˆ†æ”¯æŒ‡ä»¤æ˜¯æ²¡æœ‰ç›®çš„å¯„å­˜å™¨çš„,ROBä¼šæœ‰ä¸€éƒ¨åˆ†ç©ºé—´æµªè´¹æ‰äº†,ä½†æ˜¯è¿™ç§æ–¹æ³•åªä¼šå¯¹äºå­˜åœ¨ç›®çš„å¯„å­˜å™¨çš„æŒ‡ä»¤åˆ†é…ç©ºé—´&lt;/p>
&lt;p>(3)ROBæ˜¯é›†ä¸­ç®¡ç†æ–¹å¼,æŒ‡ä»¤éœ€è¦ä»å…¶ä¸­è¯»å–æ“ä½œæ•°,åŒæ—¶æŒ‡ä»¤ä¹Ÿéœ€è¦æŠŠç»“æœå†™å…¥å…¶ä¸­,éœ€è¦å¤§é‡çš„è¯»å†™ç«¯å£,ä½†æ˜¯ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨å¯ä»¥é‡‡ç”¨clusterç»“æ„ç­‰æ–¹å¼æ¥é¿å…å¤šç«¯å£çš„è´Ÿé¢å½±å“&lt;/p>
&lt;p>ä½†æ˜¯è¿™æ ·ä¼šé€ æˆå¯„å­˜å™¨é‡å‘½åæ¯”è¾ƒå¤æ‚ ,ä½¿ç”¨ROBç®¡ç†æ—¶,åªéœ€è¦å†™å…¥ROBå°±å®Œæˆäº†é‡å‘½å,ä½†æ˜¯ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨ç®¡ç†,éœ€è¦é¢å¤–çš„è¡¨æ ¼å­˜æ”¾å“ªäº›ç‰©ç†å¯„å­˜å™¨æ˜¯ç©ºé—²çš„,å¹¶ä¸”é‡æ˜ å°„å…³ç³»çš„å»ºç«‹å’Œé‡Šæ”¾éƒ½æ¯”è¾ƒå›°éš¾,å¹¶ä¸”éœ€è¦ä¸€ä¸ªé¢å¤–çš„è¡¨æ ¼æ¥å­˜æ”¾é‚£äº›ç‰©ç†å¯„å­˜å™¨æ˜¯Architecture state (è¿™ä¸æ˜¯åŠ ä¸€ä¸ªæ ‡å¿—ä½å°±å¯ä»¥äº†)&lt;/p>
&lt;h2 id="ç‰¹æ®Šæƒ…å†µçš„å¤„ç†">ç‰¹æ®Šæƒ…å†µçš„å¤„ç†&lt;/h2>
&lt;p>åˆ†æ”¯é¢„æµ‹é”™è¯¯,æˆ–è€…å¼‚å¸¸&lt;/p>
&lt;p>storeæŒ‡ä»¤åªæœ‰åœ¨retireé˜¶æ®µæ‰èƒ½å¤ŸçœŸæ­£æ”¹å˜å¤„ç†å™¨çš„çŠ¶æ€(å†™D-cache),å¦‚æœå‘å°„äº†D-cacheç¼ºå¤±,ä¼šé˜»ç¢æµæ°´çº¿ä¸­æ‰€ä»¥åé¢æŒ‡ä»¤ç»§ç»­é€€ä¼‘&lt;/p>
&lt;h3 id="åˆ†æ”¯é¢„æµ‹å¤±è´¥">åˆ†æ”¯é¢„æµ‹å¤±è´¥&lt;/h3>
&lt;p>ä»¥æµæ°´çº¿çš„å¯„å­˜å™¨é‡å‘½åä¸ºåˆ†ç•Œ&lt;/p>
&lt;p>å‰ç«¯çš„çŠ¶æ€å›å¤(front-end recovery):å°†æµæ°´çº¿ä¸­é‡å‘½åé˜¶æ®µä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤éƒ½æŠ¹æ‰,å°†åˆ†æ”¯é¢„æµ‹å™¨ä¸­çš„å†å²çŠ¶æ€æ ‡è¿›è¡Œæ¢å¤,å¹¶ä½¿ç”¨æ­£ç¡®çš„åœ°å€å–æŒ‡ä»¤&lt;/p>
&lt;p>åç«¯çš„çŠ¶æ€æ¢å¤(back-end recovery time):æŠŠå¤„ç†å™¨ä¸­æ‰€æœ‰å†…éƒ¨ç»„ä»¶(Issue Queue,Store Buffer å’Œ ROB)é”™è¯¯çš„æŒ‡ä»¤éƒ½æŠ¹æ‰,æ¢å¤é‡å‘½åæ˜ å°„è¡¨(RAT),ä»¥ä¾¿é‚£äº›é”™è¯¯æŒ‡ä»¤å¯¹RATçš„ä¿®æ”¹è¿›è¡Œæ”¹æ­£,åŒæ—¶è¢«é”™è¯¯çš„æŒ‡ä»¤å æ®çš„ç‰©ç†å¯„å­˜å™¨å’ŒROBçš„ç©ºé—´éœ€è¦è¢«é‡Šæ”¾&lt;/p>
&lt;p>æ»¡è¶³åç«¯æ¢å¤çš„æ—¶é—´å°äºå‰ç«¯æ¢å¤çš„æ—¶é—´+å–æŒ‡å’Œå¯„å­˜å™¨é‡å‘½åçš„æ—¶é—´,ä¸éœ€è¦æš‚åœæµæ°´çº¿&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 917;
flex-basis: 2202px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201405204.png" data-size="514x56">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201405204.png"
width="514"
height="56"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201405204_hu16380282229336755602.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201405204_hu13274219510865086437.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 265;
flex-basis: 636px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201634076.png" data-size="873x329">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201634076.png"
width="873"
height="329"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201634076_hu12408654504628570787.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026201634076_hu13341318665468000535.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="åŸºäºrobé‡å‘½åçš„æ¶æ„åŸºäºæ‰©å±•çš„arfè¿›è¡Œå¯„å­˜å™¨é‡å‘½ååŒç†">åŸºäºROBé‡å‘½åçš„æ¶æ„(åŸºäºæ‰©å±•çš„ARFè¿›è¡Œå¯„å­˜å™¨é‡å‘½ååŒç†)&lt;/h4>
&lt;p>å½“å¯„å­˜å™¨ä½äºROBæ—¶,åœ¨RATä¸­å­˜å‚¨åœ¨ROBçš„ä½ç½®,ä½äºARF,ç›´æ¥è¿›è¡Œå¯»å€ , RATçš„åœ°å€æ˜¯é€»è¾‘å¯„å­˜å™¨çš„å€¼,æ•°æ®æ˜¯å­˜å‚¨ç±»å‹åŠå¯¹åº”å…·ä½“ä½ç½®&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 135;
flex-basis: 324px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026202221475.png" data-size="550x407">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026202221475.png"
width="550"
height="407"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026202221475_hu14505643750566939328.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026202221475_hu15297449480776893135.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¸€æ¡é€€ä¼‘çš„æŒ‡ä»¤å°†ç›®çš„å¯„å­˜å™¨ä»ROBæ¬ç§»åˆ°ARFä¸­å,å¹¶ä¸ä¸€å®šè¡¨ç¤ºä»¥åæŒ‡ä»¤éœ€è¦ä»ARFè¯»å–å¯„å­˜å™¨çš„å€¼&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-assembly" data-lang="assembly">A :ADD R1,R2,R3
B :ADD R1,R1,R4
C :ADD R1,R1,R5
&lt;/code>&lt;/pre>&lt;p>åªæœ‰æŒ‡ä»¤Cçš„æ˜ å°„å…³ç³»ä¼šå†™å…¥åˆ°RATä¸­, å³ä½¿æŒ‡ä»¤Aä»æµæ°´çº¿ä¸­é€€ä¼‘äº†,åç»­çš„æŒ‡ä»¤ä¹Ÿåªä½¿ç”¨æŒ‡ä»¤Cçš„ç»“æœ(why???).ä¸ºäº†å®ç°èƒ½å¤Ÿåœ¨æŒ‡ä»¤å®ç°æ¬ç§»ä¹‹åä»ARFè¯»å–å¯„å­˜å™¨çš„å€¼,åœ¨ROBä¸­çš„æ¯æ¡æŒ‡ä»¤éƒ½ä¼šæ£€æŸ¥è‡ªèº«æ˜¯å¦æ˜¯æœ€æ–°çš„æ˜ å°„å…³ç³»,åªæœ‰å½“ä¸€æ¡æŒ‡ä»¤ä»ROBä¸­é€€ä¼‘çš„æ—¶å€™,å‘ç°è‡ªèº«ä¹Ÿæ˜¯æœ€æ–°çš„æ˜ å°„å…³ç³»,æ‰èƒ½å¤Ÿå°†RATä¸­å¯¹åº”çš„å†…å®¹æ”¹ä¸ºARFçŠ¶æ€&lt;/p>
&lt;p>ä»ROBä¸­é€€ä¼‘çš„æŒ‡ä»¤æ£€æŸ¥è‡ªèº«æ˜¯ä¸æ˜¯æœ€æ–°çš„æ˜ å°„å…³ç³»:åœ¨æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™,ä½¿ç”¨ç›®çš„å¯„å­˜å™¨è¯»å–RAT,è¯»å‡ºé€»è¾‘å¯„å­˜å™¨æ­¤æ—¶å¯¹åº”çš„ROB pointer,å¦‚æœå‘ç°å®ƒå’Œå½“å‰é€€ä¼‘æŒ‡ä»¤åœ¨ROBä¸­å æ®çš„åœ°å€æ˜¯ä¸€æ ·çš„,è¡¨é¢è¿™æ¡é€€ä¼‘çš„æŒ‡ä»¤æ˜¯æœ€æ–°çš„æ˜ å°„å…³ç³»&lt;/p>
&lt;p>åœ¨æµæ°´çº¿ä¸­å‘ç°åˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶(ä¸€èˆ¬æ˜¯åœ¨æ‰§è¡Œé˜¶æ®µ),æ­¤æ—¶æµæ°´çº¿ä¸­æœ‰ä¸€éƒ¨åˆ†æŒ‡ä»¤æ˜¯åœ¨åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰è¿›äººåˆ°æµæ°´çº¿çš„ï¼Œå®ƒä»¬å¯ä»¥è¢«ç»§ç»­æ‰§è¡Œï¼Œå› æ­¤å½“å‘ç°åˆ†æ”¯æŒ‡ä»¤é¢„æµ‹å¤±è´¥æ—¶ï¼Œå¹¶ä¸é©¬ä¸Šè¿›è¡ŒçŠ¶æ€ä¿®å¤ï¼Œè€Œæ˜¯åœæ­¢å–æ–°çš„æŒ‡ä»¤ï¼Œè®©æµæ°´çº¿ç»§ç»­æ‰§è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå°†&lt;strong>æµæ°´çº¿æŠ½å¹²(drain out)&lt;/strong>,ç›´åˆ°åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤(åŒ…æ‹¬åˆ†æ”¯æŒ‡ä»¤æœ¬èº«)éƒ½é€€ä¼‘ã€‚æ­¤æ—¶ ARF ä¸­æ‰€æœ‰å¯„å­˜å™¨çš„å†…å®¹éƒ½æ˜¯æ­£ç¡®çš„ï¼ŒåŒæ—¶åœ¨æµæ°´çº¿ä¸­çš„æ‰€æœ‰æŒ‡ä»¤éƒ½æ˜¯å¤„äºé”™è¯¯çš„è·¯å¾„ä¸Šï¼Œå¯ä»¥å°†æµæ°´çº¿ä¸­çš„æŒ‡ä»¤å…¨éƒ¨æŠ¹æ‰ï¼Œç„¶åå°† RAT ä¸­æ‰€æœ‰çš„å†…å®¹éƒ½æ ‡è®°ä¸º ARF çŠ¶æ€ï¼Œè¿™æ ·å¤„ç†å™¨å°±ä»åˆ†æ”¯é¢„æµ‹å¤±è´¥çš„çŠ¶æ€æ¢å¤è¿‡æ¥äº†ï¼Œæ­¤æ—¶å¯ä»¥ä»æ­£ç¡®çš„åœ°å€å¼€å§‹å–æŒ‡.&lt;/p>
&lt;p>ä¼˜ç‚¹:é‡å‘½åæ˜“äºå®ç°,çŠ¶æ€æ¢å¤å®¹æ˜“&lt;/p>
&lt;h4 id="åŸºäºç»Ÿä¸€çš„prfè¿›è¡Œé‡å‘½åçš„æ¶æ„">åŸºäºç»Ÿä¸€çš„PRFè¿›è¡Œé‡å‘½åçš„æ¶æ„&lt;/h4>
&lt;p>ä¸¤ä¸ªRAT (å‰ç«¯RAT(Speculative RAT)å’Œåç«¯RAT(Architecture RAT)),å¯ä»¥ä½¿ç”¨åç«¯RATå¯¹å¤„ç†å™¨è¿›è¡ŒçŠ¶æ€æ¢å¤&lt;/p>
&lt;p>å’Œå‰é¢ç±»ä¼¼,å½“å‘ç°åˆ†æ”¯æŒ‡ä»¤é¢„æµ‹å¤±è´¥æ—¶ï¼Œå¹¶ä¸é©¬ä¸Šè¿›è¡ŒçŠ¶æ€ä¿®å¤ï¼Œè€Œæ˜¯åœæ­¢å–æ–°çš„æŒ‡ä»¤ï¼Œè®©æµæ°´çº¿ç»§ç»­æ‰§è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå°†&lt;strong>æµæ°´çº¿æŠ½å¹²(drain out)&lt;/strong>,ç›´åˆ°åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤(åŒ…æ‹¬åˆ†æ”¯æŒ‡ä»¤æœ¬èº«)éƒ½é€€ä¼‘,ä¹‹åå¯ä»¥å°†æµæ°´çº¿ä¸­çš„æŒ‡ä»¤å…¨éƒ¨æŠ¹æ‰ï¼Œç„¶åå°†åç«¯RAT ä¸­æ‰€æœ‰çš„å†…å®¹éƒ½å¤åˆ¶åˆ°å‰ç«¯RATï¼Œè¿™æ ·å¤„ç†å™¨å°±ä»åˆ†æ”¯é¢„æµ‹å¤±è´¥çš„çŠ¶æ€æ¢å¤è¿‡æ¥äº†ï¼Œæ­¤æ—¶å¯ä»¥ä»æ­£ç¡®çš„åœ°å€å¼€å§‹å–æŒ‡.è¿™ç§æ–¹æ³•å°±æ˜¯&lt;strong>Recovery at Retire&lt;/strong>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 153;
flex-basis: 368px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026214726040.png" data-size="609x397">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026214726040.png"
width="609"
height="397"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026214726040_hu6396325282664157643.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026214726040_hu7500078327809743159.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>è¿˜æ˜¯ä¼šé‡åˆ°é—®é¢˜,å°±æ˜¯åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰å­˜åœ¨D-cacheç¼ºå¤±çš„æŒ‡ä»¤,ä¼šç­‰å¾…æ—¶é—´è¿‡ç¨‹å¯¼è‡´åˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶çš„æƒ©ç½š(mis-prediction penalty)è¿‡å¤§&lt;/p>
&lt;p>ä¸ºäº†è§£å†³ä¸Šè¿°é—®é¢˜,å¯ä»¥ä½¿ç”¨checkpoint,å³åœ¨æ¯æ¡åˆ†æ”¯æŒ‡ä»¤æ”¹å˜å¤„ç†å™¨çŠ¶æ€ä¹‹å‰,æŠŠå¤„ç†å™¨çš„çŠ¶æ€ä¿å­˜èµ·æ¥,ç„¶åé€šè¿‡åˆ†æ”¯æŒ‡ä»¤ç¼–å·é€‰æ‹©æ€§å»æŠ¹é™¤æµæ°´çº¿é”™è¯¯è·¯å¾„çš„æŒ‡ä»¤,ç„¶åä½¿ç”¨checkpointå»æ¢å¤RAT,åŸºäºSRAMçš„RATéœ€è¦ä¿å­˜æ•´ä¸ªè¡¨æ ¼,åŸºäºCAMçš„RATåªéœ€è¦ä¿å­˜æ˜ å°„è¡¨ä¸­çš„çŠ¶æ€ä½&lt;/p>
&lt;p>è¿˜å¯ä»¥å»é€‰æ‹©æ€§çš„åˆ†é…checkpointçš„èµ„æº,å¯¹äºåˆ†æ”¯é¢„æµ‹é”™è¯¯ç‡æ¯”è¾ƒé«˜çš„æ‰åˆ†é…checkpoint,ä½†æ˜¯å¦‚æœåˆ†æ”¯é¢„æµ‹å¤±è´¥,è¿˜æ˜¯éœ€è¦é‡‡ç”¨Recovery at Retireæ¢å¤,ä¹Ÿå¯ä»¥ä½¿ç”¨ROBè¿›è¡Œæ¢å¤,å› ä¸ºROBä¸­è¿˜æ˜¯ä¿å­˜ç€æ—§çš„æ˜ å°„å…³ç³»,å³è®°å½•ç€æ¯æ¡æŒ‡ä»¤å¯¹äºé‡å‘½åæ˜ å°„è¡¨çš„ä¿®æ”¹&lt;/p>
&lt;h3 id="å¼‚å¸¸çš„å¤„ç†">å¼‚å¸¸çš„å¤„ç†&lt;/h3>
&lt;p>ä½¿ç”¨ROBå»é¡ºåºçš„æ‰§è¡Œæ‰€æœ‰çš„å¼‚å¸¸&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 393;
flex-basis: 945px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220112144.png" data-size="831x211">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220112144.png"
width="831"
height="211"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220112144_hu16578964903247613817.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220112144_hu7093890399153564677.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨æŒ‡ä»¤å³å°†è¦é€€ä¼‘çš„æ—¶å€™,å¦‚æœå‘ç”Ÿäº†å¼‚å¸¸å°±ä¸èƒ½é€€ä¼‘,è€Œæ˜¯è¦å»è½¬è€Œå¤„ç†å¼‚å¸¸&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 330;
flex-basis: 794px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220145671.png" data-size="791x239">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220145671.png"
width="791"
height="239"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220145671_hu12721806047334324940.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241026220145671_hu12980922077329163659.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ç²¾ç¡®å¼‚å¸¸:å¤„ç†å™¨èƒ½å¤ŸçŸ¥é“å“ªæ¡æŒ‡ä»¤å‘ç”Ÿäº†å¼‚å¸¸,å¹¶ä¸”è¿™æ¡å‘ç”Ÿå¼‚å¸¸çš„æŒ‡ä»¤ä¹‹åæ‰€æœ‰çš„æŒ‡ä»¤éƒ½ä¸å…è®¸æ”¹å˜å¤„ç†å™¨çš„çŠ¶æ€,è¿™æ ·åœ¨å¤„ç†å®Œå¼‚å¸¸ä¹‹å,å¯ä»¥ç²¾ç¡®çš„è¿›è¡Œè¿”å›,è¿”å›åœ°æ–¹æœ‰ä¸¤ç§,(1)è¿”å›åˆ°å‘ç”Ÿå¼‚å¸¸æŒ‡ä»¤æœ¬èº«,é‡æ–°æ‰§è¡ŒæŒ‡ä»¤(TLBç¼ºå¤±),(2)ä¸é‡æ–°æ‰§è¡ŒæŒ‡ä»¤,è€Œæ˜¯è¿”å›åˆ°å®ƒçš„ä¸‹ä¸€æ¡æŒ‡ä»¤(ç³»ç»Ÿè°ƒç”¨) ,ç²¾ç¡®å¼‚å¸¸éœ€è¦æŠ¹å»äº§ç”Ÿå¼‚å¸¸çš„æŒ‡ä»¤åé¢çš„æ‰€æœ‰æŒ‡ä»¤,å¹¶å›å¤å¤„ç†å™¨ä¿®æ”¹çš„çŠ¶æ€&lt;/p>
&lt;p>å¯ä»¥é‡‡ç”¨å‰é¢æ‰€è¯´çš„Recovery ai Retireæ¥æ¢å¤å¼‚å¸¸&lt;/p>
&lt;p>è¿˜æœ‰ä¸€ç§æ–¹æ³•å°±æ˜¯WALK,é€šè¿‡ROBä¿å­˜çš„æ—§æ•°æ®æ¥æ¢å¤&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 234;
flex-basis: 562px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027150107021.png" data-size="727x310">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027150107021.png"
width="727"
height="310"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027150107021_hu11962430676454193348.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027150107021_hu7737992814455827596.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨ä½¿ç”¨ç»Ÿä¸€çš„PRFè¿›è¡Œå¯„å­˜å™¨é‡å‘½åçš„æ–¹å¼ä¸­,å’ŒRATç›¸å…³çš„è¿˜æœ‰ä¸¤ä¸ªè¡¨æ ¼,ä¸€ä¸ªå­˜å‚¨é‚£äº›ç‰©ç†å¯„å­˜å™¨æ˜¯ç©ºé—²çš„,Free Register ,ä¸€ä¸ªå­˜å‚¨ç‰©ç†å¯„å­˜å™¨çš„å€¼æ˜¯å¦è¢«è®¡ç®—å‡ºæ¥,Busy Table&lt;/p>
&lt;p>å¯¹äºFree Register Pool ,å› ä¸ºåˆšåˆšè¯»å–çš„å†…å®¹ä¸ä¼šæ¶ˆå¤±,ä¸ä¼šè¢«é€€ä¼‘çš„æŒ‡ä»¤è¦†ç›–,æ‰€ä»¥åªéœ€è¦æ¢å¤è¯»æŒ‡é’ˆ,å¯ä»¥åˆ©ç”¨ROBçš„æ—§æ˜ å°„å…³ç³»æ¥è¿›è¡Œæ¢å¤(å¦‚æœæ˜¯é¡ºåºè¯»å–Free Register Poolçš„è¯å…¶å®æ„Ÿè§‰åªéœ€è¦å›é€€è¯»æŒ‡é’ˆå°±å¯ä»¥äº†)&lt;/p>
&lt;p>å¯¹äºBusy Table,ç”±äºæŒ‡ä»¤è¿ç®—å®Œæˆä¹‹å,å°±å¯ä»¥åœ¨å†™å›é˜¶æ®µå†™å…¥å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,æ‰€ä»¥åœ¨å‘ç”Ÿå¼‚å¸¸æ—¶,Busy Tableå·²ç»è¿›è¡Œäº†å¤šæ¬¡ä¿®æ”¹.è¿˜æ˜¯å¯ä»¥é€šè¿‡ROB,åœ¨ä»ROBè¯»å–æŒ‡ä»¤æ—¶,æ¯è¯»å–ä¸€æ¡æŒ‡ä»¤,å°±å°†æŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨åœ¨Busy Tableå¯¹åº”çš„å†…å®¹ç½®ä¸ºæ— æ•ˆ ,è¿™æ ·åç»­çš„æŒ‡ä»¤ä¹Ÿä¸ä¼šä½¿ç”¨åˆ°é”™è¯¯çš„å€¼äº†&lt;/p>
&lt;p>å¯¹äºç»Ÿä¸€çš„PRFè¿›è¡Œé‡å‘½åçš„æ¶æ„,ä½¿ç”¨WALKçš„æ–¹æ³•æ˜¯åˆé€‚çš„,å› ä¸ºæ¶‰åŠåˆ°å¯¹Free Register Poolå’ŒBusy Tableçš„æ¢å¤&lt;/p>
&lt;h3 id="ä¸­æ–­çš„å¤„ç†">ä¸­æ–­çš„å¤„ç†&lt;/h3>
&lt;p>ä¸­æ–­æ˜¯å¤„ç†å™¨å¤–éƒ¨å‘ç”Ÿçš„ ,æ˜¯å¼‚æ­¥çš„&lt;/p>
&lt;p>(1)é©¬ä¸Šå¤„ç†,å½“ä¸­æ–­å‘ç”Ÿæ—¶,å°±å°†æµæ°´çº¿ä¸­çš„æŒ‡ä»¤å…¨éƒ¨æŠ¹æ‰,æŒ‰ç…§å¼‚å¸¸å¤„ç†çš„æ–¹å¼è¿›è¡Œæ¢å¤,å¹¶å°†æµæ°´çº¿ä¸­æœ€æ—§çš„æŒ‡ä»¤PCå€¼(è¿˜æœ‰å…¶ä»–çŠ¶æ€å¯„å­˜å™¨)ä¿å­˜èµ·æ¥,ç„¶åè·³è½¬åˆ°å¯¹åº”çš„ä¸­æ–­å¤„ç†ç¨‹åº,è¿”å›æ—¶,ä½¿ç”¨ä¿å­˜çš„PCå€¼é‡æ–°å–æŒ‡ä»¤ .è¿™ç§æ–¹å¼å®æ—¶æ€§æœ€å¼º,ä½†æ˜¯ç›¸å½“äºä¹‹å‰çš„é‚£äº›æŒ‡ä»¤éœ€è¦é‡æ–°æ‰§è¡Œ&lt;/p>
&lt;p>(2)å»¶è¿Ÿå¤„ç† .å½“ä¸­æ–­å‘ç”Ÿæ—¶ï¼Œæµæ°´çº¿åœæ­¢å–æŒ‡ä»¤ï¼Œä½†æ˜¯è¦ç­‰åˆ°æµæ°´çº¿ä¸­æ‰€æœ‰çš„æŒ‡ä»¤éƒ½é€€ä¼‘(retire)ä¹‹åæ‰å¯¹è¿™ä¸ªä¸­æ–­è¿›è¡Œå¤„ç†ï¼Œè¿™æ ·èƒ½å¤Ÿä¿è¯æµæ°´çº¿ä¸­è¿™äº›å·²æœ‰çš„æŒ‡ä»¤ä¸è¢«â€œæµªè´¹â€,è€Œä¸”å½“æµæ°´çº¿ä¸­æ‰€æœ‰çš„æŒ‡ä»¤éƒ½é€€ä¼‘ä¹‹åï¼Œæ­¤æ—¶æµæ°´çº¿çš„çŠ¶æ€è‚¯å®šæ˜¯æ­£ç¡®çš„ï¼Œä¹Ÿå°±ä¸éœ€è¦è¿›è¡ŒçŠ¶æ€æ¢å¤äº†ã€‚&lt;/p>
&lt;p>(1)å¦‚æœåœ¨æµæ°´çº¿ä¸­çš„è¿™äº›æŒ‡ä»¤å‘ç”Ÿäº† D-Cache ç¼ºå¤±ï¼Œé‚£ä¹ˆéœ€è¦å¾ˆé•¿çš„æ—¶é—´æ‰èƒ½å¤Ÿè§£å†³ï¼Œè¿™æ ·å¯¼è‡´äº†è¿‡é•¿çš„ä¸­æ–­å“åº”æ—¶é—´ã€‚
(2)å¦‚æœåœ¨æµæ°´çº¿ä¸­å‘ç°äº†ä¸€æ¡é¢„æµ‹å¤±è´¥çš„åˆ†æ”¯æŒ‡ä»¤ï¼Œé‚£ä¹ˆé¦–å…ˆéœ€è¦å¯¹è¿™ä¸ªæƒ…å†µè¿›è¡Œå¤„ç†ï¼Œå°†å¤„ç†å™¨çš„çŠ¶æ€è¿›è¡Œæ¢å¤ï¼Œè¿™éœ€è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´ï¼Œä¹Ÿé€ æˆäº†ä¸­æ–­å“åº”æ—¶é—´çš„å¢å¤§ã€‚&lt;/p>
&lt;p>(3)å¦‚æœæµæ°´çº¿ä¸­çš„è¿™äº›æŒ‡ä»¤ä¸­å‘ç”Ÿäº†å¼‚å¸¸(exception),é‚£ä¹ˆæ˜¯å…ˆå¯¹å¼‚å¸¸è¿›è¡Œå¤„ç†ï¼Œè¿˜æ˜¯å…ˆå¯¹ä¸­æ–­è¿›è¡Œå¤„ç†ï¼Ÿè¿™éœ€è¦ä»”ç»†åœ°è¿›è¡Œæƒè¡¡ï¼Œä½†æ˜¯ä¸€èˆ¬æ¥è¯´ï¼Œåº”è¯¥æ˜¯å…ˆå¯¹ä¸­æ–­è¿›è¡Œå¤„ç†ï¼Œ å› ä¸ºå¾ˆå¤šç±»å‹çš„å¼‚å¸¸å¤„ç†éœ€è¦è€—è´¹å¾ˆé•¿çš„æ—¶é—´ï¼Œå¦‚ D-Cache ç¼ºå¤±ã€TLB ç¼ºå¤±æˆ–è€… Page Faultç­‰ï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¸­æ–­çš„å“åº”æ—¶é—´è®¨é•¿è€Œæ— æ³•å¿å—ã€‚&lt;/p>
&lt;h3 id="storeæŒ‡ä»¤çš„å¤„ç†">storeæŒ‡ä»¤çš„å¤„ç†&lt;/h3>
&lt;p>storeæŒ‡ä»¤é€šå¸¸åœ¨retireä¹‹å‰éƒ½æ˜¯ä¸å†™å…¥D-cacheçš„,å®ƒä¼šå†™å…¥store buffer,è¿™æ ·loadæŒ‡ä»¤å°±ä¼šä»store buffer æˆ–è€…D-cacheå»è·å–æ•°æ®.è¿™ç§æ–¹æ³•æœ€å®‰å…¨,ä½†æ˜¯ä¸€æ—¦storeæŒ‡ä»¤D-cacheç¼ºå¤±,éœ€è¦ç­‰å¾…å¾ˆé•¿çš„æ—¶é—´,ä¼šé€ æˆROBçš„å µå¡&lt;/p>
&lt;p>å¯ä»¥åœ¨store bufferä¸­å¢åŠ ä¸€ä¸ªçŠ¶æ€ä½,æ ‡è®°storeæŒ‡ä»¤æ˜¯å¦å…·å¤‡é€€ä¼‘çš„æ¡ä»¶,è¿™æ ·storeåœ¨ç¼“å­˜ä¸­æœ‰3ä¸ªçŠ¶æ€&lt;/p>
&lt;p>un-complete(æœªæ‰§è¡Œå®Œæ¯•),å½“storeæŒ‡ä»¤åœ¨åˆ†å‘é˜¶æ®µå æ®ä¸€ä¸ªstore bufferçš„æ—¶å€™æ ‡è®°ä¸ºun-complete&lt;/p>
&lt;p>complete(å·²ç»æ‰§è¡Œå®Œæ¯•),å½“storeæŒ‡ä»¤å·²ç»å¾—åˆ°åœ°å€å’Œæ•°æ®,ä½†æ˜¯æ²¡æœ‰å˜æˆæœ€æ—§çš„æŒ‡ä»¤,æ ‡è®°ä¸ºcomplete&lt;/p>
&lt;p>(retire)ç¦»å¼€æµæ°´çº¿,å½“storeæŒ‡ä»¤æˆä¸ºæœ€æ—§çš„æŒ‡ä»¤å¹¶é€€ä¼‘æ˜¯,åœ¨store bufferæ ‡è®°è¯¥çŠ¶æ€,è¿™æ ·storeæŒ‡ä»¤å¯ä»¥ç¦»å¼€ROB,å°±ä¸ä¼šé˜»ç¢åé¢çš„æŒ‡ä»¤ç¦»å¼€æµæ°´çº¿,è€Œç¡¬ä»¶ä¼šè‡ªåŠ¨å°†store bufferä¸­å¤„äºretireçŠ¶æ€çš„storeæŒ‡ä»¤å†™åˆ°D-cacheä¸­,å¹¶ä¸”æ­¤æ—¶store bufferä¸­çš„retireçš„å†…å®¹ä¹Ÿä¼šæˆä¸ºArchitecture stateçš„ä¸€éƒ¨åˆ†&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 222;
flex-basis: 532px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154045976.png" data-size="715x322">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154045976.png"
width="715"
height="322"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154045976_hu1744290998666272899.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154045976_hu16397971302973277069.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>store bufferä¸­çš„æŒ‡ä»¤åªæœ‰åœ¨å®Œæˆå†™D-cacheçš„ä»»åŠ¡ä¹‹åæ‰ä¼šé‡Šæ”¾ç©ºé—´,è¿™æ ·ä¼šé€ æˆåˆ†å‘ä¹‹å‰çš„æµæ°´çº¿å‘ç”Ÿé˜»å¡,å¯ä»¥æŠŠå·²ç»é€€ä¼‘çš„storeæŒ‡ä»¤å­˜å‚¨åœ¨ä¸€ä¸ªå«åšwrite back bufferçš„åœ°æ–¹,ç¡¬ä»¶ä¼šè‡ªåŠ¨å°†write back bufferçš„storeæŒ‡ä»¤å†™åˆ°D-cacheä¸­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 277;
flex-basis: 665px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154430488.png" data-size="721x260">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154430488.png"
width="721"
height="260"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154430488_hu13023071255000305450.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027154430488_hu3884197430323085139.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>è¿™æ ·write back bufferä¹Ÿä¼šæˆä¸ºArchitecture stateçš„ä¸€éƒ¨åˆ†,loadæŒ‡ä»¤éœ€è¦åœ¨store bufferå’Œwrite back bufferä¸­æŸ¥æ‰¾.ä¸€æ—¦write back bufferæ²¡æœ‰ç©ºé—´äº†,å°±ä¸èƒ½å†å°†storeæŒ‡ä»¤é€€ä¼‘&lt;/p>
&lt;p>store æŒ‡ä»¤ä¹Ÿæ˜¯é¡ºåºè¿›å…¥write back bufferçš„,ä½†æ˜¯åœ¨è¿›å…¥çš„åŒæ—¶éœ€è¦æŸ¥æ‰¾æœ‰æ²¡æœ‰å†™å…¥ç›¸åŒåœ°å€çš„storeæŒ‡ä»¤,æœ‰çš„è¯éœ€è¦æŠŠå‰é¢çš„storeæŒ‡ä»¤ç½®ä¸ºæ— æ•ˆ ,ä¿è¯loadèƒ½å¤ŸæŸ¥æ‰¾ç½ªè¡Œçš„æ•°æ®&lt;/p>
&lt;p>å¯¹äºè½¯ä»¶å¤„ç†TLBç¼ºå¤±çš„å¤„ç†å™¨,åœ¨storeæŒ‡ä»¤éœ€è¦é€€ä¼‘æ—¶,å¦‚æœROBä¸­è®°å½•äº†TLBç¼ºå¤±çš„å¼‚å¸¸,é‚£ä¹ˆstoreæŒ‡ä»¤ä¸èƒ½å¤Ÿè¿›å…¥write back buffer,è€Œæ˜¯éœ€è¦å¼‚å¸¸çš„å¤„ç†,éœ€è¦å°†æµæ°´çº¿æ¸…ç©º,è¿›è¡Œå¤„ç†å™¨çš„çŠ¶æ€æ¢å¤.ç„¶åè·³è½¬åˆ°å¯¹åº”çš„å¼‚å¸¸å¤„ç†ç¨‹åºä¸­å»,å¤„ç†å®Œä¹‹åé‡æ–°æ‰§è¡Œstore,è¿™æ ·å¯ä»¥ä¿è¯æ‰€æœ‰è¿›å…¥write back bufferä¸­çš„storeæŒ‡ä»¤ä¸ä¼šäº§ç”ŸTLBç¼ºå¤±&lt;/p>
&lt;h3 id="æŒ‡ä»¤ç¦»å¼€æµæ°´çº¿çš„é™åˆ¶">æŒ‡ä»¤ç¦»å¼€æµæ°´çº¿çš„é™åˆ¶&lt;/h3>
&lt;p>åœ¨4-wayçš„è¶…æ ‡é‡å¤„ç†å™¨ä¸­,å¦‚æœROBä¸­æœ€æ—§çš„å››æ¡æŒ‡ä»¤éƒ½å¤„äºcompleteçŠ¶æ€,ç†è®ºä¸Šå››æ¡æŒ‡ä»¤éƒ½èƒ½å¤Ÿé€€ä¼‘&lt;/p>
&lt;p>ä½†æ˜¯
(1)æ¯å‘¨æœŸæœ‰å››æ¡storeæŒ‡ä»¤é€€ä¼‘,æ„å‘³ç€D-Cacheæˆ–è€…Write Back Bufferéœ€è¦æ”¯æŒå››ä¸ªå†™ç«¯å£&lt;/p>
&lt;p>(2)æ¯å‘¨æœŸæœ‰å››æ¡åˆ†æ”¯æŒ‡ä»¤é€€ä¼‘,æ„å‘³ç€æ²¡å‘¨æœŸéœ€è¦å°†å››æ¡åˆ†æ”¯æŒ‡ä»¤çš„ä¿¡æ¯å†™å›åˆ†æ”¯é¢„æµ‹å™¨,è¿™éœ€è¦åˆ†æ”¯é¢„æµ‹å™¨ä¸­æ˜¯å¶æœ‰éƒ¨ä»¶éœ€è¦æ”¯æŒå››ä¸ªå†™ç«¯å£,åŒæ—¶éœ€è¦èƒ½å¤Ÿå°†Checkpointèµ„æºåœ¨æ¯å‘¨æœŸé‡Šæ”¾å››ä¸ª&lt;/p>
&lt;p>(3)å¦‚æœåœ¨å¤„ç†å™¨ä¸­å¯¹ store/load æŒ‡ä»¤ä¹‹é—´çš„ç›¸å…³æ€§å®ç°äº†é¢„æµ‹ï¼Œå³é¢„æµ‹ä¸€æ¡ load æŒ‡ä»¤æ˜¯å¦ä¼šå’Œå®ƒä¹‹å‰çš„ store æŒ‡ä»¤å­˜åœ¨ç›¸å…³æ€§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæ¯å‘¨æœŸæœ‰å››æ¡ load æŒ‡ä»¤é€€ä¼‘ï¼Œæ„å‘³ç€æ¯å‘¨æœŸéœ€è¦å°†å››æ¡ load æŒ‡ä»¤çš„ä¿¡æ¯å†™å›åˆ°ç›¸å…³çš„é¢„æµ‹å™¨ä¸­ï¼Œè¿™ä¹Ÿå¯¼è‡´äº†å››ä¸ªå†™ç«¯å£çš„éœ€æ±‚ã€‚&lt;/p>
&lt;p>ä½†æ˜¯ä¸Šè¿°æƒ…å†µå‡ºç°çš„æ¦‚ç‡å¾ˆå°,æ‰€ä»¥å¢åŠ ç¡¬ä»¶ç»“æ„ä¸å¦‚å¯¹æŒ‡ä»¤è¿›è¡Œé™åˆ¶,æ¯”æ–¹è¯´é™åˆ¶æ¯æ¬¡é€€ä¼‘çš„åˆ†æ”¯æŒ‡ä»¤åªèƒ½æœ‰1æ¡ä¹‹ç±»çš„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 251;
flex-basis: 604px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027205917686.png" data-size="735x292">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027205917686.png"
width="735"
height="292"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027205917686_hu8938038301564095761.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B05/image-20241027205917686_hu5547790577299267913.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>br_mask = 1110 (å¦‚æœå‡è®¾åˆ†æ”¯æŒ‡ä»¤æ˜¯1,é‚£å¯¹åˆ†æ”¯æŒ‡ä»¤è¿›è¡Œå¼‚æˆ–åº”è¯¥èƒ½å¤Ÿå¾—åˆ°1110è¿™ä¸€ä¸²æ•°å­—), st_mask = 1111 , ld_mask = 1111 ,é‚£ä¹ˆä»£è¡¨ç¬¬å››æ¡æŒ‡ä»¤æ˜¯ç¬¬äºŒæ¡åˆ†æ”¯æŒ‡ä»¤,å†æŠŠ3ä¸ªç»“æœç›¸ä¸,å¾—åˆ°1110,ä»£è¡¨åªæœ‰å‰ä¸‰æ¡æŒ‡ä»¤æœ‰èµ„æ ¼é€€ä¼‘&lt;/p>
&lt;p>åŒç†,å¯¹äºå¼‚å¸¸æŒ‡ä»¤,ä¹Ÿåªèƒ½é€€ä¼‘ä¸€æ¡,æ‰€ä»¥åœ¨æ£€æµ‹åˆ°å¼‚å¸¸æŒ‡ä»¤ä¹‹å,éœ€è¦å¯¹åç»­çš„æŒ‡ä»¤è¿›è¡Œå±è”½&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>æ‰§è¡Œ</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/</link><pubDate>Tue, 22 Oct 2024 13:17:32 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/</guid><description>&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 135;
flex-basis: 326px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143017468.png" data-size="560x412">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143017468.png"
width="560"
height="412"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143017468_hu15249404520933549812.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143017468_hu12474515009045795584.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ—è·¯ç½‘ç»œ:è´Ÿè´£å°†FUçš„è¿ç®—ç»“æœé€åˆ°éœ€è¦çš„åœ°æ–¹&lt;/p>
&lt;p>æ¯ä¸ªFUéƒ½å’Œä¸€ä¸ª1-of-Mçš„ä»²è£ç”µè·¯ä¸€ä¸€å¯¹åº”,è¢«é€‰æ‹©çš„æŒ‡ä»¤å»è¯»å–ç‰©ç†å¯„å­˜å™¨å †(æˆ–è€…payload RAM),ä»è€Œå¾—åˆ°å¯¹åº”çš„æ“ä½œæ•°,æ¯ä¸ªä»²è£ç”µè·¯å’Œç‰©ç†å¯„å­˜å™¨ä¹Ÿæ•°ä¸€ä¸€å¯¹åº”çš„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 130;
flex-basis: 312px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143442602.png" data-size="596x458">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143442602.png"
width="596"
height="458"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143442602_hu14086456258735412881.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023143442602_hu12825982916654345585.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="fuçš„ç±»å‹">FUçš„ç±»å‹&lt;/h2>
&lt;h3 id="alu">ALU&lt;/h3>
&lt;h3 id="aguaddress-generate-unit">AGU(address generate unit)&lt;/h3>
&lt;p>ç”¨äºè®¡ç®—è®¿é—®å­˜å‚¨å™¨ç±»å‹çš„æŒ‡ä»¤åœ¨æŒ‡ä»¤ä¸­æºå¸¦çš„åœ°å€&lt;/p>
&lt;h3 id="brubranch-unit">BRU(Branch Unit)&lt;/h3>
&lt;p>è´Ÿè´£å¤„ç†ç¨‹åºæ§åˆ¶æµ(control flow)ç±»å‹çš„æŒ‡ä»¤&lt;/p>
&lt;p>è´Ÿè´£å°†åˆ†æ”¯æŒ‡ä»¤æºå¸¦çš„ç›®æ ‡åœ°å€è®¡ç®—å‡ºæ¥,å¹¶ä¸”æ ¹æ®ä¸€å®šçš„æƒ…å†µæ¥å†³å®šæ˜¯å¦ä½¿ç”¨åœ°å€,åŒæ—¶å¯¹è¿›è¡Œåˆ†æ”¯é¢„æµ‹æ­£ç¡®ä¸å¦çš„åˆ¤æ–­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 137;
flex-basis: 330px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145819993.png" data-size="361x262">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145819993.png"
width="361"
height="262"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145819993_hu14722048187769645653.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145819993_hu16491768975060659322.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºARMå’ŒPowerPCåœ¨æ¯ä¸€æ¡æŒ‡ä»¤éƒ½åŠ å…¥çš„æ¡ä»¶ç ,ä¸å±€é™äºåˆ†æ”¯æŒ‡ä»¤,ç›¸å½“äºå§ç¨‹åºä¸­çš„æ§åˆ¶ç›¸å…³æ€§ä½¿ç”¨æ•°æ®ç›¸å…³æ€§ä»£æ›¿äº†,è¿™æ ·å¯ä»¥é™ä½åˆ†æ”¯æŒ‡ä»¤ä½¿ç”¨çš„é¢‘ç‡,ä½†æ˜¯æ¡ä»¶æ‰§è¡Œä¼šå æ®æŒ‡ä»¤ç¼–ç çš„ä½æ•°,å‡å°‘æŒ‡ä»¤ä¸­åˆ†é…ç»™é€šç”¨å¯„å­˜å™¨çš„éƒ¨åˆ†,å¹¶ä¸”å¯èƒ½ä¼šå‡ºç°å¾ˆå¤šæ¡æ— æ•ˆçš„æŒ‡ä»¤,åè€Œå¯èƒ½ä¼šé™ä½æ•ˆç‡&lt;/p>
&lt;p>è€Œä¸”,å¦‚æœè·³è½¬æŒ‡ä»¤çš„æ¡ä»¶ä¸æˆç«‹,æ¯”æ–¹è¯´ä¸‹é¢çš„ADDæŒ‡ä»¤,å¯èƒ½å°±ä¼šä½¿ç”¨é”™è¯¯çš„æ•°æ®,å¯ä»¥é€šè¿‡æš‚åœæµæ°´çº¿æˆ–è€…é¢„æµ‹çš„æ–¹å¼æ¥è§£å†³&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 239;
flex-basis: 575px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145959666.png" data-size="571x238">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145959666.png"
width="571"
height="238"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145959666_hu13405921241260827723.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023145959666_hu16403348829444298644.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 369;
flex-basis: 887px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023151843118.png" data-size="551x149">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023151843118.png"
width="551"
height="149"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023151843118_hu7430235981767082100.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023151843118_hu13488875576436232187.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="select-uopæŒ‡ä»¤">select-uOPæŒ‡ä»¤&lt;/h4>
&lt;p>å¯¹äºIntel,é€šè¿‡ç¡¬ä»¶æ’å…¥é¢å¤–çš„æŒ‡ä»¤æ¥é€‰æ‹©æ­£ç¡®çš„ç»“æœ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 296;
flex-basis: 711px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023152400515.png" data-size="516x174">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023152400515.png"
width="516"
height="174"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023152400515_hu5632629170899648535.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023152400515_hu18321081067909416502.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>é€šè¿‡åŠ å…¥uOPæ¥é€‰æ‹©ç»“æœ,ä½†æ˜¯è¿™è¦æ±‚æ¡ä»¶æ‰§è¡Œçš„æŒ‡ä»¤å¿…é¡»æˆå¯¹å‡ºç°,ä½†æ˜¯è¿™æ ·å¯¹ç¼–è¯‘å™¨å­˜åœ¨ä¸€å®šçš„åˆ¶çº¦,å¯ä»¥é‡‡å–å¯¹äºæ¯ä¸€æ¡æ¡ä»¶æŒ‡ä»¤éƒ½åŠ å…¥select-uOPçš„æ–¹æ³•æ¥è§£å†³,å°±ç›¸å½“äºåœ¨æ‰§è¡Œå®Œæˆæ¡ä»¶æŒ‡ä»¤ä¹‹å,åˆå¯¹æ‰§è¡Œæ¡ä»¶æŒ‡ä»¤ä¹‹åçš„å€¼å’Œæ‰§è¡Œæ¡ä»¶æŒ‡ä»¤ä¹‹å‰çš„å€¼è¿›è¡Œäº†ä¸€æ¬¡é€‰æ‹©,å°†é€‰æ‹©çš„å€¼ç”¨äºåç»­çš„å¯„å­˜å™¨é‡å‘½å&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 324;
flex-basis: 777px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023153031814.png" data-size="713x220">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023153031814.png"
width="713"
height="220"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023153031814_hu12476907188911963936.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023153031814_hu4524719064748493901.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºARMæŒ‡ä»¤,æœ‰ä¸€ä¸ªæ¡ä»¶å¯„å­˜å™¨CPSR,å¯¹äºæ¯ä¸€æ¡æ¡ä»¶æŒ‡ä»¤ä¾‹å¦‚ADDEQ,éƒ½éœ€è¦å…ˆå»åˆ¤æ–­æ¡ä»¶å¯„å­˜å™¨çš„å€¼,å†å†³å®šæ‰§è¡Œä¸æ‰§è¡Œ&lt;/p>
&lt;p>BRUè¿˜è´Ÿè´£å¯¹äºåˆ†æ”¯æŒ‡ä»¤ç»“æœçš„æ£€æŸ¥,é€šè¿‡åˆ†æ”¯ç¼“å­˜å’ŒBRUå•å…ƒçš„ç»“æœè¿›è¡Œå¯¹æ¯”æ¥å®ç°,å› ä¸ºåˆ†æ”¯ç¼“å­˜ä¸­æ˜¯ä¿å­˜äº†æ‰€æœ‰é¢„æµ‹è·³è½¬çš„æŒ‡ä»¤&lt;/p>
&lt;h2 id="æ—è·¯ç½‘ç»œ">æ—è·¯ç½‘ç»œ&lt;/h2>
&lt;p>ä»FUçš„è¾“å‡ºç«¯åˆ°è¾“å…¥ç«¯æ¶èµ·ä¸€ä¸ªé€šè·¯,å¯ä»¥å°†FUçš„ç»“æœé€åˆ°æ‰€æœ‰FUçš„è¾“å…¥ç«¯,ç‰©ç†å¯„å­˜å™¨å †,payload RAM,å³æ—è·¯ç½‘ç»œ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 560;
flex-basis: 1345px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155021269.png" data-size="740x132">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155021269.png"
width="740"
height="132"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155021269_hu5668004785509550045.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155021269_hu11767405952031318563.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 379;
flex-basis: 910px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155047254.png" data-size="789x208">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155047254.png"
width="789"
height="208"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155047254_hu1657959911695311649.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155047254_hu13703149774171246216.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨æ›´ä¸ºç°å®çš„å¤„ç†å™¨ä¸­,åœ¨Regfile read ä¹‹åè¿˜ä¼šåŠ å…¥ä¸€ä¸ªæµæ°´æ®µç§°ä¸º source Drive,å› ä¸ºå¯¹äºä¸€æ¡æŒ‡ä»¤ä»æºæ“ä½œæ•°ä»ç‰©ç†å¯„å­˜å™¨è¯»å‡ºæ¥ä¹‹å,è¿˜éœ€è¦ç»è¿‡å¾ˆé•¿çš„ä¸€æ®µå¸ƒçº¿,æ‰èƒ½è¾¾åˆ°è¾“å…¥ç«¯,è€Œä¸”FUçš„è¾“å…¥ç«¯æœ‰å¤§é‡çš„å¤šè·¯é€‰æ‹©å™¨,ç”¨æ¥ä»ä¸åŒçš„æ—è·¯ç½‘è·¯æˆ–è€…ç‰©ç†å¯„å­˜å™¨å †é€‰æ‹©åˆé€‚çš„æ“ä½œæ•°,åŒç† FUçš„è¾“å‡ºæ®µä¹Ÿéœ€è¦ç»è¿‡å¤æ‚çš„ç½‘è·¯åˆ°è¾¾è¾“å…¥ç«¯,ä¹Ÿéœ€è¦ä¸€çº§,å³Result drive&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 521;
flex-basis: 1251px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155120596.png" data-size="845x162">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155120596.png"
width="845"
height="162"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155120596_hu17500992777549816955.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023155120596_hu14460900288832725067.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ç®€å•çš„æ—è·¯ç½‘ç»œ">ç®€å•çš„æ—è·¯ç½‘ç»œ&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 223;
flex-basis: 536px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023160723616.png" data-size="827x370">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023160723616.png"
width="827"
height="370"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023160723616_hu18169707612863153657.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023160723616_hu13065555197707174522.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¸€ä¸ªFUä¸­ä¹Ÿä¼šæœ‰å¤šä¸ªè®¡ç®—å•å…ƒ,ä¸€ä¸ªå‘¨æœŸåªèƒ½é€ä¸€æ¡æŒ‡ä»¤è¿›FU,å¦‚æœè®¡ç®—å•å…ƒéœ€è¦çš„å‘¨æœŸæ•°(latency)ç›¸ç­‰,é‚£æ— æ‰€è°“,ä½†æ˜¯å¦‚æœä¸èƒ½,å°±å¯èƒ½å‡ºç°åœ¨ä¸åŒå‘¨æœŸè¢«é€è¿›æ¥,ä½†æ˜¯åœ¨ç›¸åŒå‘¨æœŸè®¡ç®—å‡ºç»“æœ,éƒ½æƒ³é€šè¿‡æ—è·¯ç½‘ç»œè¿›è¡Œä¼ é€&lt;/p>
&lt;p>ä¸€ç§è§£å†³æ–¹æ³•å°±æ˜¯å¯¹äºä¸€æ¡æŒ‡ä»¤æ­£å¸¸è¿›è¡Œå”¤é†’å’Œä»²è£,åœ¨FUä¸­è¢«æ‰§è¡Œå‰,é¦–å…ˆæ£€æŸ¥å½“å‰FUæ˜¯å¦å¯ä»¥è¢«è‡ªå·±ä½¿ç”¨(é€šè¿‡å‘¨æœŸæ•°,ä¸Šå‘¨æœŸæ¥æ”¶äº†ä¸€æ¡latency=2çš„æŒ‡ä»¤,å½“å‘¨æœŸå°±ä¸è¦æ¥æ”¶latency=1çš„æŒ‡ä»¤),å¦‚æœä¸è¡Œ,æ”¾å›å‘å°„é˜Ÿåˆ—,é‡æ–°è¿›è¡Œä»²è£.&lt;/p>
&lt;p>ä½†æ˜¯è¿™æ ·ä¼šé€ æˆä¸€äº›æœ¬æ¥å¯ä»¥ä»²è£æˆåŠŸçš„æŒ‡ä»¤è¢«è€½æäº†,å› æ­¤å¯ä»¥ç›´æ¥è®©latencyä½œä¸ºæŸä¸ªå€¼çš„æŒ‡ä»¤å°±ä¸å‚ä¸ä»²è£çš„è¿‡ç¨‹&lt;/p>
&lt;p>åœ¨è®¾è®¡å‘å°„é˜Ÿåˆ—æ—¶,ä¹Ÿéœ€è¦è€ƒè™‘æ˜¯å¦å½“å‰çš„FUæ˜¯èƒ½å¤Ÿè¢«ä½¿ç”¨çš„&lt;/p>
&lt;p>å¯¹æ¯ä¸ªä»²è£ç”µè·¯è®¾è®¡ä¸€ä¸ªä½å®½ä¸º2ä½çš„æ§åˆ¶å¯„å­˜å™¨,é«˜ä½ç”¨æ¥æ‹¦æˆªæ‰€æœ‰latency=2çš„æŒ‡ä»¤,ä½ä½æ‹¦æˆªlatency=1çš„æŒ‡ä»¤,å¹¶ä¸”åœ¨å‘å°„é˜Ÿåˆ—çš„è¡¨é¡¹ä¸­å¢åŠ ä¸¤ä¸ªä¿¡å·,æŒ‡ç¤ºlatency=1 or 2&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 153;
flex-basis: 367px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023162500495.png" data-size="852x556">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023162500495.png"
width="852"
height="556"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023162500495_hu14593910934300950979.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023162500495_hu16586514541434976942.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ¯ä¸ªå‘¨æœŸéƒ½éœ€è¦å¯¹ä¸¤ä½å¯„å­˜å™¨è¿›è¡Œèµ‹å€¼,ä¹Ÿè¦è¿›è¡Œç§»ä½,æ¯”æ–¹è¯´ latency = 3,å°±å°†ä¸¤ä½å¯„å­˜å™¨èµ‹å€¼ä¸º10,latency = 2 ,å°±å°†ä¸¤ä½å¯„å­˜å™¨èµ‹å€¼ä¸º01&lt;/p>
&lt;p>å¦‚æœç¬¬ä¸€ä¸ªå‘¨æœŸé€‰ä¸­äº†latency = 3çš„æŒ‡ä»¤ , ç¬¬äºŒä¸ªå‘¨æœŸé€‰ä¸­äº†latency = 3çš„æŒ‡ä»¤ ,cycle 1 , a = 10 , cycle 2 , a = 11 = (10 &amp;raquo; 1 )| 10&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 209;
flex-basis: 502px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164412302.png" data-size="519x248">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164412302.png"
width="519"
height="248"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164412302_hu2180771558406431873.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164412302_hu18316455888187908961.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="å¤æ‚è®¾è®¡çš„æ—è·¯ç½‘ç»œ">å¤æ‚è®¾è®¡çš„æ—è·¯ç½‘ç»œ&lt;/h3>
&lt;p>(1)æŒ‡ä»¤ B åªèƒ½åœ¨æµæ°´çº¿çš„ Execute é˜¶æ®µï¼Œä»æŒ‡ä»¤ A çš„ Result drive é˜¶æ®µè·å¾—æ“ä½œæ•°ã€‚&lt;/p>
&lt;p>(2)æŒ‡ä»¤ C å¯ä»¥åœ¨æµæ°´çº¿çš„ Source drive é˜¶æ®µï¼Œä»æŒ‡ä»¤ A çš„ Result drive é˜¶æ®µè·å¾—æ“ä½œæ•°ï¼›æˆ–è€…æŒ‡ä»¤ C ä¹Ÿå¯ä»¥åœ¨æµæ°´çº¿çš„ Execute é˜¶æ®µï¼Œä»æŒ‡ä»¤ A çš„ Write back é˜¶æ®µè·å¾—æ“ä½œæ•°ã€‚
(3)æŒ‡ä»¤ Då¯ä»¥åœ¨æµæ°´çº¿çš„ Source drive é˜¶æ®µï¼Œä»æŒ‡ä»¤ A çš„ Write back é˜¶æ®µè·å¾—æ“ä½œæ•°ã€‚
(4)æŒ‡ä»¤ E åœ¨æµæ°´çº¿çš„ RF Read é˜¶æ®µè¯»å–ç‰©ç†å¯„å­˜å™¨å †(PRF)æ—¶ï¼Œå°±å¯ä»¥å¾—åˆ°æŒ‡ä»¤ A çš„ç»“æœäº†ï¼Œå› æ­¤å®ƒä¸éœ€è¦ä»æ—è·¯ç½‘ç»œä¸­è·å¾—æ“ä½œæ•°ï¼Œè¿™é‡Œå‡è®¾ç‰©ç†å¯„å­˜å™¨å †å¯ä»¥åœ¨å‰åŠä¸ªå‘¨æœŸå†™äººï¼ŒååŠä¸ªå‘¨æœŸè¯»å–ã€‚&lt;/p>
&lt;p>&lt;strong>å¯¹äºæ¯ä¸€ä¸ªæŒ‡ä»¤,ä¸ä¸€å®šæ˜¯åœ¨æ‰§è¡Œé˜¶æ®µå¾—åˆ°æ—è·¯ç½‘ç»œçš„ç»“æœ&lt;/strong>&lt;/p>
&lt;p>executeé˜¶æ®µçš„æ“ä½œæ•°é™¤äº†æ¥è‡ªäºä¸Šä¸€çº§æµæ°´çº¿,è¿˜å¯ä»¥æ¥è‡ªäºä¸¤ä¸ªFUè®¡ç®—çš„ç»“æœ ,æ¥è‡ªäºæµæ°´çº¿çš„ Result Drive (Bç›¸å¯¹äºA)&lt;/p>
&lt;p>Source Drive é˜¶æ®µ,æ“ä½œæ•°é™¤äº†æ¥è‡ªäºä¸Šä¸€çº§æµæ°´çº¿,è¿˜å¯ä»¥æ¥è‡ªäºä»¥å‰æµæ°´çº¿çš„ç»“æœ,åˆ†å¸ƒåœ¨Result Drive(Cç›¸å¯¹A)å’ŒWrite Back(Dç›¸å¯¹äºA)&lt;/p>
&lt;p>Aå’ŒEæ˜¯ä¸éœ€è¦æ—è·¯ç½‘ç»œçš„ ,å³æŸä¸€æ¡æŒ‡ä»¤å¤„åœ¨RF Read é‡Œ,å¦ä¸€æ¡æŒ‡ä»¤å¤„åœ¨Write back é‡Œ,å°±ä¸éœ€è¦è¿›è¡Œæ—è·¯&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 180;
flex-basis: 432px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164621687.png" data-size="754x418">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164621687.png"
width="754"
height="418"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164621687_hu11888635452023152137.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023164621687_hu11255700068533527627.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 94;
flex-basis: 226px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023193442904.png" data-size="666x706">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023193442904.png"
width="666"
height="706"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023193442904_hu13004870574175724935.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023193442904_hu2537975837088478881.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>(1)å½“ä¸¤æ¡æŒ‡ä»¤å¤„åœ¨ç›¸é‚»å‘¨æœŸ,æ—è·¯è·¯å¾„åªèƒ½å‘ç”Ÿåœ¨Execute å’Œ Result Drive&lt;/p>
&lt;p>(2)å½“ä¸¤æ¡æŒ‡ä»¤ç›¸å·®ä¸€ä¸ªå‘¨æœŸ,æ—è·¯è·¯å¾„èƒ½å¤Ÿå‘ç”Ÿåœ¨Source Driveå’ŒResult Drive, Execute å’ŒWrite Back ä¹‹é—´&lt;/p>
&lt;p>(3)å½“ä¸¤æ¡æŒ‡ä»¤ç›¸å·®ä¸¤ä¸ªå‘¨æœŸ,æ—è·¯è·¯å¾„åªèƒ½å‘ç”Ÿåœ¨Source Drive å’Œ Write Back ä¹‹é—´&lt;/p>
&lt;p>æä¾›æ•°æ®çš„æŒ‡ä»¤ä¸€å®šå¾—åœ¨Executeå,æ¥å—æ•°æ®çš„æŒ‡ä»¤ä¸€å®šè¦åœ¨RF readå&lt;/p>
&lt;h3 id="æ“ä½œæ•°çš„é€‰æ‹©">æ“ä½œæ•°çš„é€‰æ‹©&lt;/h3>
&lt;p>ScoreBoard&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 199;
flex-basis: 478px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023195557026.png" data-size="477x239">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023195557026.png"
width="477"
height="239"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023195557026_hu224179638028002947.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023195557026_hu16682950285114137150.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>FU#:è®°å½•ç‰©ç†å¯„å­˜å™¨ä»å“ªä¸ªFUä¸­è¢«è®¡ç®—å‡ºæ¥,å½“ä¸€æ¡æŒ‡ä»¤è¢«ä»²è£ç”µè·¯é€‰ä¸­çš„æ—¶å€™,å¦‚æœæŒ‡ä»¤å­˜åœ¨ç›®çš„å¯„å­˜å™¨,å°±å°†è¿™æ¡æŒ‡ä»¤åœ¨å“ªä¸ªFUä¸­æ‰§è¡Œçš„ä¿¡æ¯å†™åˆ°è¡¨æ ¼ä¸­&lt;/p>
&lt;p>R:è¡¨ç¤ºç‰©ç†å¯„å­˜å™¨çš„å€¼å·²ç»ä»FUä¸­è®¡ç®—å‡ºæ¥äº†,å¹¶ä¸”å·²ç»è¢«å†™åˆ°ç‰©ç†å¯„å­˜å™¨å †ä¸­äº†(åœ¨å†™å›çš„æ—¶å€™æ›´æ–°)&lt;/p>
&lt;p>æŒ‡ä»¤Bé€šè¿‡è¯»å–scoreBoardå¯ä»¥å¾—çŸ¥éœ€è¦ä»FUä¸­å–æ•°æ®&lt;/p>
&lt;p>æŒ‡ä»¤Cå¯ä»¥å¾—çŸ¥å¯ä»¥ä»PRFä¸­å–æ•°æ®&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 381;
flex-basis: 916px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023200505179.png" data-size="737x193">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023200505179.png"
width="737"
height="193"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023200505179_hu13854645784151382880.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241023200505179_hu11359890069373188788.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯ä»¥æŠŠè¯»å–scoreboardçš„è¿‡ç¨‹æ”¾åˆ°æµæ°´çº¿çš„RF Readé˜¶æ®µ,ä½¿å¾—ScoreBoardå’ŒPRFåŒæ—¶è¯»å–,ä½†æ˜¯è¿™æ ·ä¼šå‡ºç°é—®é¢˜å°±æ˜¯æ¯”æ–¹è¯´æŒ‡ä»¤Aå’ŒæŒ‡ä»¤C,å¦‚æœç§»åŠ¨åˆ°äº†Regfile Readé˜¶æ®µ,æŒ‡ä»¤Cæ— æ³•è·çŸ¥æŒ‡ä»¤Aä¿®æ”¹çš„ScordBoardçš„å€¼,éœ€è¦åŠ å…¥æ¯”è¾ƒé€»è¾‘,å½“ScoreBoardå†™å…¥å’Œè¯»å–çš„ç¼–å·ä¸€è‡´çš„è¯,å°±è®¾ç½®ä¸ºä»PRFå–å¾—æ“ä½œæ•°&lt;/p>
&lt;p>å¯¹äºèƒ½å¤Ÿå¹¶è¡Œæ‰§è¡ŒNæ¡æŒ‡ä»¤çš„å¤„ç†å™¨,éœ€è¦2Nä¸ªè¯»ç«¯å£,2Nä¸ªå†™ç«¯å£&lt;/p>
&lt;p>ç”¨æœ€ç®€å•çš„æ–¹æ³•,å°±æ˜¯å› ä¸ºæ¯ä¸ªFUä¼šæŠŠä¸€æ¡æŒ‡ä»¤çš„è®¡ç®—ç»“æœå¹¿æ’­é€åˆ°FUè¾“å…¥å’Œç‰©ç†å¯„å­˜å™¨å †,åŒæ—¶ä¹Ÿä¼šé€å‡ºå¯¹åº”çš„å¯„å­˜å™¨ç¼–å·,æ‰€ä»¥å¯ä»¥ç›´æ¥å’Œæºå¯„å­˜å™¨è¿›è¡Œæ¯”è¾ƒå°±è¡Œ,éœ€è¦é€‰æ‹©æ“ä½œæ•°çš„ä¸¤ä¸ªå‘¨æœŸSource Drive å’Œ Executeé˜¶æ®µ(ä¸ºä»€ä¹ˆæ˜¯ä¸¤ä¸ªé˜¶æ®µ????)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 183;
flex-basis: 439px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024203513613.png" data-size="713x389">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024203513613.png"
width="713"
height="389"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024203513613_hu8458801169996393152.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024203513613_hu9604523862459205188.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="cluster">Cluster&lt;/h2>
&lt;h3 id="cluster-iq">Cluster IQ&lt;/h3>
&lt;p>é€šè¿‡å°†ä¸€ä¸ªé›†ä¸­å¼çš„å‘å°„é˜Ÿåˆ—åˆ†æˆå‡ ä¸ªå°çš„åˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—,æ¯ä¸ªå‘å°„é˜Ÿåˆ—åªå¯¹åº”ä¸€ä¸ªä»²è£ç”µè·¯å’ŒFU,è¿™æ ·æ¯ä¸ªåˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—åªéœ€è¦å­˜å‚¨å¯¹åº”çš„FUèƒ½å¤Ÿæ‰§è¡Œçš„æŒ‡ä»¤&lt;/p>
&lt;p>(1)å¯ä»¥å‡å°‘æ¯ä¸ªåˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—çš„ç«¯å£ä¸ªæ•°&lt;/p>
&lt;p>(2)æ¯ä¸ªåˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—çš„ä»²è£ç”µè·¯åªéœ€è¦ä»å°‘é‡çš„æŒ‡ä»¤è¿›è¡Œé€‰æ‹©,å¯ä»¥åŠ å¿«æ¯ä¸ªä»²è£ç”µè·¯çš„é€Ÿåº¦&lt;/p>
&lt;p>(3)åˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—çš„å®¹é‡æ¯”è¾ƒå°,æŒ‡ä»¤è¢«å”¤é†’çš„é€Ÿåº¦ä¹Ÿæ¯”è¾ƒå¿«&lt;/p>
&lt;p>ç¼ºç‚¹å°±æ˜¯ä¸€ä¸ªå‘å°„é˜Ÿåˆ—çš„æŒ‡ä»¤å¯¹å…¶ä»–å‘å°„é˜Ÿåˆ—æŒ‡ä»¤è¿›è¡Œå”¤é†’æ—¶,éœ€è¦ç»å†å¾ˆé•¿çš„èµ°çº¿,å¯èƒ½éœ€è¦å¢åŠ ä¸€çº§æµæ°´çº¿,è¿™æ ·å½“ä¸¤æ¡å­˜åœ¨ç›¸å…³æ€§çš„ç›¸é‚»æŒ‡ä»¤å±äºä¸¤ä¸ªä¸åŒClusteräº‹,ä¸èƒ½èƒŒé èƒŒæ‰§è¡Œ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 191;
flex-basis: 460px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024205608529.png" data-size="836x436">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024205608529.png"
width="836"
height="436"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024205608529_hu8384213802176442674.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024205608529_hu1594713213561487067.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä½†æ˜¯é€šè¿‡å¯¹æŒ‡ä»¤è¿›è¡Œåˆç†çš„ç®—æ³•åˆ†é…cluster,ä¹Ÿå¯ä»¥åšåˆ°å‘¨æœŸçš„åˆç†ä½¿ç”¨&lt;/p>
&lt;p>å¯¹äºæ™®é€šçš„é›†ä¸­å¼å‘å°„é˜Ÿåˆ—,éœ€è¦3ä¸ªå‘¨æœŸ,å¦‚æœA,B,Eåœ¨åŒä¸€ä¸ªcluster,C,Dåœ¨å¦ä¸€ä¸ªclusteré‚£éœ€è¦5ä¸ªå‘¨æœŸ,ä½†æ˜¯å¦‚æœA,Cåˆ†åˆ°ä¸€ä¸ªcluster,B,D,Eåˆ†åˆ°å¦ä¸€ä¸ªclusterä¸­,é‚£å°±åªéœ€è¦3ä¸ªå‘¨æœŸ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 228;
flex-basis: 547px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210359607.png" data-size="438x192">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210359607.png"
width="438"
height="192"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210359607_hu2303037202705240120.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210359607_hu9192380050617067700.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 209;
flex-basis: 502px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210424365.png" data-size="526x251">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210424365.png"
width="526"
height="251"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210424365_hu6627521120969527641.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210424365_hu7444645623256956563.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 211;
flex-basis: 507px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210535873.png" data-size="535x253">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210535873.png"
width="535"
height="253"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210535873_hu8861715288620074021.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024210535873_hu2374024891856620924.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºéæ•°æ®æ•æ‰ç»“æœçš„å¤„ç†å™¨,æŒ‡ä»¤ä¼šå…ˆè¯»å–ç‰©ç†å¯„å­˜å™¨å †,éœ€è¦PRFæ”¯æŒå¤šä¸ªè¯»ç«¯å£,æ‰€ä»¥å¯ä»¥å¯¹å¯„å­˜å™¨å †ä¹Ÿé‡‡ç”¨clusterç»“æ„,å¯¹æ¯ä¸€ä¸ªé‡‡ç”¨clusterç»“æ„çš„å‘å°„é˜Ÿåˆ—ä½¿ç”¨åŒä¸€ä¸ªç‰©ç†å¯„å­˜å™¨å †&lt;/p>
&lt;p>åŸæ¥4ä¸ªFUæœ‰8ä¸ªè¯»ç«¯å£,4ä¸ªå†™ç«¯å£,å¯ä»¥å˜æˆ4ä¸ªè¯»ç«¯å£,4ä¸ªå†™ç«¯å£,ä¸è¿‡éœ€è¦è®©ä¸¤ä¸ªPRFä¿æŒä¸€è‡´,è¿˜éœ€è¦å»æ›´æ–°å¦ä¸€ä¸ªå¯„å­˜å™¨(é‚£ä¸æ˜¯ä¼šå½±å“å¹¶uè¡Œæ€§)&lt;/p>
&lt;p>å½“ä¸¤ä¸ªå­˜åœ¨ç›¸å…³æ€§çš„è¿ç»­æŒ‡ä»¤å±äºä¸¤ä¸ªä¸åŒçš„clusteræ—¶,åç»­çš„æŒ‡ä»¤éœ€è¦ç­‰åˆ°å‰é¢çš„æŒ‡ä»¤æ›´æ–°å®Œå¯„å­˜å™¨å †ä¹‹å,æ‰èƒ½å¤Ÿä»å¯„å­˜å™¨å †è¯»å–æ“ä½œæ•°????? å› ä¸ºæ—è·¯ç½‘ç»œæœ€å¥½ä¸å¥½è·¨è¶Šä¸¤ä¸ªcluster&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 198;
flex-basis: 477px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212016007.png" data-size="829x417">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212016007.png"
width="829"
height="417"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212016007_hu12563989265596371535.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212016007_hu7321058393778903345.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="cluster-bypass">cluster bypass&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 177;
flex-basis: 426px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212557051.png" data-size="854x481">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212557051.png"
width="854"
height="481"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212557051_hu4965631951152540929.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024212557051_hu12953251598118112777.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>é‡‡ç”¨clusterç»“æ„çš„å¯ä»¥ç›´æ¥å»é™¤æµæ°´çº¿çš„Source Drive å’Œ Result Driveæµæ°´æ®µ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 322;
flex-basis: 774px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024213929124.png" data-size="858x266">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024213929124.png"
width="858"
height="266"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024213929124_hu207480023195120802.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024213929124_hu15840521158928439603.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨é¡ºåºæ‰§è¡Œçš„å¤„ç†å™¨,ç”±äºç¡¬ä»¶æ— æ³•è°ƒåº¦ä¸ç›¸å…³çš„æŒ‡ä»¤,éå®Œå…¨çš„æ—è·¯ç½‘ç»œä¼šå¸¦æ¥å¾ˆå¤§çš„è´Ÿé¢å½±å“,ä¼šäº§ç”Ÿå¤§é‡çš„æ°”æ³¡,æ˜¾ç„¶é™ä½äº†å¤„ç†å™¨çš„æ€§èƒ½,å› æ­¤å°½é‡ä¼šé‡‡ç”¨å®Œå…¨çš„æ—è·¯ç½‘ç»œ&lt;/p>
&lt;p>å¯ä»¥ç±»æ¯”å‘å°„é˜Ÿåˆ—,åœ¨ç›¸é‚»çš„clusteråŠ å…¥ä¸€çº§æµæ°´çº¿æ¥é™ä½è·¯å¾„å»¶æ—¶,å½¢æˆå®Œå…¨çš„æ—è·¯ç½‘ç»œ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 279;
flex-basis: 670px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214301619.png" data-size="765x274">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214301619.png"
width="765"
height="274"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214301619_hu735835723770192725.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214301619_hu17445429456382917378.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å‘å°„é˜Ÿåˆ—çš„æµæ°´å’Œæ—è·¯ç½‘ç»œçš„æµæ°´å¯¼è‡´çš„å»¶æ—¶ä¸ä¼šå åŠ &lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 207;
flex-basis: 497px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214434028.png" data-size="531x256">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214434028.png"
width="531"
height="256"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214434028_hu13183690665095587033.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241024214434028_hu9770905204137056385.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="å­˜å‚¨å™¨æŒ‡ä»¤çš„åŠ é€Ÿ">å­˜å‚¨å™¨æŒ‡ä»¤çš„åŠ é€Ÿ&lt;/h2>
&lt;h3 id="memory-diambiguation">memory diambiguation&lt;/h3>
&lt;p>è®¿å­˜åœ°å€ä¹Ÿä¼šå­˜åœ¨ç›¸å…³æ€§,ä½†æ˜¯è¿™ä¸ªç›¸å…³æ€§æ˜¯åœ¨æ‰§è¡Œé˜¶æ®µè®¡ç®—å‡ºè®¿å­˜çš„æŒ‡ä»¤ä¹‹åæ‰èƒ½å¤Ÿè¢«å‘ç° ,åœ¨è§£ç é˜¶æ®µæ˜¯æ— æ³•è¢«å‘ç°çš„&lt;/p>
&lt;p>å¤§éƒ¨åˆ†çš„storeæ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„(in-order),å¯ä»¥é¿å…WAWç›¸å…³æ€§(why?)&lt;/p>
&lt;p>loadæŒ‡ä»¤å¯ä»¥åˆ†ä¸º&lt;/p>
&lt;p>(1)å®Œå…¨çš„é¡ºåºæ‰§è¡Œ,æ²¡æœ‰WAWå’ŒWARç›¸å…³æ€§&lt;/p>
&lt;p>(2)éƒ¨åˆ†çš„ä¹±åºæ‰§è¡Œ,é¡ºåºæ‰§è¡Œçš„storeå°†ç¨‹åºåˆ†æˆä¸åŒçš„å—,æ¯å½“ä¸€æ¡æŒ‡ä»¤storeçš„åœ°å€è¢«è®¡ç®—å‡ºæ¥,storeæŒ‡ä»¤å’Œåç»­çš„storeæŒ‡ä»¤ä¹‹é—´çš„æ‰€æœ‰loadæŒ‡ä»¤å¯ä»¥ä¹±åºæ‰§è¡Œ,å¯ä»¥é¿å…WARç›¸å…³æ€§çš„å‘ç”Ÿ&lt;/p>
&lt;p>å½“ä¸€æ¡storeæŒ‡ä»¤åœ°å€è¢«è®¡ç®—å‡ºæ¥å,loadæŒ‡ä»¤å°±å…·å¤‡åˆ¤æ–­RAWç›¸å…³æ€§çš„æ¡ä»¶äº†,æ¯æ¡loadæŒ‡ä»¤æŠŠå®ƒæºå¸¦çš„åœ°å€è®¡ç®—å‡ºæ¥ä¹‹å,éœ€è¦å’Œå‰é¢æ‰€æœ‰å·²ç»æ‰§è¡Œçš„storeæŒ‡ä»¤æºå¸¦çš„åœ°å€è¿›è¡Œæ¯”è¾ƒ.é€šè¿‡ store bufferä¿å­˜å·²ç»è¢«ä»²è£ç”µè·¯é€‰æ‹©å€’æ˜¯æ²¡æœ‰ç¦»å¼€æµæ°´çº¿çš„æŒ‡ä»¤&lt;/p>
&lt;p>å½“storeè¢«é€‰ä¸­æ—¶,å…¶å®å°±å¯ä»¥å»å…è®¸åé¢çš„loadæŒ‡ä»¤å‚ä¸ä»²è£,å› ä¸ºstoreæŒ‡ä»¤åœ°å€è®¡ç®—çš„ç»“æœè‚¯å®šå…ˆäºloadåœ°å€
å­˜åœ¨çš„é—®é¢˜å°±æ˜¯,å¦‚æœåœ¨BCDæ²¡æœ‰è¢«é€‰ä¸­å®Œæ¯•ä¹‹å,æŒ‡ä»¤Eè¢«é€‰æ‹©äº†,æ­¤æ—¶å¦‚æœæŒ‡ä»¤Eå’ŒæŒ‡ä»¤Dçš„åœ°å€ä¸€è‡´,æŒ‡ä»¤Dä¹Ÿä¸åº”è¯¥è·å–æŒ‡ä»¤Eçš„å†…å®¹,æ‰€æœ‰éœ€è¦åˆ¤æ–­å‡ºé‚£äº›storeæŒ‡ä»¤åœ¨loadçš„å‰é¢,å“ªäº›åœ¨åé¢&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 118;
flex-basis: 285px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025213624613.png" data-size="301x253">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025213624613.png"
width="301"
height="253"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025213624613_hu14399999219861116549.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025213624613_hu16921245988269030946.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;ol>
&lt;li>PCå€¼,ä½†æ˜¯å­˜åœ¨å‘å‰è·³è½¬çš„æŒ‡ä»¤&lt;/li>
&lt;li>ROB,ROBæ˜¯é¡ºåºçš„,ä½†æ˜¯ç”±äºè®¿å­˜æŒ‡ä»¤è¿˜æ˜¯å°‘æ•°,æ‰€ä»¥ä¼šæ¯”è¾ƒç¨€ç–&lt;/li>
&lt;li>è§£ç é˜¶æ®µä¸ºload/storeæŒ‡ä»¤åˆ†é…ç¼–å·&lt;/li>
&lt;/ol>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 359;
flex-basis: 862px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025214623161.png" data-size="611x170">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025214623161.png"
width="611"
height="170"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025214623161_hu12201052963255340503.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241025214623161_hu8831078567315548889.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºä¸Šè¿°æŒ‡ä»¤,éƒ¨åˆ†çš„ä¹±åºä¹Ÿæ˜¯ä¼šæµªè´¹å¾ˆå¤šæ€§èƒ½&lt;/p>
&lt;p>(3)å®Œå…¨çš„ä¹±åºæ‰§è¡Œ,WARå’ŒRAWéƒ½éœ€è¦åœ¨æµæ°´çº¿ä¸­æ‰§è¡Œ&lt;/p>
&lt;p>åªè¦loadæŒ‡ä»¤çš„æ“ä½œæ•°å‡†å¤‡å¥½äº†,å°±å¯ä»¥ç›´æ¥å‘èµ·ä»²è£è¯·æ±‚äº†&lt;/p>
&lt;p>å¯ä»¥è®©load/storeå…±ç”¨å‘å°„é˜Ÿåˆ—,ä½†è¿˜æ˜¯éœ€è¦ç‹¬ç«‹çš„ä»²è£ç”µè·¯,storeæŒ‡ä»¤çš„ä»²è£ç”µè·¯éœ€è¦æ ¹æ®å¹´é¾„,æ‰¾åˆ°æœ€æ—§çš„æŒ‡ä»¤(in-order),loadæŒ‡ä»¤,åªéœ€è¦é€‰æ‹©å‡†å¤‡å¥½çš„æœ€è€çš„ä¸€æ¡æŒ‡ä»¤å°±è¡Œäº†(out-of-order)&lt;/p>
&lt;p>å¦‚æœåˆ†å¼€å‘å°„é˜Ÿåˆ—çš„è¯,storeçš„å‘å°„é˜Ÿåˆ—åªéœ€è¦ä½¿ç”¨FIFOç»“æ„&lt;/p>
&lt;p>éœ€è¦ç²¾ç¡®çš„é¢„æµ‹æœºåˆ¶æ¥é¿å…RAWçš„ç›¸å…³æ€§,ä¾‹å¦‚å¦‚æœå‘ç°ä¸€æ¡LOADæŒ‡ä»¤å’Œä¹‹å‰çš„STOREæŒ‡ä»¤å­˜åœ¨RAWç›¸å…³æ€§,å°±å…ˆè¿›è¡Œè®°å½•,åœ¨åç»­ä»store buffer ä¸­è·å–æ•°æ® ,è¿™æ ·å…¶å®ä¹Ÿå¯ä»¥å»å‡å°‘store bufferéœ€è¦çš„ç«¯å£å’Œæ¯”è¾ƒç”µè·¯&lt;/p>
&lt;h3 id="éé˜»å¡cache">éé˜»å¡cache&lt;/h3>
&lt;p>é˜»å¡cache:åœ¨å‘ç”Ÿcacheç¼ºå¤±çš„æ—¶å€™,å°±é”å®šD-Cacheä¸æ•°æ®å†…å­˜ä¹‹é—´çš„æ•°æ®é€šè·¯,å¤„ç†å™¨æ— æ³•æ‰§è¡Œå…¶ä»–çš„load/storeæŒ‡ä»¤&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 387;
flex-basis: 930px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026141835829.png" data-size="659x170">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026141835829.png"
width="659"
height="170"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026141835829_hu8881803643920320762.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026141835829_hu2616120719687539429.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>éé˜»å¡cache:åœ¨å‘ç”Ÿç¼ºå¤±æ—¶è¿˜æ˜¯å¯ä»¥æ‰§è¡Œå…¶å®ƒçš„load/storeæŒ‡ä»¤,æ‰€ä»¥éœ€è¦å»ä¿å­˜load/storeç›¸åº”çš„ä¸€äº›æ•°æ®,æ¯”æ–¹è¯´storeçš„æ•°æ® ,loadçš„ç›®çš„å¯„å­˜å™¨,ä½†æ˜¯å®é™…ä¸Šè®¿é—®å­˜å‚¨å™¨è¿˜æ˜¯é€šè¿‡ä¸€æ¡æ•°æ®é€šè·¯&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 332;
flex-basis: 798px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142115052.png" data-size="692x208">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142115052.png"
width="692"
height="208"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142115052_hu16210908296073923288.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142115052_hu14757556971080052922.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¸ºäº†æ”¯æŒéé˜»å¡cache,éœ€è¦å°†é‚£äº›å·²ç»äº§ç”ŸD-cacheç¼ºå¤±çš„load/storeæŒ‡ä»¤ä¿å­˜èµ·æ¥(MSHR(Miss Status/infornmation Holding Register))&lt;/p>
&lt;p>(1)é¦–æ¬¡ç¼ºå¤± ,å¯¹äºä¸€ä¸ªç»™å®šçš„åœ°å€,è®¿é—®D-Cacheæ—¶ç¬¬ä¸€æ¬¡äº§ç”Ÿçš„ç¼ºå¤±&lt;/p>
&lt;p>(2)å†æ¬¡ç¼ºå¤±,é¦–æ¬¡ç¼ºå¤±ä½†æ˜¯æ²¡æœ‰è¢«è§£å†³,åç»­è®¿é—®å­˜å‚¨å™¨çš„æŒ‡ä»¤å†æ¬¡è®¿é—®å‘ç”Ÿç¼ºå¤±çš„cache line ,å†æ¬¡ç¼ºå¤±é’ˆå¯¹çš„æ˜¯cache line ä¸æ˜¯ç›¸åŒçš„åœ°å€,&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 201;
flex-basis: 482px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142859357.png" data-size="674x335">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142859357.png"
width="674"
height="335"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142859357_hu551379707438212741.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026142859357_hu12241835318558202936.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>MSHR:&lt;/p>
&lt;ol>
&lt;li>
&lt;p>V:valid ,æŒ‡ç¤ºå½“å‰çš„è¡¨é¡¹(entry)æ˜¯å¦è¢«å ç”¨ ,é¦–æ¬¡ç¼ºå¤±MSHRæœ¬ä½“çš„ä¸€ä¸ªè¡¨é¡¹ä¼šè¢«å ç”¨,Validç½®ä¸€,ç›´åˆ°Cache lineä»ä¸‹çº§å­˜å‚¨å™¨è¢«å–å›æ¥.&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Block Address : Cache line æ•°æ®å—çš„å…¬å…±åœ°å€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Issued: è¡¨ç¤ºå‘ç”Ÿé¦–æ¬¡ç¼ºå¤±çš„load/storeæŒ‡ä»¤æ˜¯å¦å·²ç»å¼€å§‹å¤„ç†,å³æ˜¯å¦å‘ä¸€çº§å­˜å‚¨å™¨å‘é€è¯»æ•°æ®çš„è¯·æ±‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>LOAD/STORE Table&lt;/p>
&lt;ol>
&lt;li>
&lt;p>Valid : è¡¨ç¤ºä¸€ä¸ªè¡¨é¡¹æ˜¯å¦è¢«å ç”¨,æ— è®ºæ˜¯é¦–æ¬¡ç¼ºå¤±è¿˜æ˜¯å†æ¬¡ç¼ºå¤±&lt;/p>
&lt;/li>
&lt;li>
&lt;p>MSHR entry : è¡¨ç¤ºå‘ç”Ÿç¼ºå¤±çš„æŒ‡ä»¤å±äºMSHRæœ¬ä½“çš„å“ªä¸ªè¡¨é¡¹,äº§ç”Ÿç¼ºå¤±çš„æŒ‡ä»¤å¯èƒ½ä¼šå¯¹åº”åŒä¸€ä¸ªcache line , ä¸ºäº†é¿å…é‡å¤å ç”¨ä¸‹ä¸€çº§å­˜å‚¨å™¨çš„å¸¦å®½,åªä¼šå æ®åŒä¸€ä¸ªMSHR entry ,ä½†æ˜¯å æ®å¤šä¸ªLOAD/STORE Table&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Dest.register : å¯¹äºloadæŒ‡ä»¤,è®°å½•ç›®çš„å¯„å­˜å™¨çš„ç¼–å·, å¯¹äºstoreæŒ‡ä»¤,è¿™éƒ¨åˆ†è®°å½•storeæŒ‡ä»¤åœ¨store bufferä¸­çš„ç¼–å·,ä¸€æ˜¯å¯ä»¥æ‰¾åˆ°storeæŒ‡ä»¤æ‰€æºå¸¦çš„æ•°æ®,ä»¥ä¾¿å’Œä¸‹çº§å­˜å‚¨å™¨ä¸­å–å‡ºçš„æ•°æ®å—åˆå¹¶,äºŒæ˜¯èƒ½å¤Ÿé‡Šæ”¾storeæŒ‡ä»¤å æ®çš„store bufferä¸­çš„ç©ºé—´&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Type :è®°å½•è®¿é—®å­˜å‚¨å™¨æŒ‡ä»¤çš„ç±»å‹&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Offset:è®¿é—®å­˜å‚¨å™¨çš„æŒ‡ä»¤æ‰€éœ€è¦çš„æ•°æ®åœ¨æ•°æ®å—ä¸­çš„ä½ç½®&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>å½“å‘ç”Ÿç¼ºå¤±æ˜¯,é¦–å…ˆæŸ¥æ‰¾MSHRçš„æœ¬ä½“,å¦‚æœæœ‰ç›¸åŒçš„è¡¨é¡¹,ä»£è¡¨å†æ¬¡ç¼ºå¤±,åªéœ€è¦å†™åˆ°LOAD/STORE Table ,å¦‚æœæ²¡æœ‰,éœ€è¦å†™å…¥MSHRå’ŒLOAD/SOTRE Table&lt;/p>
&lt;p>å¦‚æœæ»¡äº†,å°±æ— æ³•å»å¤„ç†æ–°çš„è®¿é—®å­˜å‚¨å™¨æŒ‡ä»¤,å°±é˜»å¡äº†&lt;/p>
&lt;p>å¯¹äºloadæŒ‡ä»¤,éœ€è¦æŠŠæ•°æ®é€åˆ°å¯¹åº”ç›®çš„å¯„å­˜å™¨,å¹¶å†™åˆ°D-cacheé‡Œ ,&lt;/p>
&lt;p>å¯¹äºstoreæŒ‡ä»¤,éœ€è¦ä»Store bufferä¸­æ‰¾åˆ°å¯¹åº”çš„æ•°æ®,å’Œæ•°æ®å—åˆå¹¶,ç„¶åå†™åˆ°D-cache é‡Œ,ç„¶åé‡Šæ”¾store buffer&lt;/p>
&lt;p>(in-cache MSHR )&lt;/p>
&lt;p>åœ¨åˆ†æ”¯é¢„æµ‹å¤±è´¥ä¹‹å,éœ€è¦å»åˆ é™¤LOAD/SOTRE Tableæ­£åœ¨æ‰§è¡Œçš„load/storeæŒ‡ä»¤ ,å¹¶ä¸”å¦‚æœé’ˆå¯¹äºä¸€ä¸ªæ•°æ®å—çš„æ‰€æœ‰load/storeæŒ‡ä»¤éƒ½å¤„äºåˆ†æ”¯é¢„æµ‹çš„è·¯å¾„ä¸Š,é‚£è¿™ä¸ªæ•°æ®å—ä¹Ÿä¸èƒ½å»æ›´æ–°åˆ°D-cacheä¸Šå»&lt;/p>
&lt;h3 id="å…³é”®å­—ä¼˜å…ˆ">å…³é”®å­—ä¼˜å…ˆ&lt;/h3>
&lt;p>å°±æ˜¯å»æ”¹è¿›è¯»å–cacheå—æ•°æ®çš„é¡ºåº ,æœ¬æ¥æ˜¯0,1,2,3,4,5,6,7,8,å¯ä»¥ä¿®æ”¹ä¸º &amp;mdash; ä¹‹ç±»çš„ ,å¯ä»¥å»æŠŠè®¿å­˜éœ€è¦çš„æ•°æ®æå‰&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 296;
flex-basis: 712px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151114817.png" data-size="591x199">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151114817.png"
width="591"
height="199"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151114817_hu396055995009789009.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151114817_hu14091866778141281238.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 264;
flex-basis: 633px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151122926.png" data-size="536x203">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151122926.png"
width="536"
height="203"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151122926_hu17293496163497610529.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151122926_hu13979690035990851764.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="æå‰å¼€å§‹">æå‰å¼€å§‹&lt;/h3>
&lt;p>åœ¨Cache lineè¯»å–åˆ°æŒ‡ä»¤éœ€è¦çš„æ•°æ®ä¹‹å,å°±å¯ä»¥è®©CPUå»ç»§ç»­æ‰§è¡Œäº† ,ç›¸æ¯”äºå…³é”®å­—ä¼˜å…ˆä¸éœ€è¦é¢å¤–çš„ç¡¬ä»¶,ä½†æ˜¯å¦‚æœæ•°æ®å¤„åœ¨æ•°æ®å—æ¯”è¾ƒåé¢çš„ä½ç½®,é‚£å°±æ²¡æœ‰å¤ªå¤§çš„ç”¨å¤„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 226;
flex-basis: 544px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151237967.png" data-size="490x216">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151237967.png"
width="490"
height="216"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151237967_hu3679352889834253705.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151237967_hu13572565010743933473.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºI-cache ,è™½ç„¶æŒ‡ä»¤éœ€è¦åšåˆ°é¡ºåºå–å‡º,ä½†æ˜¯ç”±äºå­˜åœ¨åˆ†æ”¯è·³è½¬,ä¹Ÿå¯ä»¥é€šè¿‡éé˜»å¡çš„æ“ä½œæ¥åŠ å¿«å–æŒ‡,ä¸åŒäºD-cahceçš„æ˜¯å–å‡ºçš„æŒ‡ä»¤å¿…é¡»æ˜¯é¡ºåºçš„,å¦‚æœå‰é¢çš„æŒ‡ä»¤æ²¡æœ‰è¢«å–å‡ºæ¥ä¹Ÿå¿…é¡»è¿›è¡Œç­‰å¾…ç›´åˆ°æ•°æ®è¢«å–å‡º&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 200;
flex-basis: 480px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151523608.png" data-size="521x260">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151523608.png"
width="521"
height="260"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151523608_hu5704554154872303021.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151523608_hu14489172107682820978.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 298;
flex-basis: 716px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151504187.png" data-size="660x221">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151504187.png"
width="660"
height="221"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151504187_hu6937163011637089782.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B08/image-20241026151504187_hu5649834906388973804.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>è¶…æ ‡é‡å¤„ç†å™¨&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>å‘å°„</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/</link><pubDate>Sat, 19 Oct 2024 20:25:19 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/</guid><description>&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>åªè¦å‘å°„é˜Ÿåˆ—ä¸­çš„ä¸€æ¡æŒ‡ä»¤çš„è‰åšä¹¦éƒ½å‡†å¤‡å¥½äº†,ä¸”æ»¡è¶³äº†å‘å°„çš„æ¡ä»¶,å°±å¯ä»¥é€åˆ°ç›¸åº”çš„FUä¸­æ‰§è¡Œ.å‘å°„é˜Ÿåˆ—çš„ä½œç”¨å°±æ˜¯ä½¿ç”¨ç¡¬ä»¶ä¿å­˜ä¸€å®šæ•°é‡çš„æŒ‡ä»¤,ç„¶åä»æŒ‡ä»¤ä¸­æ‰¾å‡ºå¯ä»¥æ‰§è¡Œçš„æŒ‡ä»¤&lt;/p>
&lt;p>å‘å°„æ—¶åºä¸€èˆ¬å¤„åœ¨å¤„ç†å™¨çš„å…³é”®è·¯å¾„ä¸Š,ç›´æ¥å½±å“å¤„ç†å™¨çš„å‘¨æœŸæ—¶é—´&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 164;
flex-basis: 394px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019211023251.png" data-size="596x363">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019211023251.png"
width="596"
height="363"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019211023251_hu10933506266918888330.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019211023251_hu6047188780366288377.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>(1)å‘å°„é˜Ÿåˆ—(Issue Queue),ç”¨æ¥å­˜å‚¨å·²ç»è¢«å¯„å­˜å™¨é‡å‘½å,ä½†æ˜¯æ²¡æœ‰è¢«é€åˆ°FUæ‰§è¡Œçš„æŒ‡ä»¤,ä¹Ÿç§°ä¸ºä¿ç•™ç«™(Reservation station)&lt;/p>
&lt;p>(2)åˆ†é…(allocation)ç”µè·¯,ç”¨æ¥ä»å‘å°„é˜Ÿåˆ—ä¸­æ‰¾åˆ°ç©ºé—²çš„ç©ºé—´,å°†å¯„å­˜å™¨é‡å‘½åä¹‹åçš„æŒ‡ä»¤å­˜å‚¨åœ¨å…¶ä¸­&lt;/p>
&lt;p>(3)é€‰æ‹©ç”µè·¯(ä»²è£ç”µè·¯),å‘å°„é˜Ÿåˆ—ä¸­å¤šæ¡æŒ‡ä»¤çš„æ“ä½œæ•°éƒ½å‡†å¤‡å¥½äº†,ç”µè·¯ä¼šæŒ‰ç…§ä¸€å®šè§„å¾‹,ä»å…¶ä¸­æ‰¾åˆ°æœ€åˆé€‚çš„æŒ‡ä»¤,é€åˆ°Fuä¸­å»&lt;/p>
&lt;p>(4)å”¤é†’ç”µè·¯,å½“ä¸€æ¡æŒ‡ä»¤ç»è¿‡FUæ‰§è¡Œè€Œå¾—åˆ°ç»“æœæ•°æ®æ—¶,ä¼šå°†å…¶é€šçŸ¥ç»™å‘å°„é˜Ÿåˆ—ä¸­æ‰€æœ‰ç­‰å¾…æ•°æ®çš„æŒ‡ä»¤,æŒ‡ä»¤å¯¹åº”çš„æºå¯„å­˜å™¨å°±ä¼šè¢«è®¾ç½®ä¸ºæœ‰æ•ˆçš„çŠ¶æ€,å³ä¸ºå”¤é†’.&lt;/p>
&lt;h3 id="é›†ä¸­å¼-or-åˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—">é›†ä¸­å¼ or åˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—&lt;/h3>
&lt;p>å¦‚æœæ‰€æœ‰FUå…±ç”¨ä¸€ä¸ªå‘å°„é˜Ÿåˆ—,å³ä¸ºé›†ä¸­å¼å‘å°„é˜Ÿåˆ—(centralized issue queue,CIQ)&lt;/p>
&lt;p>å¦‚æœæ¯ä¸€ä¸ªFUéƒ½æœ‰å•ç‹¬çš„å‘å°„é˜Ÿåˆ—,ç§°ä¸ºåˆ†å¸ƒå¼å‘å°„é˜Ÿåˆ—(Distributed issue queue,DIQ)&lt;/p>
&lt;p>CIQå®¹é‡å¤§,é€‰æ‹©ç”µè·¯å’Œå”¤é†’ç”µè·¯å¤æ‚,ç”µè·¯åˆ©ç”¨ç‡é«˜&lt;/p>
&lt;p>DIQä¼šå‡ºç°ä¸€ä¸ªå‘å°„é˜Ÿåˆ—æ»¡äº†,å…¶ä»–å‘å°„é˜Ÿåˆ—æ²¡æœ‰æ»¡,ä½†æ˜¯æœ€ç»ˆæ•°æ®è¢«é˜»å¡çš„æƒ…å†µ,å°±ä¼šå‡ºç°æ•ˆç‡ä½ä¸‹çš„é—®é¢˜&lt;/p>
&lt;h3 id="æ•°æ®æ•æ‰-or-éæ•°æ®æ•æ‰">æ•°æ®æ•æ‰ or éæ•°æ®æ•æ‰&lt;/h3>
&lt;p>å¯„å­˜å™¨çš„æ•°æ®è¯»å–æ—¶é—´&lt;/p>
&lt;h4 id="æ•°æ®æ•æ‰">æ•°æ®æ•æ‰&lt;/h4>
&lt;p>æµæ°´çº¿çš„å‘å°„é˜¶æ®µä¹‹å‰è¯»å–å¯„å­˜å™¨,è¢«å¯„å­˜å™¨é‡å‘½åçš„æŒ‡ä»¤ä¼šå…ˆè¯»å–ç‰©ç†å¯„å­˜å™¨å †,ç„¶åå°†è¯»å–åˆ°çš„å€¼ä¸€èµ·å†™å…¥åˆ°å‘å°„é˜Ÿåˆ—,æ²¡æœ‰è¢«è®¡ç®—å‡ºæ¥çš„æ•°æ®ä¼šä»¥ç¼–å·çš„å½¢å¼å†™å…¥,ä¾›å”¤é†’æ—¶ä½¿ç”¨,ä¼šè¢«æ ‡è®°ä¸ºæ— æ³•è·å¾—çŠ¶æ€(non-available),è¿™äº›å€¼ä¼šé€šè¿‡æ—è·¯ç½‘ç»œè·å–.åœ¨å‘å°„é˜Ÿåˆ—ä¸­,å­˜å‚¨æŒ‡ä»¤æ“ä½œæ•°çš„åœ°æ–¹ç§°ä¸ºpayload RAM&lt;/p>
&lt;p>ä¸€æ¡æŒ‡ä»¤è¢«ä»²è£ç”µè·¯é€‰ä¸­å‘å°„åˆ°FUä¸­å»,å®ƒä¼šå°†ç›®æ ‡å¯„å­˜å™¨è¿›è¡Œå¹¿æ’­,å…¶ä»–åœ¨å‘å°„é˜Ÿåˆ—çš„æŒ‡ä»¤å°±ä¼šå»å¯¹æ¯”,æœ‰ç›¸ç­‰çš„æƒ…å†µæ—¶å°±ä¼šåœ¨payload RAMè¿›è¡Œæ ‡è®°,åœ¨FUè®¡ç®—å®Œæˆä¹‹åä¼šå†™å…¥åˆ°payload RAM å¯¹åº”çš„ä½ç½® .&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 249;
flex-basis: 598px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019212613505.png" data-size="776x311">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019212613505.png"
width="776"
height="311"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019212613505_hu17079656071217617578.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019212613505_hu4889682781684174770.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>machine width : æ¯å‘¨æœŸå®é™…è§£ç å’Œé‡å‘½åçš„æŒ‡ä»¤ä¸ªæ•°&lt;/p>
&lt;p>issue width : æ¯å‘¨æœŸæœ€å¤šå¯ä»¥åœ¨FUä¸­å¹¶è¡Œæ‰§è¡Œçš„æŒ‡ä»¤ä¸ªæ•°&lt;/p>
&lt;p>åœ¨RISC é‡Œ machine width &amp;lt;= issue width&lt;/p>
&lt;p>ç‰©ç†å¯„å­˜å™¨çš„ç«¯å£æ•° = machine width * 2&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 109;
flex-basis: 262px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214007857.png" data-size="482x441">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214007857.png"
width="482"
height="441"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214007857_hu9745096111898785255.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214007857_hu6496583278703640029.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¤§å¤šæ•°æºæ“ä½œæ•°ä¼šç»å†ä¸¤è¯»1å†™,ä»å¯„å­˜å™¨è¯»å–å‡ºæ¥,é€åˆ°å‘å°„é˜Ÿåˆ—,ä»å‘å°„é˜Ÿåˆ—ä¸­è¯»å–é€åˆ°FU ,åŠŸè€—é«˜ ,é¢ç§¯å¤§&lt;/p>
&lt;p>å¯„å­˜å™¨é‡å‘½åæ–¹ä¾¿ ,æŒ‡ä»¤åœ¨é¡ºåˆ©ç¦»å¼€æµæ°´çº¿çš„æ—¶å€™,éœ€è¦å°†ç»“æœä»é‡æ’åºç¼“å­˜ä¸­æ¬ç§»åˆ°ARFä¸­,é‡‡ç”¨æ•°æ®æ•æ‰çš„æ–¹å¼å¯ä»¥ä¸ç”¨æƒ¯æ€§æŒ‡ä»¤ç»“æœçš„å˜åŒ–??????&lt;/p>
&lt;h4 id="éæ•°æ®æ•æ‰">éæ•°æ®æ•æ‰&lt;/h4>
&lt;p>åœ¨å‘å°„é˜¶æ®µä¹‹åè¯»å–ç‰©ç†å¯„å­˜å™¨å †,è¢«é‡å‘½åä¹‹åçš„æŒ‡ä»¤ä¸å»è¯»å–ç‰©ç†å¯„å­˜å™¨å †,è€Œæ˜¯ç›´æ¥å°†æºå¯„å­˜å™¨å †çš„ç¼–å·æ”¾åˆ°å‘å°„é˜Ÿåˆ—ä¸­å».å½“æŒ‡ä»¤è¢«é€‰ä¸­æ—¶,é€šè¿‡ç¼–å·è¯»å–ç‰©ç†å¯„å­˜å™¨å †,å°†è¯»å–å€¼é€åˆ°FUä¸­&lt;/p>
&lt;p>å¯„å­˜å™¨å †çš„è¯»ç«¯å£ = issue width ,æ¯”è¾ƒå¤§&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 116;
flex-basis: 278px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214531455.png" data-size="543x468">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214531455.png"
width="543"
height="468"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214531455_hu17049688566279640447.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019214531455_hu12853474364071027865.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="å‹ç¼©-or-éå‹ç¼©">å‹ç¼© or éå‹ç¼©&lt;/h3>
&lt;h4 id="å‹ç¼©">å‹ç¼©&lt;/h4>
&lt;p>å½“ä¸€æ¡æŒ‡ä»¤è¢«é€‰ä¸­ç¦»å¼€å‘å°„é˜Ÿåˆ—ä¹‹å,æŒ‡ä»¤ä¸Šé¢æ‰€æœ‰çš„æŒ‡ä»¤éƒ½ä¼šä¸‹ç§»ä¸€æ ¼&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 177;
flex-basis: 425px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215435572.png" data-size="620x350">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215435572.png"
width="620"
height="350"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215435572_hu11413087233639779848.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215435572_hu6794216728322161169.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>é€šè¿‡å¤šè·¯é€‰æ‹©å™¨è¿›è¡Œå‹ç¼©&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 230;
flex-basis: 554px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215543440.png" data-size="702x304">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215543440.png"
width="702"
height="304"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215543440_hu14122326088059142316.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215543440_hu10310402141209563975.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>è¿™ç§æ–¹å¼é€‰æ‹©ç”µè·¯æ¯”è¾ƒç®€å•,é€šè¿‡ä¼˜å…ˆç¼–ç é€‰æ‹©æœ€æ—§çš„å°±è¡Œäº†,oldest-firstæ–¹æ³• ,ä½†æ˜¯é€‰æ‹©ç”µè·¯çš„å»¶æ—¶å¾ˆé•¿&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 162;
flex-basis: 390px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215909085.png" data-size="512x315">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215909085.png"
width="512"
height="315"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215909085_hu10969826154039478454.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241019215909085_hu1981833134611443612.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¼˜ç‚¹å¦‚ä¸‹:&lt;/p>
&lt;p>1.åˆ†é…ç”µè·¯ç®€å•,å‘å°„é˜Ÿåˆ—ä¸­çš„ç©ºé—²ç©ºé—´æ€»æ˜¯å¤„äºä¸Šå±‚,åªéœ€è¦ä½¿ç”¨å‘å°„é˜Ÿåˆ—çš„å†™æŒ‡é’ˆ,æŒ‡å‘ç¬¬ä¸€ä¸ªç©ºé—²ç©ºé—´&lt;/p>
&lt;p>2.é€‰æ‹©ç”µè·¯ç®€å•.æœ€æ—§çš„æŒ‡ä»¤å­˜åœ¨çš„RAWç›¸å…³æ€§ä¹Ÿè¶Šå¤š,å…ˆæ‰§è¡Œå¯ä»¥æœ€å¤§ç¨‹åº¦é‡Šæ”¾å’Œå®ƒå­˜åœ¨RAWç›¸å…³æ€§çš„æŒ‡ä»¤&lt;/p>
&lt;p>ä½†æ˜¯&lt;/p>
&lt;p>1.å®ç°èµ·æ¥æµªè´¹é¢ç§¯&lt;/p>
&lt;p>2.åŠŸè€—å¤§&lt;/p>
&lt;h4 id="éå‹ç¼©">éå‹ç¼©&lt;/h4>
&lt;p>æ²¡æœ‰ç§»åŠ¨&lt;/p>
&lt;h2 id="å‘å°„è¿‡ç¨‹ä¸­çš„æµæ°´çº¿">å‘å°„è¿‡ç¨‹ä¸­çš„æµæ°´çº¿&lt;/h2>
&lt;h3 id="éæ•°æ®æ•æ‰ç»“æ„çš„æµæ°´çº¿">éæ•°æ®æ•æ‰ç»“æ„çš„æµæ°´çº¿&lt;/h3>
&lt;p>è¦è¢«FUæ‰§è¡Œ&lt;/p>
&lt;p>(1)æŒ‡ä»¤æ‰€æœ‰çš„æºæ“ä½œæ•°å‡†å¤‡å¥½äº†&lt;/p>
&lt;p>(2)æŒ‡ä»¤è¢«å‘å°„é˜Ÿåˆ—é€‰ä¸­&lt;/p>
&lt;p>(3)èƒ½å¤Ÿä»å¯„å­˜å™¨,payload RAMæˆ–è€…æ—è·¯ç½‘ç»œè·å¾—æºæ“ä½œæ•°&lt;/p>
&lt;p>ä¸‹å›¾å‘å°„è¿‡ç¨‹è¢«åˆ†ä¸ºäº†å”¤é†’(wake-up)å’Œä»²è£(Select)ä¸¤ä¸ªæµæ°´çº¿é˜¶æ®µ&lt;/p>
&lt;p>å”¤é†’é˜¶æ®µ,å‘å°„é˜Ÿåˆ—ä¸­çš„æ‰€æœ‰ç›¸å…³å¯„å­˜å™¨ä¼šè¢«ç½®ä¸ºå‡†å¤‡å¥½çš„çŠ¶æ€&lt;/p>
&lt;p>ä»²è£é˜¶æ®µ,ä¼šä½¿ç”¨ä»²è£ç”µè·¯é€‰æ‹©ä¸€æ¡æœ€åˆé€‚çš„æŒ‡ä»¤é€åˆ°FUä¸­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 357;
flex-basis: 857px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020130427036.png" data-size="836x234">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020130427036.png"
width="836"
height="234"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020130427036_hu13578928480996287574.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020130427036_hu15483047359496982778.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>tomasuloç®—æ³•:åœ¨æŒ‡ä»¤æ‰§è¡Œå®Œæ‰å¯¹ç›¸å…³æŒ‡ä»¤è¿›è¡Œå”¤é†’&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡å°†å”¤é†’è¿‡ç¨‹æå‰æ¥è·å¾—æ›´é«˜æ€§èƒ½&lt;/p>
&lt;p>å³åœ¨æŒ‡ä»¤Aè¢«ä»²è£ç”µè·¯é€‰ä¸­åå°±å¯¹å…¶ä»–å¯„å­˜å™¨è¿›è¡Œå”¤é†’,è¿™æ ·æŒ‡ä»¤Båœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸå°±èƒ½å¤Ÿè¢«ä»²è£&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 267;
flex-basis: 643px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131005465.png" data-size="611x228">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131005465.png"
width="611"
height="228"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131005465_hu12261158574036134191.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131005465_hu15538349812895092404.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ„æ€æ˜¯ Select å’Œ wake-upåº”è¯¥æ˜¯åœ¨åŒä¸€ä¸ªå‘¨æœŸçš„ä¸²è¡Œ,Aè¢«å”¤é†’æ‰èƒ½å¤Ÿå»selectB&lt;/p>
&lt;p>è¿™ç§æ“ä½œç§°ä¸º&amp;quot;åŸå­çš„&amp;quot;&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 210;
flex-basis: 504px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131410841.png" data-size="818x389">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131410841.png"
width="818"
height="389"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131410841_hu14381474285825173627.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020131410841_hu7271168370352068712.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ‹†åˆ†æµæ°´çº¿å¯ä»¥ä½¿å¾—ä¸»é¢‘å‡é«˜,ä½†æ˜¯&lt;/p>
&lt;p>(1)åˆ†æ”¯é¢„æµ‹å¤±è´¥,æƒ©ç½šå¢åŠ &lt;/p>
&lt;p>(2)cacheè®¿é—®çš„å‘¨æœŸæ•°å¢åŠ &lt;/p>
&lt;p>(3)åŠŸè€—å¢å¤§&lt;/p>
&lt;p>ä»¥ä¸Šæ˜¯å‡è®¾æ‰§è¡Œæ˜¯ä¸€ä¸ªå‘¨æœŸ,å®é™…ä¸Šå¹¶ä¸æ­¢&lt;/p>
&lt;h3 id="æ•°æ®æ•æ‰ç»“æ„çš„æµæ°´çº¿">æ•°æ®æ•æ‰ç»“æ„çš„æµæ°´çº¿&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 237;
flex-basis: 568px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020132530404.png" data-size="858x362">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020132530404.png"
width="858"
height="362"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020132530404_hu7642558332426759119.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020132530404_hu738880975121771762.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯ä»¥æŠŠselectå’Œpayloadæ”¾åœ¨åŒä¸€ä¸ªæµæ°´æ®µ ,åœ¨æŒ‡ä»¤è¢«ä»²è£ç”µè·¯é€‰ä¸­ä¹‹å,åœ¨åŒä¸€ä¸ªå‘¨æœŸå¯¹å‘å°„é˜Ÿåˆ—å…¶ä»–çš„æŒ‡ä»¤è¿›è¡Œå”¤é†’,åŒæ—¶å»è¯»å–payload RAM,è¿™ä¸¤ä¸ªæ“ä½œæ˜¯å¹¶è¡Œè¿›è¡Œçš„,åœ¨è¿™ä¸ªæµæ°´æ®µè¿˜ä¼šè´Ÿè´£payload RAMçš„è¯»å–å’Œå†™å…¥,ä¼šå¯¼è‡´å¤„ç†å™¨çš„å‘¨æœŸæ—¶é—´å˜å¾—è¿‡å¤§.&lt;/p>
&lt;p>æ—è·¯ç½‘ç»œè¿™æ ·æ˜¯å•¥æ„æ€????&lt;/p>
&lt;p>å¦ä¸€ç§è®¾è®¡æ–¹å¼æ˜¯æŠŠpayloadå•ç‹¬æ”¾æˆä¸€ä¸ªæµæ°´æ®µ,æ—è·¯å’Œæ‰§è¡Œåˆ†æˆä¸¤ä¸ªæµæ°´æ®µ,åœ¨æ—è·¯é˜¶æ®µ,FUçš„ç»“æœä¼šè¢«é€åˆ°payload RAMå’ŒFUçš„è¾“å…¥ç«¯&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 241;
flex-basis: 579px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020134351478.png" data-size="799x331">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020134351478.png"
width="799"
height="331"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020134351478_hu15363317278529565932.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020134351478_hu3440636031536888040.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="åˆ†é…">åˆ†é…&lt;/h2>
&lt;p>å¯¹äºéå‹ç¼©çš„æ–¹å¼è®¾è®¡çš„å‘å°„é˜Ÿåˆ—,éœ€è¦åˆ†é…ç”µè·¯æ‰«ææ•´ä¸ªå‘å°„é˜Ÿåˆ—,æ‰¾åˆ°å››ä¸ªç©ºé—²çš„è¡¨é¡¹å¹¶å°†å››æ¡æŒ‡ä»¤å†™å…¥&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 111;
flex-basis: 268px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140342425.png" data-size="478x427">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140342425.png"
width="478"
height="427"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140342425_hu915797298984400432.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140342425_hu13892753167635664755.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
å¯ä»¥ä½¿ç”¨ä¸€ä¸ªè¡¨æ ¼æ¥è®°å½•æ‰€æœ‰ç©ºé—²è¡¨é¡¹çš„ç¼–å·,æŒ‰ç…§FIFOçš„æ–¹å¼ç®¡ç†,ä¹Ÿå¯ä»¥ç®€å•æŠŠå‘å°„é˜Ÿåˆ—åˆ†ä¸ºå¤šä¸ªéƒ¨åˆ†,æ¯ä¸ªæ®µé€‰ä¸€ä¸ªç©ºé—²ç¼–å·,ä½†æ˜¯ä¼šå‡ºç°é—®é¢˜å°±æ˜¯å¦‚æœæœ‰ä¸€ä¸ªè¡¨é¡¹éç©ºçš„è¯,ä¼šé˜»ç¢å…¶ä»–æŒ‡ä»¤çš„æ”¾å…¥,ç”šè‡³ç”±äºåœ¨å¯„å­˜å™¨é‡å‘½åé˜¶æ®µæ˜¯in-orderçŠ¶æ€Açš„æ— æ³•æ”¾å…¥ä¼šå¯¼è‡´åç»­æŒ‡ä»¤éƒ½æ— æ³•æ”¾å…¥&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 117;
flex-basis: 282px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140649280.png" data-size="529x450">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140649280.png"
width="529"
height="450"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140649280_hu16173649002378560098.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020140649280_hu10959566968097053341.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="ä»²è£">ä»²è£&lt;/h2>
&lt;p>æœ€å¥½å®ç°oldest-firståŠŸèƒ½çš„ä»²è£&lt;/p>
&lt;h3 id="1-of-mä»²è£">1-of-Mä»²è£&lt;/h3>
&lt;p>å¯ä»¥é€šè¿‡æŒ‡ä»¤åœ¨ROBä¸­çš„ä½ç½®ä½œä¸ºæŒ‡ä»¤çš„å¹´é¾„ä¿¡æ¯,ä½†æ˜¯ç”±äºROBæ˜¯ä¸€ä¸ªå¾ªç¯é˜Ÿåˆ—,æ‰€æœ‰å•çº¯çš„åœ°å€æ˜¯æ— æ³•è¡¨å¾å¹´é¾„çš„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 387;
flex-basis: 930px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143224470.png" data-size="834x215">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143224470.png"
width="834"
height="215"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143224470_hu11734813543713119581.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143224470_hu2948785691697860533.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å…¶å®æˆ‘è§‰å¾—,ç›´æ¥æ¯”è¾ƒè¯»å†™åœ°å€å¯ä»¥çš„å§,è¯»æŒ‡é’ˆ &amp;gt; å†™æŒ‡é’ˆ , ä¸‹æ–°ä¸Šæ—§ , è¯»æŒ‡é’ˆ &amp;lt; å†™æŒ‡é’ˆ , ä¸Šæ–°ä¸‹æ—§ ,å…¶å®è¯»æŒ‡é’ˆ &amp;gt; å†™çš„æ—¶å€™,ä¹Ÿä»£è¡¨ä¸¤è€…ä¸æ˜¯ä¸€é¢çš„&lt;/p>
&lt;p>å¯ä»¥åœ¨ROBä¸­åœ°å€å‰é¢å†åŠ å…¥ä¸€ä½,ç§°ä¸ºä½ç½®å€¼.æƒ³å½“äºå¯¹äºè¯»å†™åœ°å€åˆåŠ äº†ä¸€ä½&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 83;
flex-basis: 199px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143555564.png" data-size="333x400">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143555564.png"
width="333"
height="400"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143555564_hu8819546655997073234.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020143555564_hu10037926471509499272.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 121;
flex-basis: 292px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020201905180.png" data-size="550x451">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020201905180.png"
width="550"
height="451"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020201905180_hu12240918921388596847.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020201905180_hu6071650023988884185.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>(1)ä½ç½®å€¼ç›¸åŒæ—¶,ROBåœ°å€è¶Šå°,å¯¹åº”çš„æŒ‡ä»¤è¶Šæ—§&lt;/p>
&lt;p>(2)ä½ç½®å€¼ä¸åŒæ—¶,ROBåœ°å€è¶Šå¤§,å¯¹åº”çš„æŒ‡ä»¤è¶Šæ—§,æ¯”æ–¹è¯´æƒ…å†µ2çš„ 0 10 ä¸ 1 01 æ¯”è¾ƒ,æ˜æ˜¾æ˜¯0 10 æ—§&lt;/p>
&lt;p>å…ˆæ ¹æ®æ˜¯å¦rdyé€‰å‡ºæŒ‡ä»¤,å†æ ¹æ®å¹´é¾„è¿›è¡Œç­›é€‰&lt;/p>
&lt;p>äºŒåˆ†&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 160;
flex-basis: 385px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020202810467.png" data-size="472x294">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020202810467.png"
width="472"
height="294"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020202810467_hu15299360207959238160.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020202810467_hu12909387690140829006.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 128;
flex-basis: 307px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203048042.png" data-size="806x629">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203048042.png"
width="806"
height="629"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203048042_hu1482760444792659261.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203048042_hu4089846200509570806.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>è¯¥ç”µè·¯èƒ½å¤Ÿå¾—åˆ°æœ€å°çš„å¹´é¾„å€¼,ä½†æ˜¯è¿˜éœ€è¦å¾—åˆ°æœ€å°å¹´é¾„å€¼å¯¹åº”çš„æŒ‡ä»¤,æœ€æ–¹ä¾¿çš„æ˜¯å°†æŒ‡ä»¤ä¿¡æ¯ä¹Ÿä¸€åŒé™„ä¸Šå»&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 145;
flex-basis: 350px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203340063.png" data-size="496x340">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203340063.png"
width="496"
height="340"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203340063_hu10454207305702131865.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020203340063_hu4651879014994689033.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="n-of-m-ä»²è£ç”µè·¯">N of M ä»²è£ç”µè·¯&lt;/h3>
&lt;p>å‡ ä¸ªFUå…±ç”¨ä¸€ä¸ªå‘å°„é˜Ÿåˆ—,å‘å°„é˜Ÿåˆ—éœ€è¦åœ¨ä¸€ä¸ªå‘¨æœŸå†…ä¸ºæ²¡ä¸€ä¸ªFUé€‰æ‹©å‡ºä¸€æ¡æŒ‡ä»¤,å°±è¦æ±‚æœ‰ä¸€ä¸ªN of Mçš„ä»²è£ç”µè·¯&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡ä¸¤çº§ä»²è£ç”µè·¯å®ç°,ç¬¬ä¸€çº§é€‰æ‹©ä¸€æ¡æŒ‡ä»¤åå¯¹ç¬¬äºŒçº§è¿›è¡Œæ ‡è®°,ä½†æ˜¯è¿™æ ·å»¶æ—¶æå¤§&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 172;
flex-basis: 414px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204057330.png" data-size="601x348">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204057330.png"
width="601"
height="348"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204057330_hu14705004795844087432.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204057330_hu18352542851947980875.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹æ¯ä¸€ä¸ªFUä½¿ç”¨ä¸€ä¸ª1 of Mçš„ä»²è£å™¨, æ ¹æ®æŒ‡ä»¤ç±»å‹è¿›è¡Œåˆ†ç±»,è¿™æ ·å°±ä¼šå­˜åœ¨ç›¸åŒç±»å‹çš„æŒ‡ä»¤ä¼šé˜»å¡æˆ–è€…ä¸€éƒ¨åˆ†FUå¤„åœ¨ç©ºé—²çŠ¶æ€çš„é—®é¢˜&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡å¢åŠ FUçš„æ•°é‡è§£å†³ä¸Šè¿°é—®é¢˜,ä½†æ˜¯æ¯”æ–¹æ•°ä¸¤ä¸ªALU,æŒ‡ä»¤è¯¥åˆ†é…ç»™å“ªä¸ªALUåˆæ˜¯ä¸€ä¸ªé—®é¢˜,å¯ä»¥é€šè¿‡è½®æ¢åˆ†é…æ³•å®ç°,ä½†æ˜¯è¿™æ ·æ˜¯æ— æ³•ä¿è¯ä¸¥æ ¼çš„oldest-firståŸåˆ™çš„,è€Œä¸”æœ‰å¯èƒ½ä¼šæµªè´¹FUèµ„æº&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 268;
flex-basis: 645px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204725711.png" data-size="828x308">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204725711.png"
width="828"
height="308"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204725711_hu5869953476708852689.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020204725711_hu13988473186677534807.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä¸€èˆ¬æ¥è¯´,åŠ å‡æ³•,é€»è¾‘è¿ç®—,ç§»ä½è¿ç®—åˆæˆä¸€ä¸ªFU,&lt;/p>
&lt;p>æƒ©ç½šå’Œé™¤æ³•åˆæˆä¸€ä¸ª,&lt;/p>
&lt;p>è®¿é—®å­˜å‚¨å™¨å’Œè®¿é—®åå¤„ç†å™¨åˆå¹¶åœ¨ä¸€èµ·,&lt;/p>
&lt;p>æµ®ç‚¹è¿ç®—åˆå¹¶åœ¨ä¸€èµ·&lt;/p>
&lt;h2 id="å”¤é†’">å”¤é†’&lt;/h2>
&lt;h3 id="å•å‘¨æœŸçš„å”¤é†’">å•å‘¨æœŸçš„å”¤é†’&lt;/h3>
&lt;p>å”¤é†’æ˜¯æŒ‡è¢«ä»²è£å™¨é€‰ä¸­çš„æŒ‡ä»¤å°†ç›®çš„å¯„å­˜å™¨çš„ç¼–å·(dst_tag)å’Œå‘å°„é˜Ÿåˆ—ä¸­æ‰€æœ‰æºå¯„å­˜å™¨çš„ç¼–å·è¿›è¡Œæ¯”è¾ƒ,å¹¶å°†é‚£äº›æ¯”è¾ƒç»“æœç›¸ç­‰çš„æºå¯„å­˜å™¨è¿›è¡Œæ ‡è®°çš„è¿‡ç¨‹&lt;/p>
&lt;p>ä¸‹é¢çš„ç”µè·¯æ˜¯æ‰€æœ‰ä»²è£ç”µè·¯å…±äº«ä¸€ä¸ªå‘å°„é˜Ÿåˆ—çš„æƒ…å†µ, æ‰€ä»¥å‘å°„é˜Ÿåˆ—åªä¼šæ¥å—åˆ°ä¸€ä¸ªå“åº”,å› ä¸ºåŒä¸€æ—¶åˆ»è‚¯å®šåªæœ‰ä¸€æ¡æŒ‡ä»¤è¢«ä»²è£,æ¯ä¸ªFUéƒ½ä¼šä½¿ç”¨ä¸€ä¸ªä»²è£ç”µè·¯&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 209;
flex-basis: 503px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020213306752.png" data-size="881x420">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020213306752.png"
width="881"
height="420"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020213306752_hu12195273095659706992.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020213306752_hu9126926194952235300.png 1024w"
loading="lazy"
alt="image-20241020213306752">
&lt;/a>
&lt;figcaption>image-20241020213306752&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>(1)ValL:æŒ‡ä»¤ä¸­æ˜¯å¦å­˜åœ¨ç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨&lt;/p>
&lt;p>(2)SrcL:æŒ‡ä»¤ä¸­ç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨çš„ç¼–å·&lt;/p>
&lt;p>(3)RdyL:æŒ‡ä»¤ä¸­ç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨æ˜¯å¦å·²ç»è¢«å”¤é†’è€Œå¤„äºå‡†å¤‡å¥½çš„çŠ¶æ€&lt;/p>
&lt;p>(4)ValR:ç¬¬äºŒä¸ª&lt;/p>
&lt;p>(5)Dest:ç›®çš„å¯„å­˜å™¨çš„ç¼–å·&lt;/p>
&lt;p>(6)Issued:ä¸€æ¡æŒ‡ä»¤è¢«ä»²è£ç”µè·¯é€‰ä¸­ä¹‹å,å¯èƒ½ä¸ä¼šé©¬ä¸Šç¦»å¼€å‘å°„é˜Ÿåˆ—,éœ€è¦è¿›è¡Œæ ‡è®°,è¿™æ ·çš„æŒ‡ä»¤ä¸ä¼šå‘ä»²è£ç”µè·¯å‘å‡ºè¯·æ±‚ä¿¡å·&lt;/p>
&lt;p>ä¸ºä»€ä¹ˆæœ‰å››ä¸ªä»²è£ç”µè·¯?????æ˜¯ä¸æ˜¯æŒ‡å¤šä¸ªFU,ä½†æ˜¯å¤šä¸ªFUä¸æ˜¯åº”è¯¥å¯ä»¥æ¥å—å¤šä¸ªè¯·æ±‚&lt;/p>
&lt;p>å‘å°„é˜Ÿåˆ—çš„æ¯ä¸€ä¸ªè¡¨é¡¹éƒ½ä¼šæ ¹æ®å››ä¸ªå“åº”ä¿¡å·çš„å€¼,å°†è‡ªèº«çš„ç›®çš„å¯„å­˜å™¨ç¼–å·é€åˆ°å¯¹åº”çš„æ€»çº¿ä¸Šå»,æ¯ä¸ªä»²è£ç”µè·¯å¯¹åº”ä¸€ä¸ªæ€»çº¿&lt;/p>
&lt;ol>
&lt;li>è¢«ä»²è£ç”µè·¯é€‰æ‹©çš„æŒ‡ä»¤ä¼šå°†å®ƒçš„ç›®çš„å¯„å­˜å™¨ç¼–å·é€åˆ°å¯¹åº”çš„æ€»çº¿ä¸Š&lt;/li>
&lt;li>æ¯ä¸€æ¡æ€»çº¿çš„å€¼ä¼šå’Œå‘å°„é˜Ÿåˆ—ä¸­æ‰€æœ‰æŒ‡ä»¤çš„æºå¯„å­˜å™¨çš„ç¼–å·è¿›è¡Œæ¯”è¾ƒ,å¦‚æœå‘ç°ç›¸ç­‰,æ ‡è®°ä¸ºå‡†å¤‡å¥½çš„çŠ¶æ€&lt;/li>
&lt;li>å½“å‘å°„é˜Ÿåˆ—æŸæ¡æŒ‡ä»¤çš„æ“ä½œæ•°éƒ½å‡†å¤‡å¥½äº†,å¹¶ä¸”æ²¡æœ‰è¢«ä»²è£ç”µè·¯é€‰ä¸­è¿‡,å°±å¯ä»¥æƒ³ä»²è£ç”µè·¯å‘é€è¯·æ±‚ä¿¡å·&lt;/li>
&lt;li>å¦‚æœä»²è£ç”µè·¯å‘ç°æœ‰æ›´é«˜ä¼˜å…ˆçº§çš„æŒ‡ä»¤å‘å‡ºè¯·æ±‚,å½“å‰æŒ‡ä»¤ä¸ä¼šå¾—åˆ°æœ‰æ•ˆå“åº”ä¿¡å·,éœ€è¦å†ä¹‹åçš„å‘¨æœŸç»§ç»­å‘é€è¯·æ±‚ä¿¡å·.åœ¨ä¸€äº›è®¾è®¡ä¸­,å¯ä»¥è½®æµå‘å¤šä¸ªä»²è£ç”µè·¯å‘é€è¯·æ±‚.å¦‚æœä»ä»²è£ç”µè·¯ä¸­å¾—åˆ°æœ‰æ•ˆä¿¡å·,å°±ä¼šå§issuedç½®ä½.ä¸€æ¡è¢«é€‰ä¸­çš„æŒ‡ä»¤ä¸ä¼šç«‹åˆ»ç¦»å¼€å‘å°„é˜Ÿåˆ—,å› ä¸ºä¸€ä¸ªæŒ‡ä»¤å¦‚æœä½¿ç”¨äº†loadæŒ‡ä»¤çš„ç»“æœ,å³ä½¿è¢«ä»²è£ç”µè·¯é€‰ä¸­,ä¹Ÿä¸èƒ½ç¦»å¼€&lt;/li>
&lt;li>å‘å°„é˜Ÿåˆ—çš„æŒ‡ä»¤æ›´å…·å“åº”ä¿¡å·,,æŠŠç›®çš„å¯„å­˜å™¨ç¼–å·é€åˆ°å¯¹åº”æ€»çº¿ä¸Šå»,ç”¨æ¥å”¤é†’å‘å°„é˜Ÿåˆ—ä¸­æ‰€æœ‰ç›¸å…³çš„æºå¯„å­˜å™¨&lt;/li>
&lt;/ol>
&lt;h3 id="å¤šå‘¨æœŸçš„å”¤é†’">å¤šå‘¨æœŸçš„å”¤é†’&lt;/h3>
&lt;p>å•å‘¨æœŸçš„å”¤é†’èƒ½å¤Ÿåœ¨ä¸€ä¸ªå‘¨æœŸè¢«FUæ‰§è¡Œå®Œæ¯•,ä½†æ˜¯å½“ä¸€æ¡æŒ‡ä»¤æ— æ³•åœ¨ä¸€ä¸ªå‘¨æœŸæ‰§è¡Œå®Œæ¯•æ—¶,éœ€è¦æ ¹æ®å¥¹åœ¨FUä¸­çš„å‘¨æœŸæ•°,å°†å”¤é†’è¿‡ç¨‹å»¶è¿Ÿ&lt;/p>
&lt;p>æ ¹æ®å”¤é†’çš„è¿‡ç¨‹&lt;/p>
&lt;h4 id="å»¶è¿Ÿå¹¿æ’­">å»¶è¿Ÿå¹¿æ’­.&lt;/h4>
&lt;p>å‘ç°è¢«ä»²è£ç”µè·¯é€‰ä¸­çš„æŒ‡ä»¤æ‰§è¡Œå‘¨æœŸå¤§äº1,åˆ™åœ¨é€‰ä¸­çš„å½“å‰å‘¨æœŸ,ä¸è®²æŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨ç¼–å·é€åˆ°æ€»çº¿ä¸Š,è€Œæ˜¯æ ¹æ®é€‰ä¸­æŒ‡ä»¤éœ€è¦æ‰§è¡Œçš„å‘¨æœŸæ•°(N),å»¶è¿ŸN-1å‘¨æœŸ,æ‰é€åˆ°æ€»çº¿ä¸Šå»&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 490;
flex-basis: 1176px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020215810850.png" data-size="838x171">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020215810850.png"
width="838"
height="171"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020215810850_hu3236811294374040669.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020215810850_hu5826633055030736483.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å»¶è¿Ÿå¹¿æ’­ä¹‹åå¯èƒ½å‡ºç°tag busäº§ç”Ÿå†²çª,æ¯”æ–¹è¯´ä¸‹é¢çš„MULå’ŒADDåœ¨åŒä¸€æ—¶åˆ»éœ€è¦å°†ç›®çš„å¯„å­˜å™¨çš„å€¼é€åˆ°tag broadcast busä¸Š&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 290;
flex-basis: 696px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020220227829.png" data-size="836x288">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020220227829.png"
width="836"
height="288"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020220227829_hu16861531667843717354.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241020220227829_hu3627428205873869122.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡å¢åŠ æ€»çº¿çš„æ•°é‡,ä¹Ÿå¯ä»¥åˆ©ç”¨è¡¨æ ¼,è®°å½•ä¸‹FUæ‰§è¡ŒæŒ‡ä»¤æ‰€éœ€è¦çš„å‘¨æœŸæ•°,è¢«ä»²è£ç”µè·¯é€‰ä¸­çš„æŒ‡ä»¤,å¦‚æœå‘ç°å†²çª,è¢«é€‰ä¸­çš„æŒ‡ä»¤ä¸ä¼šé€åˆ°FUä¸­æ‰§è¡Œ,è€Œæ˜¯åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸç»§ç»­å‚ä¸ä»²è£&lt;/p>
&lt;p>ä½†æ˜¯è¿˜æ˜¯å­˜åœ¨ä¸€ä¸ªé—®é¢˜,å°±æ˜¯æŒ‡ä»¤Bè¢«å¦å†³(cycle 1),æœ¬èº«æŒ‡ä»¤Cæ˜¯å¯ä»¥è¢«ä»²è£çš„,ä½†æ˜¯Cæ¯”Bè¦æ–°,æ‰€ä»¥è¿™ä¸ªå‘¨æœŸè¢«æµªè´¹æ‰äº†,æ‰€ä»¥å¯ä»¥å…ˆæ£€æŸ¥æ˜¯å¦å†²çª,å¦‚æœå†²çªçš„è¯å°±ä¸å‘ä»²è£ç”µè·¯å‘èµ·è¯·æ±‚äº†(ä¸å‘è¯·æ±‚å¾ˆå¥‡æ€ªå•Š,å‘è¯·æ±‚åœ¨ä»²è£çš„æ—¶å€™å¦å†³è¡Œä¸è¡Œ),ä½†æ˜¯è¿™æ ·è®¿é—®ç½‘ç»œå’Œä»²è£ç”µè·¯æ˜¯ä¸²è¡Œçš„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 168;
flex-basis: 403px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021131316298.png" data-size="580x345">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021131316298.png"
width="580"
height="345"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021131316298_hu3250847906907956578.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021131316298_hu13178792662719264520.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="å»¶è¿Ÿå”¤é†’">å»¶è¿Ÿå”¤é†’&lt;/h4>
&lt;p>æœ€ä¼˜è§£å°±å°±æ˜¯è¦å»å®ç°èƒŒå¯¹èƒŒæ‰§è¡Œ,ä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œå’Œåä¸€æ¡æŒ‡ä»¤çš„æ‰§è¡Œæ˜¯å…ˆåçš„&lt;/p>
&lt;p>åœ¨æ¯”è¾ƒç»“æœç›¸ç­‰æ—¶,ä¸é©¬ä¸Šç½®ä¸ºå‡†å¤‡å¥½çš„çŠ¶æ€,è€Œæ˜¯æ ¹æ®æŒ‡ä»¤æ‰€éœ€è¦çš„æ‰§è¡Œå‘¨æœŸæ•°,è¿›è¡Œç›¸åº”å‘¨æœŸçš„å»¶æ—¶,ç„¶åå†æ”¹å˜å‘å°„é˜Ÿåˆ—ä¸­æºå¯„å­˜å™¨çš„çŠ¶æ€&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 237;
flex-basis: 570px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133753495.png" data-size="632x266">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133753495.png"
width="632"
height="266"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133753495_hu13815543178213961515.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133753495_hu9998523058420159875.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 408;
flex-basis: 979px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133917852.png" data-size="816x200">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133917852.png"
width="816"
height="200"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133917852_hu12597106233390159010.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021133917852_hu3885520225871445685.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>é€šè¿‡ç§»ä½å¯„å­˜å™¨å®ç°å»¶è¿Ÿå”¤é†’çš„æ•ˆæœ.åœ¨è§£ç é˜¶æ®µå¯¹æ¯æ¡æŒ‡ä»¤æ‰§è¡Œå‘¨æœŸæ•°è¿›è¡Œç¼–ç ,ç§°ä¸ºDELAY,åœ¨å°†ç›®çš„å¯„å­˜å™¨é€åˆ°æ€»çº¿å¤–,è¿˜éœ€è¦å°†DELAYå€¼ä¹Ÿé€åˆ°æ€»çº¿ä¸Šå».ç§°ä¸ºDELAY bus .&lt;/p>
&lt;p>Freed :è¡¨é¡¹æ˜¯å¦ç©ºé—²&lt;/p>
&lt;p>Issued:æŒ‡ä»¤æ˜¯å¦è¢«ä»²è£ç”µè·¯é€‰æ‹©&lt;/p>
&lt;p>SrcL:ç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨ç¼–å·&lt;/p>
&lt;p>SrcL_M:å½“å¯„å­˜å™¨ç¼–å·æ¯”è¾ƒç»“æœç›¸ç­‰æ—¶,ç½®1;å½“æ¥æ”¶åˆ°ä»²è£ç”µè·¯çš„å“åº”ä¿¡å·å,æ¸…0,å®ƒæ˜¯ç§»ä½å¯„å­˜å™¨è¿›è¡Œç®—æ•°å³ç§»çš„ä½¿èƒ½æ ‡å¿—&lt;/p>
&lt;p>SrcL_SHIFT:ç§»ä½å¯„å­˜å™¨,å½“ç¼–å·æ¯”è¾ƒç»“æœç›¸ç­‰æ—¶,å°†DELAYå†™å…¥ç§»ä½å¯„å­˜å™¨,æ¯å‘¨æœŸè¿›è¡Œç®—æ•°å³ç§»&lt;/p>
&lt;p>Rdy:è¡¨ç¤ºç¬¬ä¸€ä¸ªæºå¯„å­˜å™¨æ˜¯å¦å‡†å¤‡å¥½äº†&lt;/p>
&lt;p>SrcR_imm_valid :è¡¨ç¤ºç¬¬äºŒä¸ªæ“ä½œæ•°æ˜¯å¦æ˜¯ç«‹å³æ•°&lt;/p>
&lt;p>ROB ID:æŒ‡ä»¤åœ¨ROBçš„ä½ç½®,ä½¿å¾—å…¶èƒ½å¤Ÿå®ç°oldest-firsté€‰æ‹©&lt;/p>
&lt;p>ç¼–ç å½¢å¼æ˜¯ç±»ä¼¼äº11111000(8ä½),åœ¨ç»è¿‡3ä¸ªç®—æ•°å³ç§»ä¹‹åæœ€ä½ä½å°±æ˜¯1,å°±æ˜¯Rdy=1&lt;/p>
&lt;p>ç›´åˆ°è¢«ä»²è£ç”µè·¯å“åº”æˆ–è€…è¯´é€‰æ‹©ä¹‹å,SrcL_M,srcL_SHIFTéƒ½ä¼šæ¸…é›¶,å…¶ä»–æ—¶å€™Rdyéƒ½ä¼šä¿æŒç€1çš„çŠ¶æ€å‘é€è¯·æ±‚,ç›´åˆ°è¢«ä»²è£&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 153;
flex-basis: 368px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021142521046.png" data-size="847x552">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021142521046.png"
width="847"
height="552"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021142521046_hu3664706843096973520.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021142521046_hu17387076878035751376.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="æ¨æµ‹å”¤é†’">æ¨æµ‹å”¤é†’&lt;/h3>
&lt;p>å¯¹äºæŸäº›æŒ‡ä»¤,æŒ‡ä»¤åœ¨FUä¸­æ‰§è¡Œçš„å‘¨æœŸæ•°æ˜¯å¯ä»¥è¢«é¢„æµ‹çš„,è¿™æ ·æ‰å¯èƒ½åˆ†é…ä¸€ä¸ªç¡®å®šçš„DELAYå€¼&lt;/p>
&lt;p>ä½†æ˜¯å¯¹äº&lt;/p>
&lt;p>(1)LoadæŒ‡ä»¤&lt;/p>
&lt;p>(2)æŸäº›å¤„ç†å™¨çš„ç‰¹æ®Šæƒ…å†µ,ä¾‹å¦‚RowerPC 603å¤„ç†å™¨å­˜åœ¨early out,å³å½“è¢«é™¤æ•°å€¼æ¯”è¾ƒå°æ—¶èƒ½å¤Ÿè¢«æå‰é¢„æµ‹æŒ‡ä»¤&lt;/p>
&lt;p>æ¯”è¾ƒç®€å•çš„æ–¹æ³•å°±æ˜¯ç­‰æŒ‡ä»¤æ‰§è¡Œå®Œäº†ä¹‹åå†å»å”¤é†’å…¶ä»–æŒ‡ä»¤&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 345;
flex-basis: 828px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192837731.png" data-size="787x228">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192837731.png"
width="787"
height="228"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192837731_hu13555257517852508750.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192837731_hu3376860337472421188.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯ä»¥ä¼˜åŒ–ä¸€ä¸‹å°±æ˜¯ä¸€èˆ¬loadæŒ‡ä»¤åœ¨ç¬¬ä¸€ä¸ªå‘¨æœŸè®¡ç®—åœ°å€,ç¬¬äºŒä¸ªå‘¨æœŸè®¿é—®Tag SRAM,ç¬¬ä¸‰ä¸ªå‘¨æœŸå°†è¯»å–åˆ°çš„æ•°æ®å†™å…¥ç›®çš„å¯„å­˜å™¨,æ‰€ä»¥åœ¨ç¬¬äºŒä¸ªå‘¨æœŸå°±å¯ä»¥åˆ¤æ–­,å‘½ä¸­åå»å”¤é†’&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 304;
flex-basis: 730px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192904962.png" data-size="654x215">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192904962.png"
width="654"
height="215"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192904962_hu15428221746190009120.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192904962_hu17889552520785745816.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å‡è®¾d-cacheæ˜¯ä¸€ç›´å‘½ä¸­çš„,å°±èƒ½å¤Ÿå¾—åˆ°ä¸€ä¸ªæ¯”è¾ƒç†æƒ³çš„æƒ…å†µ&lt;figure
class="gallery-image"
style="
flex-grow: 287;
flex-basis: 690px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192917840.png" data-size="633x220">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192917840.png"
width="633"
height="220"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192917840_hu15789197913931500280.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021192917840_hu5995376768543292965.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ä½†æ˜¯ä¸€æ—¦æŒ‡ä»¤Aå‘ç”Ÿäº†D-cacheç¼ºå¤±,æ­¤æ—¶Bå°±ä¸èƒ½åœä½è€Œç­‰å¾…æ“ä½œæ•°,è¿™æ ·ä¼šä½¿å¾—FUæ— æ³•æ¥å—å…¶ä»–æ–°æŒ‡ä»¤,ä¸¥é‡å½±å“å¤„ç†å™¨çš„æ€§èƒ½.æœ€å¥½çš„åŠæ³•æ˜¯å°†æŒ‡ä»¤Bé‡æ–°æ”¾å›å‘å°„é˜Ÿåˆ—(Issue Queue),å› ä¸ºloadæŒ‡ä»¤åœ¨D-cacheç¼ºå¤±ä¹‹å,ä¼šåˆ°L2 cacheå¯»æ‰¾æ•°æ®,æ­¤æ—¶å¯ä»¥å‡è®¾L2 cacheæ˜¯å‘½ä¸­çš„,å¹¶æŒ‰ç…§å‘½ä¸­æ—¶é—´é‡æ–°å¯¹ç›¸å…³å¯„å­˜å™¨è¿›è¡Œå”¤é†’,è¿˜æ˜¯ä½¿ç”¨å»¶è¿Ÿå”¤é†’&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 244;
flex-basis: 587px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021210622840.png" data-size="798x326">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021210622840.png"
width="798"
height="326"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021210622840_hu12103557051335753409.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241021210622840_hu10406948929904864418.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºä¸ç¡®å®šå‘¨æœŸçš„æŒ‡ä»¤,å¯ä»¥å»é¢„æµ‹æŒ‡ä»¤æ‰§è¡Œçš„å‘¨æœŸæ•°,åœ¨æŒ‡ä»¤å¾—åˆ°ç»“æœä¹‹å‰,å¯¹ç›¸å…³çš„æŒ‡ä»¤è¿›è¡Œå”¤é†’æ“ä½œ&lt;/p>
&lt;p>é¢„æµ‹æˆåŠŸå°±æ‰§è¡Œ,é¢„æµ‹å¤±è´¥å°±å»è¿›è¡ŒçŠ¶æ€ä¼šè¢«,è¢«å”¤é†’çš„æ‰€æœ‰å¯„å­˜å™¨éœ€è¦é‡æ–°è®¾ç½®ä¸º(not ready)çŠ¶æ€,å¦‚æœä¸€äº›æŒ‡ä»¤ç¦»å¼€äº†å‘å°„é˜Ÿåˆ—,è¿˜éœ€è¦ä»æµæ°´çº¿ä¸­æŠ¹å»,æ”¾å›å‘å°„é˜Ÿåˆ—&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 283;
flex-basis: 681px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241022113730769.png" data-size="724x255">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241022113730769.png"
width="724"
height="255"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241022113730769_hu17984726890091083280.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B07/image-20241022113730769_hu12546290877630753377.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æœªå®Œå¾…ç»­&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>å¯„å­˜å™¨é‡å‘½å(è¶…æ ‡é‡+è¿‡ç¨‹æ¢å¤)</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/</link><pubDate>Sat, 19 Oct 2024 11:46:41 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/</guid><description>&lt;h2 id="è¶…æ ‡é‡å¤„ç†å™¨çš„å¯„å­˜å™¨é‡å‘½å">è¶…æ ‡é‡å¤„ç†å™¨çš„å¯„å­˜å™¨é‡å‘½å&lt;/h2>
&lt;p>å¯¹äº Dest = Src1 op ASrc2&lt;/p>
&lt;p>(1)ä»RATä¸­æ‰¾åˆ°Src1å’ŒSrc2å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨Psrc1å’ŒPsrc2&lt;/p>
&lt;p>(2)ä»ç©ºé—²åˆ—è¡¨(Free list)ä¸­æ‰¾åˆ°ä¸€ä¸ªç©ºé—²çš„ç‰©ç†å¯„å­˜å™¨Pdest,å°†å…¶ä½œä¸ºæŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨Destå¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨&lt;/p>
&lt;p>(3)å°†é€»è¾‘å¯„å­˜å™¨Destå’Œç‰©ç†å¯„å­˜å™¨Pdestçš„æ˜ å°„å…³ç³»å†™åˆ°RATä¸­&lt;/p>
&lt;p>RATéœ€è¦3ä¸ªè¯»ç«¯å£(Src1,Src2å’ŒDestä½œä¸ºåœ°å€) Destè¿™ä¸ªç«¯å£ç”¨äºå’ŒROBè¿›è¡Œäº¤äº’,å°†ä¹‹å‰çš„æ˜ å°„å…³ç³»å†™å…¥ROBä¸­&lt;/p>
&lt;p>å¯¹äºè¶…æ ‡é‡,å°±éœ€è¦æˆå€çš„ç«¯å£&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 101;
flex-basis: 244px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163241468.png" data-size="542x533">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163241468.png"
width="542"
height="533"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163241468_hu9722805920825487102.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163241468_hu15333852949318292347.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 355;
flex-basis: 853px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163436413.png" data-size="491x138">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163436413.png"
width="491"
height="138"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163436413_hu8255966269358325669.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019163436413_hu10341188819607733508.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>(1) A,Bå­˜åœ¨RAWç›¸å…³æ€§ , æ‰€ä»¥r0å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨ä¹‹åˆ—æ¥è‡ªäºæŒ‡ä»¤Aå¯¹åº”çš„P30,ä¸æ¥è‡ªäºä»RATè¯»å–çš„å€¼&lt;/p>
&lt;p>(2)A,B,Då­˜åœ¨WAWç›¸å…³æ€§,&lt;/p>
&lt;p>A.åœ¨å†™å…¥RATæ—¶,å¦‚æœå¤šæ¡å‘½ä»¤æœ‰åŒä¸€ä¸ªç›®æ ‡å¯„å­˜å™¨,é‚£æ˜ å°„å…³ç³»å®é™…ä¸Šå†™çš„è¿˜æ˜¯æœ€æ–°çš„é‚£æ¡æŒ‡ä»¤&lt;/p>
&lt;p>B.åœ¨å°†æ—§æ˜ å°„å…³ç³»å†™å…¥ROBçš„æ—¶å€™,å¦‚æœå‘ç°ä¸€ä¸ªå‘¨æœŸå†…æœ‰å¤šæ¡æŒ‡ä»¤éƒ½ä½¿ç”¨çš„åŒä¸€ä¸ªç›®çš„å¯„å­˜å™¨,æ­¤æ—¶å†™å…¥åˆ°ROBä¸­çš„æ—§æ˜ å°„å…³ç³»ä¸å†æ¥è‡ªäºRATè¯»å–çš„å€¼,è¿˜æ˜¯ç›´æ¥æ¥è‡ªäºå’Œä»–å­˜åœ¨WAWç›¸å…³çš„æŒ‡ä»¤,ä¾‹å¦‚æŒ‡ä»¤Bçš„ç‰©ç†å¯„å­˜å™¨æ¥è‡ªr0,æˆ–è€…æ‰€ç‰©ç†å¯„å­˜å™¨æ¥è‡ªäºP31&lt;/p>
&lt;p>(3)B,Då­˜åœ¨WARç›¸å…³æ€§,é€šè¿‡å¯„å­˜å™¨é‡å‘½åå¯ä»¥å®¢æœ&lt;/p>
&lt;h3 id="è§£å†³rawç›¸å…³æ€§">è§£å†³RAWç›¸å…³æ€§&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 225;
flex-basis: 542px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019171311893.png" data-size="479x212">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019171311893.png"
width="479"
height="212"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019171311893_hu15093054276736074816.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019171311893_hu12400791209209954972.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ„æ€å°±æ˜¯å¦‚æœåœ¨åŒä¸€å‘¨æœŸè¿›è¡Œå¯„å­˜å™¨é‡å‘½å,å¯¹äºæºå¯„å­˜å™¨,åº”è¯¥è·å–å½“å‰èµ‹å€¼ç»™ç›®çš„å¯„å­˜å™¨çš„ç‰©ç†å¯„å­˜å™¨(P31),è€Œä¸æ˜¯ä¹‹å‰çš„ç‰©ç†å¯„å­˜å™¨(P25),æ‰€ä»¥éœ€è¦è¿›è¡Œç»„å†…ç›¸å…³æ€§æ£€æŸ¥,ç”±äºæ­¤æ—¶æ˜¯é¡ºåºçš„,æ‰€ä»¥ç›¸å…³æ€§æ£€æŸ¥å’Œé¡ºåºå¤„ç†å™¨ç›¸ä¼¼,åªéœ€è¦æ¯”è¾ƒæºå¯„å­˜å™¨ä¸ç›®çš„å¯„å­˜å™¨çš„ç¼–å·å°±å¯ä»¥äº†&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 157;
flex-basis: 378px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172619923.png" data-size="671x426">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172619923.png"
width="671"
height="426"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172619923_hu2388780508683478430.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172619923_hu5401642006917474835.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 175;
flex-basis: 421px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172840946.png" data-size="700x399">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172840946.png"
width="700"
height="399"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172840946_hu10836408520997120333.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019172840946_hu14788717271551015671.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="è§£å†³wawç›¸å…³æ€§">è§£å†³WAWç›¸å…³æ€§&lt;/h3>
&lt;h4 id="å¯¹å†™ratè¿›è¡Œæ£€æŸ¥">å¯¹å†™RATè¿›è¡Œæ£€æŸ¥&lt;/h4>
&lt;p>åœ¨å¯„å­˜å™¨é‡å‘½åå‘¨æœŸ,å¦‚æœå­˜åœ¨å¤šä¸ªæŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨éƒ½ç›¸ç­‰çš„æƒ…å†µ,é‚£ä¹ˆåªæœ‰æœ€æ–°çš„é‚£æ¡æŒ‡ä»¤çš„æ˜ å°„å…³ç³»æ‰è¿è¡Œå†™å…¥åˆ°RATä¸­ ,å¯ä»¥é€šè¿‡æ£€æŸ¥ç›®æ ‡å¯„å­˜å™¨æ¥å®ç°,ä¾‹å¦‚å¯¹äºdst0åªè¦å’Œdst1,dst2,dst3ä¸­çš„ä»»æ„ä¸€ä¸ªå­˜åœ¨ç›¸åŒçš„æƒ…å†µ,å°±ä¸éœ€è¦å°†dst0å¯¹åº”çš„æ˜ å°„å…³ç³»å†™åˆ°RATä¸­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 180;
flex-basis: 433px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173408453.png" data-size="649x359">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173408453.png"
width="649"
height="359"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173408453_hu17123479746391636632.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173408453_hu741281326496473227.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="å¯¹å†™robè¿›è¡Œæ£€æŸ¥">å¯¹å†™ROBè¿›è¡Œæ£€æŸ¥&lt;/h4>
&lt;p>ä¸ºäº†èƒ½å¤Ÿé‡Šæ”¾æ‰é‚£äº›ä¸å†ä½¿ç”¨çš„ç‰©ç†å¯„å­˜å™¨,åŒæ—¶å¯ä»¥å¯¹å¤„ç†å™¨çš„çŠ¶æ€è¿›è¡Œæ¢å¤,æ¯æ¡æŒ‡ä»¤éœ€è¦ä»RATä¸­è¯»å‡ºä»–ä»¥å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,å¹¶å°†å…¶å†™åˆ°ROBå½“ä¸­,å¦‚æœä¸¤æ¡æŒ‡ä»¤å­˜åœ¨WAW,é‚£ä¹ˆæ¯”è¾ƒæ–°çš„è¿™æ¡æŒ‡ä»¤å¯¹åº”çš„å°±çš„ç‰©ç†å¯„å­˜å™¨å°±ç›´æ¥æ¥è‡ªä¸æ¯”è¾ƒæ—§çš„é‚£æ¡æŒ‡ä»¤,è€Œä¸æ˜¯RATä¸­&lt;/p>
&lt;p>é€šè¿‡æ¯”è¾ƒæŒ‡ä»¤ä¸å‰é¢æŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨å°±å¯ä»¥å®ç°&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 235;
flex-basis: 565px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173932215.png" data-size="471x200">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173932215.png"
width="471"
height="200"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173932215_hu14294549447914897059.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019173932215_hu11321073359892355193.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 152;
flex-basis: 366px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019174347687.png" data-size="818x536">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019174347687.png"
width="818"
height="536"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019174347687_hu5261038282723109657.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019174347687_hu1035297534865978118.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ratçš„sramç»“æ„">RATçš„SRAMç»“æ„&lt;/h3>
&lt;p>è¯»ä¼˜å…ˆ : å½“å‰å†™å…¥çš„æ•°æ®åœ¨ä¸‹ä¸€ä¸ªå‘¨æœŸæ‰èƒ½è¢«è¯»å–&lt;/p>
&lt;p>å†™ä¼˜å…ˆ:å½“å‰å†™å…¥çš„æ•°æ®åœ¨å½“å‰æ•°æ®å°±èƒ½å¤Ÿè¢«è¯»å–&lt;/p>
&lt;p>å¯¹äºRAT,éœ€è¦åšåˆ°å…ˆè¯»,è¯»å®Œå†ä¿®æ”¹,æ‰€ä»¥é‡‡å–è¯»ä¼˜å…ˆ&lt;/p>
&lt;p>å¯¹äºè¯»å–ç›®çš„å¯„å­˜å™¨,ç”±äºæœ¬æ¥å°±è¦è·å–ç›®çš„å¯„å­˜å™¨ä¹‹å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,æ‰€ä»¥è¯»ä¼˜å…ˆæ˜¯å¿…é¡»çš„&lt;/p>
&lt;p>å¯¹äºè¯»å–æºå¯„å­˜å™¨,å…¶å®éœ€è¦å¾—åˆ°æ–°çš„æ˜ å°„,éœ€è¦ä½¿ç”¨ä¹‹å‰çš„RAWç›¸å…³æ€§çš„æ£€æŸ¥å’Œå¤„ç†ç”µè·¯&lt;/p>
&lt;h3 id="ç‰¹æ®Šæƒ…å†µçš„æ ‡è®°">ç‰¹æ®Šæƒ…å†µçš„æ ‡è®°&lt;/h3>
&lt;p>å¯¹äºæ²¡æœ‰ä¸€ä¸ªç›®æ ‡å¯„å­˜å™¨å’Œä¸¤ä¸ªæºå¯„å­˜å™¨çš„æŒ‡ä»¤,é‡‡å–ä»¥ä¸‹æ–¹å¼&lt;/p>
&lt;p>(1)æ ¹æ®éœ€è¦é‡å‘½åçš„ç›®çš„å¯„å­˜å™¨ä¸ªæ•°,è§‰å¾—å½“å‰å‘¨æœŸéœ€è¦ä»ç©ºé—²åˆ—è¡¨è¯»å–æ•°å­—çš„ä¸ªæ•°&lt;/p>
&lt;p>(2)ä½¿ç”¨ç›®çš„å¯„å­˜å™¨è¯»å–RATæ—¶,ç›®çš„å¯„å­˜å™¨ä¸å­˜åœ¨çš„æŒ‡ä»¤ä¸ä¼šè¯»å–RAT&lt;/p>
&lt;p>(3)ä½¿ç”¨æºå¯„å­˜å™¨è¯»å–RATæ—¶,æºå¯„å­˜å™¨ä¸å­˜åœ¨çš„æŒ‡ä»¤ä¸ä¼šè¯»å–RAT&lt;/p>
&lt;p>(4)åœ¨RAWå’ŒWAWç›¸å…³æ€§æ£€æŸ¥æ—¶,å¦‚æœæºå¯„å­˜å™¨å’Œç›®çš„å¯„å­˜å™¨ä¸å­˜åœ¨,é‚£å°±å¿½ç•¥&lt;/p>
&lt;h2 id="å¯„å­˜å™¨é‡å‘½åçš„æ¢å¤">å¯„å­˜å™¨é‡å‘½åçš„æ¢å¤&lt;/h2>
&lt;h3 id="ä½¿ç”¨checkpointå¯¹ratè¿›è¡Œæ¢å¤">ä½¿ç”¨checkpointå¯¹RATè¿›è¡Œæ¢å¤&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 294;
flex-basis: 707px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195538227.png" data-size="820x278">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195538227.png"
width="820"
height="278"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195538227_hu9554526713186701756.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195538227_hu243255152380488361.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>SRAMçš„æœ€å°å­˜å‚¨å•å…ƒ(Main Bit Cell,MBC), (Checkpoint Bit Cell ,CBC)&lt;/p>
&lt;p>å½“éœ€è¦å¯¹RATè¿›è¡ŒçŠ¶æ€ä¿å­˜æ—¶,å°†MBCçš„å†…å®¹å¤åˆ¶åˆ°æŒ‡å®šçš„CBCä¸­(Allocation),å½“å¯¹RATè¿›è¡ŒçŠ¶æ€æ¢å¤æ—¶,å°†å¯¹åº”CBCçš„å†…å®¹å¤åˆ¶åˆ°MBCä¸­(Restore)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 244;
flex-basis: 585px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195909542.png" data-size="747x306">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195909542.png"
width="747"
height="306"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195909542_hu12124988756168614648.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019195909542_hu3605033107495912464.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ä½¿ç”¨walkå¯¹ratè¿›è¡Œæ¢å¤">ä½¿ç”¨WALKå¯¹RATè¿›è¡Œæ¢å¤&lt;/h3>
&lt;p>å¯¹æ¯ä¸€æ¡æŒ‡ä»¤,åœ¨ROBä¸­éƒ½å‚¨å­˜äº†è¿™æ¡æŒ‡ä»¤ä¹‹å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,åˆ©ç”¨è¿™ä¸ªä¿¡æ¯,å¯ä»¥å°†RATçš„çŠ¶æ€é€æ­¥&amp;quot;å€’å›å»&amp;quot;,ä½¿å¾—é‚£äº›å¤„åœ¨é”™è¯¯è·¯å¾„ä¸Šçš„æŒ‡ä»¤,å¯¹RATçš„ä¿®æ”¹éƒ½è¿›è¡Œä¿®å¤&lt;/p>
&lt;p>ROBä¸­å‚¨å­˜ç€ç‰©ç†å¯„å­˜å™¨,é€»è¾‘å¯„å­˜å™¨,ä¹‹å‰çš„ç‰©ç†å¯„å­˜å™¨,ä¸€æ¡ä¸€æ¡å›é€€åˆ°ä¹‹å‰çš„ç‰©ç†å¯„å­˜å™¨,åº”è¯¥å°±å¯ä»¥åšåˆ°&lt;/p>
&lt;h3 id="ä½¿ç”¨architecture-stateå¯¹ratè¿›è¡Œæ¢å¤">ä½¿ç”¨Architecture Stateå¯¹RATè¿›è¡Œæ¢å¤&lt;/h3>
&lt;p>åœ¨æµæ°´çº¿æäº¤é˜¶æ®µæœ‰ä¸€ä¸ªRAT,,å«åšaRAT(architecture RAT),å®ƒæ‰€ä¿å­˜çš„ç‰©ç†å¯„å­˜å™¨å’Œé€»è¾‘å¯„å­˜å™¨çš„æ˜ å°„æ˜¯å®Œå…¨æ­£ç¡®çš„&lt;/p>
&lt;p>å¯¹äºå¦‚ä¸‹çš„æŒ‡ä»¤,åœ¨é‡å‘½åé˜¶æ®µçš„RAT,å¯¹äºr1çš„æ˜ å°„åº”è¯¥æ˜¯P34,ä½†æ˜¯å®é™…ä¸Šæ­¤æ—¶æŒ‡ä»¤Dæ˜¯å¤„åœ¨æ¨æµ‹é˜¶æ®µ,æ˜¯æœ‰å¯èƒ½è¢«å†²åˆ·æ‰çš„,ä½†æ˜¯å¯¹äºaRAT,å®ƒä¿å­˜çš„å°±æ˜¯å·²ç»æäº¤çš„æŒ‡ä»¤ä¹‹é—´çš„æ˜ å°„,ä¾‹å¦‚R1å¯¹åº”P31,å®ƒçš„çŠ¶æ€æ˜¯å®Œå…¨æ­£ç¡®çš„&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 311;
flex-basis: 748px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019200728702.png" data-size="371x119">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019200728702.png"
width="371"
height="119"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019200728702_hu131409708023009198.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B06/image-20241019200728702_hu14698438627090399126.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ‰€ä»¥è¯´,å¯ä»¥é€šè¿‡aRATè¿›è¡Œæ¢å¤,å…·ä½“å°±æ˜¯åœ¨åˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶,è®©æŒ‡ä»¤ç»§ç»­æ‰§è¡Œ,ç›´åˆ°åˆ†æ”¯æŒ‡ä»¤å˜æˆæœ€æ—§çš„ä¸€æ¡æŒ‡ä»¤,é‚£æ­¤æ—¶æ‰€ä¿å­˜çš„çŠ¶æ€å°±æ˜¯åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰çš„æŒ‡ä»¤æ‰€å¾—åˆ°çš„çŠ¶æ€,å†å¤åˆ¶,å°±èƒ½å¤Ÿæ¢å¤äº†&lt;/p>
&lt;p>ç­‰åˆ°åˆ†æ”¯æŒ‡ä»¤å˜åˆ°æµæ°´çº¿æœ€æ—§çš„æŒ‡ä»¤,æ‰æ¢å¤RATçš„å¦ä¸€ä¸ªå¥½å¤„å°±æ˜¯,å¦‚æœåœ¨ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰å­˜åœ¨å¼‚å¸¸æˆ–è€…å¦ä¸€ä¸ªåˆ†æ”¯é¢„æµ‹å¤±è´¥,é‚£è¿™æ¡åˆ†æ”¯æŒ‡ä»¤å°±ä¸ä¼šè¢«å¤„ç†,ä¹Ÿé¿å…äº†ä¸€äº›æ— ç”¨åŠŸ&lt;/p>
&lt;h3 id="åˆ†å‘">åˆ†å‘&lt;/h3>
&lt;p>(1) å‘å°„é˜Ÿåˆ— (out-of-order),æŒ‡ä»¤åœ¨é€åˆ°FUä¸­è¢«æ‰§è¡Œä¹‹å‰,å…ˆè¢«æ”¾åˆ°ä¸€ä¸ªç¼“å­˜ä¸­,æ¯ä¸ªFUéƒ½å¯¹åº”ä¸€ä¸ªå‘å°„é˜Ÿåˆ—,&lt;/p>
&lt;p>åªè¦ä¸€æ¡æŒ‡ä»¤çš„æ‰€æœ‰æºæ“ä½œæ•°éƒ½å‡†å¤‡å¥½äº†,å°±å¯ä»¥ç›´æ¥é€åˆ°FUä¸­æ‰§è¡Œ,ä¸ç”¨ç†ä¼šæŒ‡ä»¤çš„åŸå§‹é¡ºåº,åœ¨å¤šå‘å°„å¤„ç†å™¨ä¸­,éœ€è¦ä»ç¼“å­˜ä¸­æ‰¾åˆ°å¤šä¸ªç©ºé—²çš„è¡¨é¡¹&lt;/p>
&lt;p>(2)å‘å°„é˜Ÿåˆ—(in-order),åˆ†æ”¯æŒ‡ä»¤å’ŒstoreæŒ‡ä»¤æ˜¯æŒ‰ç…§é¡ºåºæ‰§è¡Œçš„,è¯¥é˜Ÿåˆ—å°±æ˜¯FIFO&lt;/p>
&lt;p>(3)é‡æ’åºç¼“å­˜(ROB),å°†ä¹±åºæ‹‰å›é¡ºåº&lt;/p>
&lt;p>åˆ†å‘å°±æ˜¯å°†å¯„å­˜å™¨é‡å‘½åä¹‹åçš„æŒ‡ä»¤å†™åˆ°å‘å°„é˜Ÿåˆ—å’Œé‡æ’åºé˜Ÿåˆ—å½“ä¸­&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>å¯„å­˜å™¨é‡å‘½å(æ–¹å¼+æ˜ å°„è¡¨)</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/</link><pubDate>Fri, 18 Oct 2024 19:25:31 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/</guid><description>&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;p>WAW å’Œ WAR (å†™åå†™ å’Œè¯»åå†™) å¯ä»¥é€šè¿‡æ›´æ¢å¯„å­˜å™¨çš„åå­—æ¥è§£å†³ç›¸åº”å†²çª&lt;/p>
&lt;h3 id="å­˜åœ¨åŸå› ">å­˜åœ¨åŸå› &lt;/h3>
&lt;p>(1)æœ‰é™ä¸ªæ•°çš„å¯„å­˜å™¨&lt;/p>
&lt;p>(2)å¾ªç¯ä½“,å¾ˆå®¹æ˜“å‡ºç°å†™åå†™å†²çª&lt;/p>
&lt;p>(3)ä»£ç é‡ç”¨,ä¸€äº›å°å‡½æ•°è¢«é¢‘ç¹çš„è°ƒç”¨&lt;/p>
&lt;p>ç‰©ç†å¯„å­˜å™¨(Physical Register)å’Œé€»è¾‘å¯„å­˜å™¨(Logical Registeræˆ–è€… architecture Register)ç‰©ç†å¯„å­˜å™¨æ•°é‡å¤šäºé€»è¾‘å¯„å­˜å™¨&lt;/p>
&lt;p>é‡å‘½åæ˜ å°„è¡¨ (Register Renaming Table, Register Alias Table ,RAT)ç©ºé—²å¯„å­˜å™¨åˆ—è¡¨(Free Register List)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 142;
flex-basis: 342px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018194219065.png" data-size="565x396">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018194219065.png"
width="565"
height="396"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018194219065_hu12948031862022571597.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018194219065_hu6665644479148694185.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="å¯„å­˜å™¨é‡å‘½åçš„æ–¹å¼">å¯„å­˜å™¨é‡å‘½åçš„æ–¹å¼&lt;/h2>
&lt;p>(1)å°†é€»è¾‘å¯„å­˜å™¨(architecture Register File,ARF)æ‰©å±•æ¥å®ç°&lt;/p>
&lt;p>(2)ä½¿ç”¨ç»Ÿä¸€çš„ç‰©ç†å¯„å­˜å™¨(Physical Register File,PRF)å®ç°&lt;/p>
&lt;p>(3)ä½¿ç”¨ROBå®ç°&lt;/p>
&lt;h3 id="rob">ROB&lt;/h3>
&lt;p>å°†ROBä½œä¸ºç‰©ç†å¯„å­˜å™¨,å­˜å‚¨æ‰€æœ‰**æ¨æµ‹çŠ¶æ€(speculative)**çš„ç»“æœ,ä½¿ç”¨é€»è¾‘å¯„å­˜å™¨(ARF)å­˜å‚¨æ‰€æœ‰æ­£ç¡®çš„ç»“æœ&lt;/p>
&lt;p>å½“ä¸€æ¡æŒ‡ä»¤è¢«å†™å…¥ROBä¸­çš„ä¸€ä¸ªè¡¨é¡¹(entry)æ—¶,è¡¨é¡¹çš„ç¼–å·å³ä¸ºç‰©ç†å¯„å­˜å™¨,è¿™æ ·å°†é€»è¾‘å¯„å­˜å™¨å’Œè¡¨é¡¹å»ºç«‹äº†å…³ç³»,&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 104;
flex-basis: 249px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018200347542.png" data-size="520x500">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018200347542.png"
width="520"
height="500"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018200347542_hu17786506562862009958.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018200347542_hu13468767093701107792.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>ROBå­˜å‚¨ç€æ‰€æœ‰æ²¡æœ‰ç¦»å¼€æµæ°´çº¿çš„æŒ‡ä»¤ç»“æœ,é€»è¾‘å¯„å­˜å™¨(ARF)å­˜å‚¨ç€æ‰€æœ‰&amp;quot;æœ€æ–°&amp;quot;ç¦»å¼€æµæ°´çº¿çš„æŒ‡ä»¤ç»“æœ&lt;/p>
&lt;p>é‡å‘½åæ˜ å°„è¡¨ç”¨æ¥æŒ‡ç¤ºæ¯ä¸€ä¸ªé€»è¾‘å¯„å­˜å™¨çš„å€¼æ˜¯ä½äºROBä¸­è¿˜æ˜¯ä½äºARFä¸­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 159;
flex-basis: 382px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018204416224.png" data-size="547x343">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018204416224.png"
width="547"
height="343"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018204416224_hu13515659451589263706.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018204416224_hu16314137865859507292.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="ç¼ºç‚¹">ç¼ºç‚¹&lt;/h4>
&lt;p>(1)å³ä½¿æ²¡æœ‰ç›®çš„å¯„å­˜å™¨ä¹Ÿä¼šå ç”¨ROBçš„ä¸€ä¸ªè¡¨é¡¹,ä»£è¡¨ç‰©ç†å¯„å­˜å™¨çš„æµªè´¹&lt;/p>
&lt;p>(2)å¯¹åº”ROBå’ŒARFéœ€è¦æœ‰å¤šä¸ªè¯»ç«¯å£æ¥æ”¯æŒå¤šæ¡æŒ‡ä»¤çš„è®¿é—®&lt;/p>
&lt;h3 id="arfæ‰©å±•">ARFæ‰©å±•&lt;/h3>
&lt;p>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‹¬ç«‹çš„å­˜å‚¨éƒ¨ä»¶æ¥å­˜å‚¨æµæ°´çº¿ä¸­æ‰€æœ‰æŒ‡ä»¤çš„ç»“æœ,åªæœ‰é‚£äº›å­˜åœ¨ç›®çš„å¯„å­˜å™¨çš„æŒ‡ä»¤æ‰ä¼šå æ®è¯¥éƒ¨ä»¶,ç§°ä¸º PRF(Physical Register File),PRFå’ŒROBç±»ä¼¼,åªæ˜¯åœ¨æ²¡æœ‰ç›®æ ‡å¯„å­˜å™¨çš„æŒ‡ä»¤ä¸ä¼šå æ®PRF,å¯„å­˜å™¨é‡å‘½åæ—¶å­˜åœ¨ç›®çš„å¯„å­˜å™¨çš„æŒ‡ä»¤ä¼šå æ®PRFçš„ç©ºé—´,åœ¨é€€ä¼‘æ—¶,ç»“æœä¼šä»PRFæ¬ç§»åˆ°ARFä¸­&lt;/p>
&lt;p>é‡å‘½åæ˜ å°„è¡¨ç”¨æ¥æŒ‡ç¤ºæ¯ä¸€ä¸ªé€»è¾‘å¯„å­˜å™¨çš„å€¼æ˜¯ä½äºPRFä¸­è¿˜æ˜¯ä½äºARFä¸­,éœ€è¦ä¿å­˜PRFçš„åœ°å€ç©ºé—´&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 174;
flex-basis: 417px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018205336777.png" data-size="707x406">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018205336777.png"
width="707"
height="406"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018205336777_hu16404446892470360470.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018205336777_hu9368343665924381625.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ä½¿ç”¨ç»Ÿä¸€çš„prf">ä½¿ç”¨ç»Ÿä¸€çš„PRF&lt;/h3>
&lt;p>å­˜å‚¨æ‰€æœ‰æ¨æµ‹çš„å’Œæ­£ç¡®çš„å¯„å­˜å™¨å€¼,&lt;/p>
&lt;p>ä½¿ç”¨ç©ºé—²åˆ—è¡¨è®°å½•PRFå“ªäº›å¯„å­˜å™¨å¤„åœ¨ç©ºé—²çŠ¶æ€&lt;/p>
&lt;p>å½“æŒ‡ä»¤è¢«å¯„å­˜å™¨é‡å‘½å,å¹¶ä¸”å­˜åœ¨ç›®çš„å¯„å­˜å™¨çš„æ—¶å€™,å°±ä¼šå æ®PRFå½“ä¸­çš„ä¸€ä¸ªå¯„å­˜å™¨,è¯¥å¯„å­˜å™¨ä¼šç»å†å€¼æœªè¢«è®¡ç®—,å€¼è¢«è®¡ç®—ä½†æ˜¯æ²¡æœ‰é€€ä¼‘,é€€ä¼‘ä¸‰ä¸ªè¿‡ç¨‹&lt;/p>
&lt;p>é€šè¿‡é‡å‘½åæ˜ å°„è¡¨å­˜å‚¨æ¯ä¸ªé€»è¾‘å¯„å­˜å™¨å’Œç‰©ç†å¯„å­˜å™¨çš„å¯¹åº”å…³ç³»&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 281;
flex-basis: 676px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018210442250.png" data-size="741x263">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018210442250.png"
width="741"
height="263"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018210442250_hu5765812971098335496.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018210442250_hu13651381351086792579.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯„å­˜å™¨é‡å‘½åæ—¶,&lt;/p>
&lt;p>æºå¯„å­˜å™¨:æŸ¥æ‰¾é‡å‘½åçš„æ˜ å°„è¡¨(RAT),æ‰¾å‡ºå¯¹åº”ç‰©ç†å¯„å­˜å™¨çš„ç¼–å·&lt;/p>
&lt;p>ç›®çš„å¯„å­˜å™¨:ç»™ç›®çš„å¯„å­˜å™¨æŒ‡å®šä¸€ä¸ªç©ºé—²çŠ¶æ€çš„ç‰©ç†å¯„å­˜å™¨,å¹¶ä¸”è¯¥å…³ç³»ä¼šè¢«æ›´æ–°åˆ°RATä¸­&lt;/p>
&lt;p>æŒ‡ä»¤é€€ä¼‘ä¹‹åé‡Šæ”¾ç‰©ç†å¯„å­˜å™¨&lt;/p>
&lt;p>ä¸€æ¡æŒ‡ä»¤ä¹‹ååœ¨é€€ä¼‘çš„æ—¶å€™,ç»“æœæ‰ä¼šè¢«å¤–éƒ¨çœ‹åˆ°,æ¨æµ‹æ—¶æ˜¯æ— æ³•è¢«å¤–ç•Œçœ‹åˆ°çš„,éœ€è¦ä½¿ç”¨å¦å¤–ä¸€ä¸ªRAT,å­˜å‚¨æ‰€æœ‰&amp;quot;é€€ä¼‘&amp;quot;çŠ¶æ€çš„æŒ‡ä»¤å’Œç‰©ç†å¯„å­˜å™¨çš„å¯¹åº”å…³ç³»(å•¥æ—¶å€™é‡Šæ”¾?),å¤–éƒ¨åªèƒ½é€šè¿‡æŸ¥æ‰¾è¿™ä¸ªRAT,æ‰¾åˆ°é€»è¾‘å¯„å­˜å™¨å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨&lt;/p>
&lt;p>**åªæœ‰åç»­çš„æŒ‡ä»¤ä¸ä½¿ç”¨ç‰©ç†å¯„å­˜å™¨ä¹‹å,ç‰©ç†å¯„å­˜å™¨æ‰èƒ½å¤Ÿå˜æˆç©ºé—².**å¯ä»¥é‡‡å–æ¯”è¾ƒä¿å®ˆçš„æ–¹å¼,å°±æ˜¯å½“ä¸€ä¸ªæŒ‡ä»¤å’Œåé¢çš„è«æ¡æŒ‡ä»¤éƒ½å†™åˆ°åŒä¸€ä¸ªç›®çš„å¯„å­˜å™¨æ—¶,å‰é¢æŒ‡ä»¤çš„ç‰©ç†å¯„å­˜å™¨å¯ä»¥é‡Šæ”¾äº†,**æ‰€ä»¥åœ¨ROBä¸­é™¤äº†è®°å½•é€»è¾‘å¯„å­˜å™¨å½“å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨ä¹‹å¤–,è¿˜éœ€è¦å­˜å‚¨å®ƒä¹‹å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,**ä»¥ä¾¿åœ¨æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™,å°†æ—§æ˜ å°„å…³ç³»é‡Šæ”¾&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 462;
flex-basis: 1109px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018212115285.png" data-size="587x127">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018212115285.png"
width="587"
height="127"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018212115285_hu9704412521937681004.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018212115285_hu16598331625486021963.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="ä¼˜ç‚¹">ä¼˜ç‚¹&lt;/h4>
&lt;p>(1)å¯„å­˜å™¨çš„å€¼åªéœ€è¦è¢«å†™å…¥ä¸€æ¬¡?&lt;/p>
&lt;p>(2)æºå¯„å­˜å™¨çš„å€¼åªèƒ½å­˜å‚¨åœ¨ä¸€ä¸ªåœ°æ–¹,å³PRFä¸­&lt;/p>
&lt;h2 id="é‡å‘½åæ˜ å°„è¡¨rat">é‡å‘½åæ˜ å°„è¡¨(RAT)&lt;/h2>
&lt;p>RATæ˜¯ä¸€ä¸ªè¡¨æ ¼,ä½¿ç”¨é€»è¾‘å¯„å­˜å™¨ä½œä¸ºåœ°å€å¯»å€,å¯¹äºæŒ‡ä»¤çš„æºå¯„å­˜å™¨,å¯ä»¥ä»è¡¨æ ¼ä¸­å¾—åˆ°å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨çš„ç¼–å·&lt;/p>
&lt;p>å¯¹æŒ‡ä»¤çš„ç›®çš„å¯„å­˜å™¨æ¥è¯´,ä¼šå°†ç‰©ç†å¯„å­˜å™¨ç¼–å·å†™åˆ°è¿™ä¸ªè¡¨æ ¼,å³å»ºç«‹æ˜ å°„å…³ç³»&lt;/p>
&lt;p>å¯ä»¥ä½¿ç”¨å¤šç«¯å£çš„SRAM(sRAT)å’ŒCAM(cRAT)å®ç°,CAM(å†…å®¹å¯»å€çš„å­˜å‚¨å™¨)&lt;/p>
&lt;p>SRAMè¡¨é¡¹ä¸ªæ•°ç­‰äºé€»è¾‘å¯„å­˜å™¨çš„ä¸ªæ•°,é‡Œé¢å­˜æ”¾å¯¹åº”ç‰©ç†å¯„å­˜å™¨çš„ç¼–å·,ä½å®½ä¸ºlog(ç‰©ç†å¯„å­˜å™¨æ•°é‡)&lt;/p>
&lt;p>CAMè¡¨é¡¹ä¸ªæ•°ç­‰äºç‰©ç†å¯„å­˜å™¨çš„ä¸ªæ•°,é‡Œé¢å­˜æ”¾å¯¹åº”é€»è¾‘å¯„å­˜å™¨çš„ç¼–å·,ä½å®½ä¸ºlog(é€»è¾‘å¯„å­˜å™¨æ•°é‡),å¯»å€æ—¶é€»è¾‘å¯„å­˜å™¨çš„ç¼–å·ä¼šå’Œæ¯ä¸ªè¡¨é¡¹è¿›è¡Œå¯¹æ¯”,è¿”å›å¯¹åº”çš„åœ°å€&lt;/p>
&lt;p>ä½¿ç”¨SRAMå¯»å€åŠŸè€—å°,é¢ç§¯å°&lt;/p>
&lt;p>ç”±äºå¯¹äºcRATè¿›è¡Œcheckpointåªéœ€è¦ä¿å­˜çŠ¶æ€ä½(V),è€Œä¸éœ€è¦å°†æ•´ä¸ªcRATè¿›è¡Œä¿å­˜,èƒ½å¤Ÿå¤§å¤§å‡å°‘checkpointç”µè·¯çš„é¢ç§¯,å½“checkpointæ•°é‡å¤§æ—¶,åè€ŒcRATå…·æœ‰ä¼˜åŠ¿&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 200;
flex-basis: 480px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018213712733.png" data-size="801x400">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018213712733.png"
width="801"
height="400"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018213712733_hu11917421335245838524.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241018213712733_hu1566958612408089329.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="åŸºäºsramçš„é‡å‘½åæ˜ å°„è¡¨">åŸºäºSRAMçš„é‡å‘½åæ˜ å°„è¡¨&lt;/h3>
&lt;p>checkpointéœ€è¦æŠŠæ•´ä¸ªsRATéƒ½ä¿å­˜ä¸‹æ¥&lt;/p>
&lt;p>å¯¹äº4-wayçš„è¶…æ ‡é‡å¤„ç†å™¨,æ¯å‘¨æœŸæœ€å¤šéœ€è¦å¯¹å››æ¡æŒ‡ä»¤è¿›è¡Œå¯„å­˜å™¨é‡å‘½å,sRRATéœ€è¦8ä¸ªè¯»ç«¯å£å’Œ4ä¸ªå†™ç«¯å£(æ¯æ¡æŒ‡ä»¤åŒ…å«2ä¸ªæºå¯„å­˜å™¨å’Œ1ä¸ªç›®çš„å¯„å­˜å™¨)&lt;/p>
&lt;p>æ–°å†™å…¥åˆ°sRATçš„å€¼ä¼šè¦†ç›–æ‰åŸæ¥æ—§çš„å¯¹åº”å…³ç³»,éœ€è¦è®°å½•ä¸‹æ¥&lt;/p>
&lt;p>(1)æ–¹ä¾¿æŒ‡ä»¤åœ¨é€€ä¼‘çš„æ—¶å€™,å°†å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨å˜ä¸ºç©ºé—²çŠ¶æ€???? (&lt;del>è¿˜æ˜¯æ— æ³•ç†è§£,æŒ‰ç†æ¥è¯´è¦†ç›–äº†è¯´æ˜è¯¥é€»è¾‘å¯„å­˜å™¨åˆåˆ†é…äº†æ–°çš„ç‰©ç†å¯„å­˜å™¨,é‚£åŸæ¥é‚£ä¸ªç¡®å®å¯ä»¥åˆ é™¤äº†&lt;/del>)(è¦†ç›–çš„æ—¶å€™åé¢çš„æŒ‡ä»¤è¿˜æ²¡æœ‰é€€ä¼‘,æ˜¯æœ‰å¯èƒ½æ— æ•ˆçš„(åˆ†æ”¯å¤±è´¥å¼‚å¸¸ä¹‹ç±»çš„,é‚£åé¢åˆ†é…çš„å¿…å®šæ˜¯è¦è¢«è¿˜åŸçš„,æ‰€ä»¥ç‰©ç†å¯„å­˜å™¨æ˜¯åº”è¯¥åœ¨åé¢æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™å†å˜æˆç©ºé—²çŠ¶æ€))&lt;/p>
&lt;p>(2)å½“ä¸€æ¡æŒ‡ä»¤ä¹‹å‰å­˜åœ¨å¼‚å¸¸æˆ–è€…åˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶,éœ€è¦ä»æµæ°´çº¿ä¸­è¢«æŠ¹å» ,åŒæ—¶è¿™æ¡æŒ‡ä»¤å¯¹äºRATçš„ä¿®æ”¹éœ€è¦è¢«æ¢å¤è¿‡æ¥,é€šè¿‡å°†æ—§çš„æ˜ å°„å…³ç³»ä¿å­˜ä¸‹æ¥,å¯ä»¥ååŠ©RATçš„ä¿®å¤&lt;/p>
&lt;p>ç¼ºç‚¹å°±æ˜¯æ— æ³•ä½¿ç”¨å¤šçš„checkpoint&lt;/p>
&lt;p>åªè¦é¢„æµ‹çš„è¶³å¤Ÿå‡†,å°±ä¸æ€ä¹ˆéœ€è¦checkpoint ,å°±å¯ä»¥å»å‡å°‘checkpointçš„æ•°é‡,ä½†æ˜¯å¦‚æœé¢„æµ‹é”™äº†åˆæ²¡æœ‰checkpoint,é‚£å¯¹äºRATçš„æ¢å¤ä¹Ÿä¼šå¾ˆéº»çƒ¦&lt;/p>
&lt;p>??? RATé‡Œé¢çš„å€¼ä¸æ˜¯åº”è¯¥ä¹Ÿæ˜¯ä¿å­˜åœ¨ROBé‡Œçš„å—,é‚£ä¿å­˜ROBä¸å°±è¡Œäº†,ä¸ºä»€ä¹ˆè¿˜è¦RAT&lt;/p>
&lt;h3 id="åŸºäºcamçš„é‡å‘½åæ˜ å°„è¡¨">åŸºäºCAMçš„é‡å‘½åæ˜ å°„è¡¨&lt;/h3>
&lt;p>ä»»æ„æ—¶åˆ»,æ¯ä¸ªé€»è¾‘å¯„å­˜å™¨éƒ½åªæœ‰ä¸€ä¸ªç‰©ç†å¯„å­˜å™¨ä¸ä¹‹å¯¹åº”,å¯ä»¥ä½¿ç”¨ä¸€ä¸ªæœ‰æ•ˆä½(V)è¡¨ç¤º&lt;/p>
&lt;p>cRATéœ€è¦8ä¸ªè¯»ç«¯å£å’Œ4ä¸ªå†™ç«¯å£(æ¯æ¡æŒ‡ä»¤åŒ…å«2ä¸ªæºå¯„å­˜å™¨å’Œ1ä¸ªç›®çš„å¯„å­˜å™¨)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 136;
flex-basis: 328px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019105549693.png" data-size="427x312">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019105549693.png"
width="427"
height="312"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019105549693_hu13747216310678279473.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019105549693_hu9494608413689815968.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>SRAM + CAM ,SRAMç”¨æ¥å­˜å‚¨æ¯ä¸ªç‰©ç†å¯„å­˜å™¨å¯¹åº”çš„é€»è¾‘å¯„å­˜å™¨,CAMç”¨æ¥è¿›è¡Œå†…å®¹çš„æ¯”è¾ƒ&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 104;
flex-basis: 249px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019110223724.png" data-size="436x419">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019110223724.png"
width="436"
height="419"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019110223724_hu9710394290090467635.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019110223724_hu9996034423044171934.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>éœ€è¦ç­‰åˆ°åé¢å†™å…¥åˆ°åŒä¸€ä¸ªé€»è¾‘å¯„å­˜å™¨çš„æŒ‡ä»¤é€€ä¼‘(retire)çš„æ—¶å€™,æ‰å¯ä»¥å°†è¿™ä¸ªé€»è¾‘å¯„å­˜å™¨ä¹‹å‰å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨å˜ä¸ºç©ºé—²çŠ¶æ€&lt;/p>
&lt;p>å¹¶ä¸æ˜¯ä¸€ä¸ªç‰©ç†å¯„å­˜å™¨å¯¹åº”çš„æœ‰æ•ˆä½ä¸º0,å°±è¡¨ç¤ºç‰©ç†å¯„å­˜å™¨æ˜¯ç©ºé—²çŠ¶æ€,æœ‰å¯èƒ½æ˜¯è¿™ä¸ªæ˜ å°„å…³ç³»åˆšåˆšè¢«è¦†ç›–äº†.é€šè¿‡ä½¿ç”¨ROBå’Œç©ºé—²åˆ—è¡¨å¯ä»¥ç®¡ç†ç‰©ç†å¯„å­˜å™¨ä½•æ—¶å˜ä¸ºç©ºé—²&lt;/p>
&lt;p>åœ¨åˆ†æ”¯æŒ‡ä»¤å¯„å­˜å™¨é‡å‘½åä¹‹å‰,å°†cRATçš„æœ‰æ•ˆä½ä¿å­˜èµ·æ¥;åœ¨æµæ°´çº¿çš„åç»­é˜¶æ®µ,å‘ç°åˆ†æ”¯æŒ‡ä»¤é¢„æµ‹å¤±è´¥æ˜¯,å°†åˆ†æ”¯æŒ‡ä»¤å¯¹åº”çš„checkpointå†™å›åˆ°cRATçš„æœ‰æ•ˆä½å°±å®Œæˆæ¢å¤äº†(why?è¿™æ ·èƒ½ä¿è¯æ¢å¤æ˜ å°„å…³ç³»?)&lt;/p>
&lt;p>æ¢å¤æ—¶å¯èƒ½æŠŠä¸€äº›æœ¬èº«å¤„åœ¨éç©ºé—²çŠ¶æ€çš„ç‰©ç†å¯„å­˜å™¨å˜æˆäº†ç©ºé—²çŠ¶æ€,å› ä¸ºéç©ºé—²çŠ¶æ€çš„ç‰©ç†å¯„å­˜å™¨æœ‰æ•ˆä½ä¹Ÿå¯ä»¥æ˜¯0&lt;/p>
&lt;p>æœ‰å¯èƒ½åœ¨è¿›è¡Œcheckpointä¿å­˜çš„æ—¶å€™ä¸º0,åˆ°äº†çŠ¶æ€æ¢å¤çš„æ—¶å€™å˜æˆ1äº†.å…¸å‹æƒ…å†µæ˜¯ç‰©ç†å¯„å­˜å™¨åœ¨å˜ä¸ºç©ºé—²ä¹‹ååˆè¢«æ–°çš„æŒ‡ä»¤ä½¿ç”¨äº†.ä½†æ˜¯è¯¥æŒ‡ä»¤å¤„åœ¨åˆ†æ”¯é¢„æµ‹å¤±è´¥æˆ–è€…å¼‚å¸¸è·¯å¾„ä¸Š.åº”è¯¥æ˜¯è¦æ¢å¤ä¸º0çš„&lt;/p>
&lt;h4 id="ä¸¾ä¾‹">ä¸¾ä¾‹&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 121;
flex-basis: 291px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112218359.png" data-size="250x206">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112218359.png"
width="250"
height="206"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112218359_hu1962377548689383665.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112218359_hu12246078549466636233.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åœ¨æŒ‡ä»¤Fè¿›è¡Œå¯„å­˜å™¨é‡å‘½åæ—¶,éœ€è¦å¯¹cRATè¿›è¡ŒCheckpointä¿å­˜&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 198;
flex-basis: 477px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112714099.png" data-size="742x373">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112714099.png"
width="742"
height="373"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112714099_hu17598209733909211804.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019112714099_hu1293636208337311542.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>åˆ†æ”¯Fè¢«å‘ç°äº†åˆ†æ”¯é¢„æµ‹å¤±è´¥,å¯¹cRATè¿›è¡ŒçŠ¶æ€æ¢å¤å‰ ,åœ¨Fè§£ç æ—¶,å°±ä¿å­˜äº†æ­¤æ—¶çš„çŠ¶æ€,æ‰€ä»¥å¦‚æœé¢„æµ‹å¤±è´¥å†™å›,å°±ç›´æ¥æ¢å¤äº†é‚£ä¹‹å‰çš„è¡¨&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 172;
flex-basis: 415px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019113041106.png" data-size="749x433">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019113041106.png"
width="749"
height="433"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019113041106_hu11760825212501167464.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B04/image-20241019113041106_hu9948112582823394189.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>æ¯æ¬¡åœ¨æµæ°´çº¿çš„å¯„å­˜å™¨é‡å‘½åé˜¶æ®µé‡åˆ°åˆ†æ”¯2æŒ‡ä»¤æ—¶,éƒ½ä¼šä»è¡¨7.2æ‰¾å‡ºä¸€ä¸ªç©ºé—²çš„GCæ¥å­˜å‚¨æ­¤æ—¶çš„æœ‰æ•ˆä½(V),å¹¶å°†GCçš„ç¼–å·æ”¾åœ¨åˆ†æ”¯æŒ‡ä»¤çš„ä¿¡æ¯ä¸­,è¿™æ ·å½“å¾—åˆ°åˆ†æ”¯é¢„æµ‹çš„ç»“æœä¹‹å,å°±å¯ä»¥æ ¹æ®ç¼–å·æ¥æ‰¾åˆ°ä¸ä¹‹å¯¹åº”çš„GC.åœ¨åˆ†æ”¯é¢„æµ‹å¤±è´¥ä¹‹åç›´æ¥è¿›è¡Œç›¸åº”çš„å¤åŸ&lt;/p>
&lt;p>ä¸ºäº†ä¿è¯æ­£ç¡®æ€§,åœ¨åˆ†æ”¯é¢„æµ‹å¤±è´¥è¿›è¡Œæ¢å¤çš„æ—¶å€™,éœ€è¦å¯¹ç©ºé—²åˆ—è¡¨(free list)ä¹Ÿè¿›è¡ŒçŠ¶æ€æ¢å¤,é‚£äº›åˆ«å ç”¨çš„ç‰©ç†å¯„å­˜å™¨éƒ½å°†é‡æ–°å˜ä¸ºç©ºé—²çš„çŠ¶æ€(é€šè¿‡æ¢å¤free listçš„è¯»æŒ‡é’ˆ)&lt;/p>
&lt;p>å¯¹cRATè¿›è¡ŒçŠ¶æ€æ¢å¤,å°±æ˜¯è¦è¿˜åŸå‡ºé€»è¾‘å¯„å­˜å™¨çœŸæ­£å¯¹åº”çš„ç‰©ç†å¯„å­˜å™¨,å› ä¸ºä¼šç»­åˆ†æ”¯é¢„æµ‹å¤±è´¥è·¯å¾„ä¸Šçš„æŒ‡ä»¤å¯èƒ½ä¼šä¿®æ”¹å¯¹åº”å…³ç³»,éœ€è¦è¿›è¡Œçº æ­£.å¯¹äºç‰©ç†å¯„å­˜å™¨çš„ç©ºé—²ç®¡ç†äº¤ç»™ROBå’Œfree list&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>åˆ†æ”¯é¢„æµ‹(ç›®æ ‡åœ°å€é¢„æµ‹)</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/</link><pubDate>Wed, 16 Oct 2024 18:26:42 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/</guid><description>&lt;h2 id="åˆ†æ”¯é¢„æµ‹çš„ç›®æ ‡åœ°å€é¢„æµ‹">åˆ†æ”¯é¢„æµ‹çš„ç›®æ ‡åœ°å€é¢„æµ‹&lt;/h2>
&lt;p>å¯¹äºç›´æ¥è·³è½¬çš„åˆ†æ”¯æŒ‡ä»¤,ç”±äºå®ƒçš„åç§»å€¼(offset)æ˜¯ä»¥ç«‹å³æ•°çš„å½¢å¼å›ºå®šåœ¨æŒ‡ä»¤ä¸­,ç›®æ ‡åœ°å€æ˜¯å›ºå®šçš„,åªéœ€è¦è®°å½•åˆ†æ”¯æŒ‡ä»¤çš„ç›®æ ‡åœ°å€å³å¯.&lt;/p>
&lt;p>å¯¹äºé—´æ¥åˆ†æ”¯è·³è½¬,å¤§éƒ¨åˆ†æ˜¯CALLå’ŒReturn ,æ‰€ä»¥å¯ä»¥è¿›è¡Œä¸€å®šç¨‹åº¦çš„é¢„æµ‹&lt;/p>
&lt;h3 id="ç›´æ¥è·³è½¬ç±»å‹çš„åˆ†æ”¯é¢„æµ‹">ç›´æ¥è·³è½¬ç±»å‹çš„åˆ†æ”¯é¢„æµ‹&lt;/h3>
&lt;p>(1)å½“åˆ†æ”¯æŒ‡ä»¤ä¸å‘ç”Ÿè·³è½¬æ—¶,&lt;/p>
&lt;p>ç›®æ ‡åœ°å€ = å½“å‰åˆ†æ”¯æŒ‡ä»¤çš„PCå€¼ + Sizeof(fetch group)&lt;/p>
&lt;p>(2)å½“å‘ç”Ÿè·³è½¬æ—¶&lt;/p>
&lt;p>ç›®æ ‡æŒ‡ä»¤ = å½“å‰åˆ†æ”¯æŒ‡ä»¤çš„PCå€¼ + Sign_Eextend(offset)&lt;/p>
&lt;h4 id="btb">BTB&lt;/h4>
&lt;p>é€šè¿‡BTB(Branch Target Buffer)(ç›¸å½“äºä¸€ä¸ªcache)ä½¿å¾—å¤šä¸ªPCå€¼å…±ç”¨ä¸€ä¸ªç©ºé—´æ¥å­˜å‚¨ç›®æ ‡åœ°å€,&lt;/p>
&lt;p>index + tag ,&lt;/p>
&lt;p>BTA (Branch Target Address)åˆ†æ”¯ç›®æ ‡åœ°å€&lt;/p>
&lt;p>å¯ä»¥ä½¿ç”¨ç»„ç›¸è”çš„BTAæ¥æé«˜åˆ†æ”¯é¢„æµ‹çš„å‡†ç¡®ç‡&lt;/p>
&lt;p>å¦‚æœå·²ç»è¢«æ›¿æ¢äº†,é‚£è¯¥è·³å“ªå» : å…ˆè·³å†å†²åˆ·å—?&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 160;
flex-basis: 386px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185417711.png" data-size="856x532">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185417711.png"
width="856"
height="532"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185417711_hu7374757969364877266.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185417711_hu6804283647297828377.png 1024w"
loading="lazy"
alt="image-20241016185417711">
&lt;/a>
&lt;figcaption>image-20241016185417711&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="partial-tag-btb">partial-tag BTB&lt;/h5>
&lt;p>å¦‚æœæ˜ å°„åˆ°BTBä¸­çš„æŒ‡ä»¤ä¸­åªæœ‰ä¸€æ¡,é‚£å¯ä»¥ç®€åŒ–tagçš„éƒ¨åˆ†,åªä½¿ç”¨å¾ˆå°çš„ä¸€éƒ¨åˆ†,&lt;/p>
&lt;p>è¿™ç§æ–¹æ³•å®é™…ä¸Šä¹Ÿæ˜¯åœ¨èµŒ,å‡å°‘äº†tagçš„å¤§å°,ä¸‡ä¸€å‡ºç°äº†é‡åˆ,é‚£å°±ä¼šå‡ºç°ç›®æ ‡åœ°å€é¢„æµ‹å¤±è´¥çš„æƒ…å†µ,ä½†å®é™…ä¸Š,å¦‚æœå‡ºç°äº†é‡åˆ,å³ä½¿ä¸å‡å°‘tag,ä»ç„¶ä¼šå¯¼è‡´é¢„æµ‹å¤±è´¥.&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 302;
flex-basis: 726px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185852818.png" data-size="778x257">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185852818.png"
width="778"
height="257"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185852818_hu17713719676223318284.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016185852818_hu2386597830981386302.png 1024w"
loading="lazy"
alt="image-20241016185852818">
&lt;/a>
&lt;figcaption>image-20241016185852818&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>å’Œä¹‹å‰ç±»ä¼¼,ä»ç„¶å¯ä»¥é‡‡å–ä¸€å®šè¿ç®—,æ¥é™ä½tagçš„ä½æ•°,æ¯”æ–¹è¯´å¼‚æˆ–&lt;/p>
&lt;p>&lt;del>æˆ‘æ¯”è¾ƒå¥½å¥‡,å¦‚æœtagæ²¡æœ‰å¯¹ä¸Š,å¯¹äºç›´æ¥ç›¸è¿æ¥è¯´,æœ¬èº«ä¹Ÿæ— æ³•å¾—åˆ°æ­£ç¡®åœ°å€,é‚£ä¸ºä»€ä¹ˆä¸ç›´æ¥æŠŠtagåˆ é™¤äº†&lt;/del>&lt;/p>
&lt;p>åº”è¯¥æ˜¯ç»„ç›¸è”æœ‰ç”¨å§&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 235;
flex-basis: 565px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016190929007.png" data-size="551x234">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016190929007.png"
width="551"
height="234"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016190929007_hu17591383904736463039.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016190929007_hu1099906551913900448.png 1024w"
loading="lazy"
alt="image-20241016190929007">
&lt;/a>
&lt;figcaption>image-20241016190929007&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h4 id="btbç¼ºå¤±çš„å¤„ç†">BTBç¼ºå¤±çš„å¤„ç†&lt;/h4>
&lt;h5 id="åœæ­¢æ‰§è¡Œ">åœæ­¢æ‰§è¡Œ&lt;/h5>
&lt;p>æš‚åœå–æŒ‡,ç›´åˆ°ç›®æ ‡åœ°å€è¢«è®¡ç®—å‡ºæ¥&lt;/p>
&lt;p>å¯¹äºç›´æ¥è·³è½¬æŒ‡ä»¤,åœ¨è§£ç é˜¶æ®µå°±å¯ä»¥åˆ†ç¦»å‡ºåç§»å€¼&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 181;
flex-basis: 436px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192302026.png" data-size="491x270">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192302026.png"
width="491"
height="270"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192302026_hu6458134045906799705.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192302026_hu15515489183902377947.png 1024w"
loading="lazy"
alt="è§£ç é˜¶æ®µåˆ†ç¦»æŒ‡ä»¤">
&lt;/a>
&lt;figcaption>è§£ç é˜¶æ®µåˆ†ç¦»æŒ‡ä»¤&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>åœæ­¢å–æŒ‡ä¼šé€ æˆæ°”æ³¡,å…¶å®å°±æ˜¯å¯¼è‡´æµæ°´çº¿åœæ»&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 282;
flex-basis: 677px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192510520.png" data-size="725x257">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192510520.png"
width="725"
height="257"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192510520_hu17955641935330878257.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016192510520_hu10501807876583559370.png 1024w"
loading="lazy"
alt="image-20241016192510520">
&lt;/a>
&lt;figcaption>image-20241016192510520&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="ç»§ç»­æ‰§è¡Œ">ç»§ç»­æ‰§è¡Œ&lt;/h5>
&lt;p>ä½¿ç”¨é¡ºåºçš„PCå€¼å»æŒ‡ä»¤&lt;/p>
&lt;p>è®¡ç®—å‡ºçš„åœ°å€å’ŒåŸæ¥PCä¸ä¸€è‡´,å°±å†²åˆ·æµæ°´çº¿,é‡æ–°å¼€å§‹å–æŒ‡&lt;/p>
&lt;p>è¿™ä¹ˆåšä¼šæµªè´¹åŠŸè€—&lt;/p>
&lt;h3 id="é—´æ¥è·³è½¬ç±»å‹çš„åˆ†æ”¯é¢„æµ‹">é—´æ¥è·³è½¬ç±»å‹çš„åˆ†æ”¯é¢„æµ‹&lt;/h3>
&lt;h4 id="callreturn-æŒ‡ä»¤çš„åˆ†æ”¯é¢„æµ‹">CALL/Return æŒ‡ä»¤çš„åˆ†æ”¯é¢„æµ‹&lt;/h4>
&lt;p>CALLçš„åœ°å€ä¸€èˆ¬ä¹Ÿæ˜¯å›ºå®šçš„,æ‰€ä»¥ä¹Ÿå¯ä»¥é€šè¿‡BTBè¿›è¡Œé¢„æµ‹&lt;/p>
&lt;p>Returnçš„ç›®æ ‡åœ°å€æ˜¯ä¸å›ºå®šçš„,ä½†æ˜¯Returnçš„ç›®æ ‡åœ°å€æ€»æ˜¯ç­‰äºæœ€è¿‘ä¸€æ¬¡æ‰§è¡Œçš„&lt;/p>
&lt;p>ä½†æ˜¯ReturnæŒ‡ä»¤çš„ç›®æ ‡åœ°å€,æ˜¯æŒ‰ç…§CALLæŒ‡ä»¤æ‰§è¡Œçš„ç›¸åé¡ºåºæ’åˆ—çš„&lt;/p>
&lt;p>æ‰€ä»¥å¯ä»¥åšä¸€ä¸ªå­˜å‚¨å™¨,ä¿å­˜æœ€è¿‘æ‰§è¡Œçš„CALLæŒ‡ä»¤çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„åœ°å€,è¿™ä¸ªå­˜å‚¨å™¨æ˜¯åè¿›å…ˆå‡ºçš„(Last In First Out,LIFO),åŸç†ä¸å †æ ˆç±»ä¼¼,ç§°ä¸ºè¿”å›åœ°å€å †æ ˆ(Return Address Stack,RAS)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 249;
flex-basis: 599px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202107006.png" data-size="809x324">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202107006.png"
width="809"
height="324"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202107006_hu5781072421816679016.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202107006_hu16507365381751537198.png 1024w"
loading="lazy"
alt="CALL/Return æŒ‡ä»¤åˆ†æ”¯é¢„æµ‹">
&lt;/a>
&lt;figcaption>CALL/Return æŒ‡ä»¤åˆ†æ”¯é¢„æµ‹&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="raså·¥ä½œæ¡ä»¶">RASå·¥ä½œæ¡ä»¶&lt;/h5>
&lt;p>(1)éœ€è¦åŠæ—¶ä¿å­˜PC + 4çš„å€¼, æŒ‡ä»¤ç±»å‹åªæœ‰åœ¨è§£ç é˜¶æ®µæ‰èƒ½è·çŸ¥,å› æ­¤å¯ä»¥åœ¨BTBä¸­å¤šåŠ ä¸€é¡¹æ¥ä¿å­˜åˆ†æ”¯æŒ‡ä»¤çš„ç±»å‹,è¿™æ ·åœ¨åç»­å–åˆ°è¿™ä¸€æ¡æŒ‡ä»¤å°±å¯ä»¥è·çŸ¥åˆ†æ”¯æŒ‡ä»¤ç±»å‹&lt;/p>
&lt;p>(2)åœ¨å¯¹ReturnæŒ‡ä»¤è¿›è¡Œç›®æ ‡åœ°å€é¢„æµ‹æ˜¯,èƒ½å¤Ÿé€‰æ‹©RASçš„æ•°æ®,è€ŒéBTBçš„æ•°æ®,æŒ‰ç…§ä¸Šé¢çš„æ–¹æ³•å°±å¯ä»¥åšåˆ°&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 258;
flex-basis: 621px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202620233.png" data-size="492x190">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202620233.png"
width="492"
height="190"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202620233_hu508193164438520474.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016202620233_hu1108834045841803893.png 1024w"
loading="lazy"
alt="å°†æŒ‡ä»¤ç±»å‹å­˜å‚¨åˆ°BTBä¸­">
&lt;/a>
&lt;figcaption>å°†æŒ‡ä»¤ç±»å‹å­˜å‚¨åˆ°BTBä¸­&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="rasæ»¡äº†">RASæ»¡äº†&lt;/h5>
&lt;p>å¦‚æœå‡½æ•°å±‚æ¬¡è¿‡æ·±,å°±ä¼šå‡ºç°RASæ— æ³•ç»§ç»­å­˜æ”¾çš„é—®é¢˜&lt;/p>
&lt;p>(1)ä¸ä¿å­˜CALLäº†,è¿™æ ·ä¸‹ä¸€æ¬¡Return å°±ä¼šå‡ºç°åˆ†æ”¯é¢„æµ‹å¤±è´¥,å¹¶ä¸”è¿˜è¦æ±‚RASæŒ‡é’ˆä¸å‘ç”Ÿæ”¹å˜&lt;/p>
&lt;p>(2)ç»§ç»­æŒ‰ç…§é¡ºåºå‘RASå†™å…¥,æ­¤æ—¶æœ€æ—§çš„ä¼šè¢«è¦†ç›–æ‰.æœ€åä¸€æ¬¡return å¯èƒ½ä¼šå‡ºç°åˆ†æ”¯é¢„æµ‹å¤±è´¥,ä½†æ˜¯ä¹Ÿæ˜¯å¯èƒ½æ€§äº‹ä»¶,æ¯”æ–¹è¯´é€’å½’å‡½æ•°&lt;/p>
&lt;p>å¯ä»¥é€šè¿‡å¸¦è®¡æ•°å™¨çš„RASæ¥æ‰©å±•RASçš„å®¹é‡, å³å¯¹äºç›¸é‚»çš„CALL,å¦‚æœæ˜¯åŒä¸€æ¡æŒ‡ä»¤,å°±å­˜æ”¾åœ¨RASçš„åŒä¸€ä¸ªåœ°å€,å†ç”¨è®¡æ•°å™¨è¿›è¡Œæ ‡è¯†&lt;/p>
&lt;h4 id="å…¶ä»–æŒ‡ä»¤çš„é¢„æµ‹">å…¶ä»–æŒ‡ä»¤çš„é¢„æµ‹&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 131;
flex-basis: 316px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016203614224.png" data-size="227x172">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016203614224.png"
width="227"
height="172"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016203614224_hu6984012436561300078.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016203614224_hu9987043498051736602.png 1024w"
loading="lazy"
alt="caseæŒ‡ä»¤">
&lt;/a>
&lt;figcaption>caseæŒ‡ä»¤&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 291;
flex-basis: 699px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210205293.png" data-size="711x244">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210205293.png"
width="711"
height="244"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210205293_hu5286439124904148354.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210205293_hu16493922937992861016.png 1024w"
loading="lazy"
alt="image-20241016210205293">
&lt;/a>
&lt;figcaption>image-20241016210205293&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ä½¿ç”¨åŸºäºå±€éƒ¨å†å²çš„åˆ†æ”¯é¢„æµ‹æ–¹æ³•,æŠŠPHTæ¢æˆäº†Target Cache,&lt;/p>
&lt;p>æ¯å½“åˆ†æ”¯æŒ‡ä»¤æ‰§è¡Œä¸€æ¬¡,å°±å°†ç›®æ ‡åœ°å€å†™åˆ°Target Cache ä¸­&lt;/p>
&lt;h2 id="å°ç»“">å°ç»“&lt;/h2>
&lt;p>åˆ†æ”¯é¢„æµ‹ä½¿ç”¨ BHR , GHRå’Œé¥±å’Œè®¡æ•°å™¨é…åˆè¿›è¡Œåˆ†æ”¯æŒ‡ä»¤æ–¹å‘çš„é¢„æµ‹&lt;/p>
&lt;p>ä½¿ç”¨ BTB, RASå’Œ Target Cacheå¯¹åˆ†æ”¯æŒ‡ä»¤çš„ç›®æ ‡åœ°å€è¿›è¡Œé¢„æµ‹&lt;/p>
&lt;p>å®Œæ•´çš„åˆ†æ”¯é¢„æµ‹æ–¹æ³• , decoupled BTB : å°†åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘é¢„æµ‹ç‹¬ç«‹äºBTB ,æœ¬èº«ä¸ä¼šè¢«è®°å½•åˆ°BTBçš„åˆ†æ”¯æŒ‡ä»¤ä¹Ÿä¼šè¢«è®°å½•(&lt;del>ä¸è·³è½¬çš„åˆ†æ”¯ä¹Ÿä¼šè®°å½•åˆ°BTB&lt;/del>)&lt;/p>
&lt;p>é¢„æµ‹ä¸ºå‘ç”Ÿè·³è½¬,ä½†æ˜¯å‘ç”Ÿäº†BTBç¼ºå¤±,æ¯”å‘ç”Ÿåˆ†æ”¯é¢„æµ‹å¤±è´¥çš„æƒ…å†µå¥½,å¯ä»¥èŠ‚çœåŠŸè€—&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 101;
flex-basis: 243px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210627326.png" data-size="525x517">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210627326.png"
width="525"
height="517"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210627326_hu15660941589493918871.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241016210627326_hu4393141796266973765.png 1024w"
loading="lazy"
alt="å®Œæ•´çš„åˆ†æ”¯é¢„æµ‹æ–¹æ³•">
&lt;/a>
&lt;figcaption>å®Œæ•´çš„åˆ†æ”¯é¢„æµ‹æ–¹æ³•&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="åˆ†æ”¯é¢„æµ‹å¤±è´¥çš„æ¢å¤">åˆ†æ”¯é¢„æµ‹å¤±è´¥çš„æ¢å¤&lt;/h2>
&lt;p>å¤„åœ¨é”™è¯¯è·¯å¾„ä¸Šçš„æŒ‡ä»¤æœ‰å¯èƒ½å·²ç»å°†å¤„ç†å™¨ä¸­æŸä¸ªéƒ¨ä½çš„å†…å®¹è¿›è¡Œäº†æ›´æ”¹,ä¾‹å¦‚å¯„å­˜å™¨é‡å‘½åé˜¶æ®µçš„é‡å‘½åæ˜ å°„è¡¨(mapping table),éœ€è¦å¯¹æ“ä½œè¿›è¡Œæ’¤é”€,å³åˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶çš„æ¢å¤&lt;/p>
&lt;h3 id="åˆ†æ”¯é¢„æµ‹æ£€æŸ¥">åˆ†æ”¯é¢„æµ‹æ£€æŸ¥&lt;/h3>
&lt;p>(1) è§£ç é˜¶æ®µå¯ä»¥æ£€æŸ¥ç›´æ¥è·³è½¬çš„æ­£ç¡®æ€§,å¯ä»¥å¾—åˆ°åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘å’Œç›®æ ‡åœ°å€,&lt;/p>
&lt;p>å¯¹äºé—´æ¥è·³è½¬,å³ä½¿å¾—çŸ¥é¢„æµ‹é”™è¯¯,ä¹Ÿæ— æ³•å¾—åˆ°æ­£ç¡®çš„åœ°å€,ä½†æ˜¯å¯ä»¥é€šè¿‡æµæ°´çº¿æš‚åœæ¥é¿å…æŠ¹æ‰æŒ‡ä»¤é€ æˆçš„åŠŸè€—æµªè´¹&lt;/p>
&lt;p>(2)åœ¨è¯»å–ç‰©ç†ç‰©ç†å¯„å­˜å™¨çš„é˜¶æ®µ,è¯»å–åˆ°å¯„å­˜å™¨çš„å€¼,å°±å¯ä»¥å¾—åˆ°ç›®æ ‡åœ°å€æ˜¯å¦é”™è¯¯,è¿›è¡Œé‡æ–°å–æŒ‡ä»¤,&lt;/p>
&lt;p>è¿˜æ˜¯éœ€è¦å¯¹ä¸å¿…è¦çš„æŒ‡ä»¤è¿›è¡ŒæŠ¹å»,å¯¹äºè¿›å…¥å‘å°„é˜Ÿåˆ—çš„æŒ‡ä»¤,å¯èƒ½æ¯”è¾ƒå›°éš¾,éœ€è¦é€‰æ‹©æ€§çš„è¿›è¡ŒæŠ¹å»&lt;/p>
&lt;p>(3)åœ¨æ‰§è¡Œé˜¶æ®µ,ä»»ä½•åˆ†æ”¯æŒ‡ä»¤çš„ç»“æœéƒ½å¯ä»¥è¢«è®¡ç®—å‡ºç»“æœ,å¯ä»¥è¿›è¡Œæ£€æŸ¥,ä½†æ˜¯é€ æˆçš„æƒ©ç½š(penalty)æ˜¯æœ€å¤§çš„.éœ€è¦æ¸…é™¤åœ¨è¿™æ¡åˆ†æ”¯æŒ‡ä»¤ä¹‹åè¿›å…¥æµæ°´çº¿çš„æ‰€æœ‰æ•°æ®&lt;/p>
&lt;h3 id="åŸºäºrobçš„æ¢å¤">åŸºäºROBçš„æ¢å¤&lt;/h3>
&lt;p>åœ¨ä¹±åºæ‰§è¡Œä¸­,åœ¨è¿™æ¡åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰çš„æ•°æ®ä¹Ÿä¼šåœ¨å‘å°„é˜Ÿåˆ—æˆ–è€…æ‰§è¡Œä¸­,å¯ä»¥é‡‡å–é‡æ’åºç¼“å­˜(ROB)å¯¹å¤„ç†å™¨è¿›è¡ŒçŠ¶æ€æ¢å¤ (ROBæ˜¯é¡ºåºå­˜å‚¨æŒ‡ä»¤çš„)&lt;/p>
&lt;p>å½“å‘ç”Ÿåˆ†æ”¯æŒ‡ä»¤é¢„æµ‹å¤±è´¥æ—¶,å°†ä¿¡æ¯è®°å½•åœ¨ROBå¯¹åº”çš„è¡¨é¡¹(entry)ä¸­,å¹¶ä¸”æš‚åœæµæ°´çº¿çš„å–æŒ‡ä»¤,ä½†æ˜¯è®©æµæ°´çº¿ç»§ç»­æ‰§è¡Œ,å½“è¿™æ¡æŒ‡ä»¤å˜ä¸ºæœ€æ—§çš„æŒ‡ä»¤å,å†²åˆ·æ‰æµæ°´çº¿ä¸­çš„æ‰€æœ‰æ•°æ®,é‡æ–°å–æŒ‡ä»¤. ç¼ºç‚¹å°±æ˜¯åœæ»æ—¶é—´ä¼šæ¯”è¾ƒé•¿.&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 168;
flex-basis: 404px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017201150348.png" data-size="627x372">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017201150348.png"
width="627"
height="372"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017201150348_hu6633562508414504632.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017201150348_hu17435496857645374288.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="åŸºäºcheckpointçš„çŠ¶æ€æ¢å¤">åŸºäºcheckpointçš„çŠ¶æ€æ¢å¤&lt;/h3>
&lt;p>checkpoint, å‘ç°åˆ†æ”¯æŒ‡ä»¤,å¹¶ä¸”åœ¨åˆ†æ”¯æŒ‡ä»¤ä¹‹åçš„æŒ‡ä»¤æ›´æ”¹å¤„ç†å™¨çš„çŠ¶æ€ä¹‹å‰,å°†å¤„ç†å™¨çš„çŠ¶æ€ä¿å­˜èµ·æ¥,åŒ…æ‹¬å¯„å­˜å™¨é‡å‘½åä¸­ä½¿ç”¨çš„æ˜ å°„è¡¨(mapping table),é¢„æµ‹è·³è½¬çš„åˆ†æ”¯æŒ‡ä»¤å¯¹åº”çš„ä¸‹ä¸€æ¡æŒ‡ä»¤çš„PCç­‰.åœ¨å¯„å­˜å™¨é‡å‘½åé˜¶æ®µè¿›è¡Œ.&lt;/p>
&lt;p>éœ€è¦å°†æµæ°´çº¿ä¸­æ‰€æœ‰å¤„äºåˆ†æ”¯é¢„æµ‹å¤±è´¥è·¯å¾„ä¸Šçš„æŒ‡ä»¤æŠ¹å». éœ€è¦ä¸€ç§æœºåˆ¶è¯†åˆ«å“ªäº›æŒ‡ä»¤å¤„åœ¨é”™è¯¯çš„è·¯å¾„ä¸Š,å¯ä»¥é€šè¿‡ç¼–å·å®ç°,(ç¼–å·å¯ä»¥åœ¨é¡ºåºé˜¶æ®µå°±ç¼–å·å®Œæˆ),ç¼–å·ä¹‹åå°±å¯ä»¥è·çŸ¥å“ªäº›æŒ‡ä»¤ä½äºåˆ†æ”¯æŒ‡ä»¤åé¢&lt;/p>
&lt;p>åˆ†æ”¯æŒ‡ä»¤çš„ç¼–å·ä¸ªæ•°å†³å®šäº†æœ€å¤šå¯ä»¥åœ¨æµæ°´çº¿ä¸­å­˜åœ¨çš„åˆ†æ”¯æŒ‡ä»¤ä¸ªæ•°:å‡è®¾å¤„ç†å™¨ä¸­æœ€å¤šæ”¯æŒ128æ¡æŒ‡ä»¤å­˜åœ¨äºæµæ°´çº¿ä¸­,æŒ‰ç…§æ¯äº”æ¡æŒ‡ä»¤å­˜åœ¨ä¸€æ¡åˆ†æ”¯,æœ€å¤šå128/5 = 26 æ¡åˆ†æ”¯æŒ‡ä»¤å­˜åœ¨ä¸æµæ°´çº¿ä¸­,éœ€è¦5ä½&lt;/p>
&lt;p>æ‰€æœ‰åœ¨æµæ°´çº¿ä¸­çš„åˆ†æ”¯æŒ‡ä»¤ä¼šè¢«åˆ†é…ä¸€ä¸ªç¼–å·å€¼,ç¼–å·ä¼šè¢«ä¿å­˜åœ¨FIFOä¸­,ç§°ä¸ºç¼–å·åˆ—è¡¨(tag list)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 348;
flex-basis: 836px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017203357101.png" data-size="680x195">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017203357101.png"
width="680"
height="195"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017203357101_hu1585711271151754337.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017203357101_hu6318652637317940402.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>
å¯ä»¥ä½¿ç”¨ (free tag list å’Œ tag list)æ¥è¿›è¡Œè®¾è®¡&lt;/p>
&lt;p>ç¼–å·å€¼ä¸å†è¢«ä½¿ç”¨ : åˆ†æ”¯æŒ‡ä»¤æˆåŠŸretire , åˆ†æ”¯é¢„æµ‹å¤±è´¥ (åˆ†æ”¯é¢„æµ‹å¤±è´¥ä¹‹åå°±è¦æ ¹æ®ç¼–å·æ¥å†²åˆ·æµæ°´çº¿äº†,æ‰€æœ‰ç¼–å·å¯ä»¥å›æ”¶äº†)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 152;
flex-basis: 365px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017210139005.png" data-size="709x466">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017210139005.png"
width="709"
height="466"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017210139005_hu2549951271718018092.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017210139005_hu616055593929496326.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h4 id="æµæ°´çº¿æŠ¹å»">æµæ°´çº¿æŠ¹å»&lt;/h4>
&lt;p>(1)å‘å°„ä¹‹å‰çš„æ‰€æœ‰æŒ‡ä»¤éœ€è¦å…¨éƒ¨è¢«æŠ¹å»&lt;/p>
&lt;p>(2)æµæ°´çº¿çš„å‘å°„é˜¶æ®µä»¥åŠä¹‹åçš„æµæ°´æ®µä¸­,ä½¿ç”¨æ¯”å¯»æ‰¾åˆ†æ”¯æŒ‡ä»¤ä¹‹åçš„æŒ‡ä»¤å…¨éƒ¨æŠ¹å»&lt;/p>
&lt;p>tag list æ˜¯é¡ºåºä¿å­˜å¯¹åº”æ ‡å·çš„ , æ‰€ä»¥ æ¯”æ–¹è¯´ç›‘æµ‹åˆ°åˆ†æ”¯æŒ‡ä»¤3 é¢„æµ‹å¤±è´¥,æ‰€ä»¥ 0 ,1, 4 éƒ½éœ€è¦è¢«ç›´æ¥æ¸…é™¤ , å› æ­¤é€šè¿‡å¹¿æ’­ç¼–å·å€¼åŠå°†ROBä¸­å¯¹åº”çš„æŒ‡ä»¤ç½®ä¸ºæ— æ•ˆ&lt;/p>
&lt;p>ä¸€ä¸ªå‘¨æœŸå†…ä½¿ç”¨æ‰€æœ‰ç¼–å·å»æŠ¹å»ROBçš„æŒ‡ä»¤æ˜¯ä¸ç°å®çš„,å¯ä»¥é‡‡å–ä¸€ä¸ªå‘¨æœŸå¹¿æ’­ä¸€ä¸ªç¼–å·çš„æ–¹å¼ , å› ä¸ºä»å–æŒ‡åˆ°å‘å°„è¿˜æ˜¯éœ€è¦ç»è¿‡å‡ ä¸ªå‘¨æœŸçš„,åªè¦åœ¨è¿™ä¹‹å‰é‡æ’åºç¼“å­˜å’Œå‘å°„é˜Ÿåˆ—æŒ‡ä»¤è¢«æŠ¹å»äº†å°±è¡Œäº†&lt;/p>
&lt;p>ç¼–å·å€¼åœ¨è§£ç é˜¶æ®µåˆ†é…æœ€åˆé€‚ ,å› ä¸ºæ­¤æ—¶å·²ç»çŸ¥é“å±äºåˆ†æ”¯æŒ‡ä»¤äº†&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 211;
flex-basis: 508px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017212325101.png" data-size="830x392">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017212325101.png"
width="830"
height="392"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017212325101_hu15410874502044149990.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017212325101_hu9376489831608965537.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>å¯¹äºå¤šæ¡åˆ†æ”¯æŒ‡ä»¤,é€šè¿‡æ§åˆ¶ç¬¬äºŒæ¡åˆ†æ”¯æŒ‡ä»¤åŠå…¶åé¢çš„æ‰€æœ‰æŒ‡ä»¤åœ¨æœ¬å‘¨æœŸä¸èƒ½è¿›å…¥è§£ç é˜¶æ®µ,å¯ä»¥é¿å…ä½¿ç”¨å¤šç«¯å£çš„FIFOæ¥è¿›è¡Œèµ‹å€¼&lt;/p>
&lt;h4 id="ptab-prediction-target-address--buffer">PTAB (Prediction Target Address Buffer)&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 284;
flex-basis: 683px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017214408287.png" data-size="820x288">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017214408287.png"
width="820"
height="288"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017214408287_hu16483625173512044034.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241017214408287_hu641169617317350030.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>é€šè¿‡å°†åˆ†æ”¯æŒ‡ä»¤çš„é¢„æµ‹å€¼ä¿å­˜åˆ°ä¸€ä¸ªç¼“å­˜ä¸­,ä½¿å¾—å…¶åœ¨æ‰§è¡Œé˜¶æ®µè¿›è¡Œåˆ†æ”¯é¢„æµ‹æ˜¯å¦æ­£ç¡®çš„æ£€æŸ¥æ—¶èƒ½å¤Ÿæ­£ç¡®è°ƒç”¨,å¹¶ä¸”å¯ä»¥åªä¿å­˜æ–¹å‘é¢„æµ‹ä¸ºè·³è½¬çš„åˆ†æ”¯æŒ‡ä»¤ PTAB , (Prediction Target Address Buffer)&lt;/p>
&lt;p>&lt;del>å®ƒä¸æ˜¯æœ¬èº«å°±åœ¨BTBä¸­å—,ä¸ºå•¥è¿˜è¦ä¸€ä¸ªbuffer&lt;/del>&lt;/p>
&lt;p>(1)valid , è¡¨ç¤ºPTABä¸­æŸä¸ªè¡¨é¡¹æ˜¯å¦è¢«å ç”¨, å½“åˆ†æ”¯æŒ‡ä»¤å†™å…¥PATBæ—¶,ç½®1,å½“å®Œæˆæ£€æŸ¥ä¹‹å,Reset&lt;/p>
&lt;p>(2)Predict Address,åˆ†æ”¯æŒ‡ä»¤è¢«é¢„æµ‹çš„ç›®æ ‡åœ°å€&lt;/p>
&lt;p>(3)Next PC, åˆ†æ”¯æŒ‡ä»¤çš„ä¸‹ä¸€æ¡PC , å¦‚æœé¢„æµ‹é”™è¯¯,å°±ç›´æ¥ä½¿ç”¨å…¶ä½œä¸ºæ­£ç¡®åœ°å€å–æŒ‡&lt;/p>
&lt;p>æ€ä¹ˆå»æ‰¾PTABå¯¹åº”çš„è¡¨é¡¹ ? ç”¨ PCå— ? æˆ–è€…è¯´ç”¨ Next PCå—&lt;/p>
&lt;p>å†™PTABå¯ä»¥åœ¨å–æŒ‡é˜¶æ®µå°±å®Œæˆ&lt;/p>
&lt;p>è‡ªä¿®æ”¹ä»£ç ä¸€èˆ¬éƒ½ä¼šå»æ¸…ç©ºåˆ†æ”¯é¢„æµ‹å™¨å’ŒI-Cache&lt;/p>
&lt;h2 id="è¶…æ ‡é‡å¤„ç†å™¨çš„åˆ†æ”¯é¢„æµ‹">è¶…æ ‡é‡å¤„ç†å™¨çš„åˆ†æ”¯é¢„æµ‹&lt;/h2>
&lt;p>ç”±äºè¶…æ ‡é‡å–ä¸€ä¸ªåœ°å€,ä¼šå–å‡ºå¤šæ¡æŒ‡ä»¤,æ‰€ä»¥å¦‚æœåªä½¿ç”¨å–æŒ‡ä»¤æ—¶çš„åœ°å€è¿›è¡Œåˆ†æ”¯é¢„æµ‹,ç›¸å½“äºåªæ˜¯å¯¹æŒ‡ä»¤ä½ ä¸ªç»„ä¸­çš„ç¬¬ä¸€æ¡æŒ‡ä»¤è¿›è¡Œåˆ†æ”¯é¢„æµ‹&lt;/p>
&lt;p>å¯ä»¥ä½¿ç”¨å…¬å…±åœ°å€å¯»å€åˆ†æ”¯é¢„æµ‹å™¨ (å¯¹äº4-wayè¶…æ ‡é‡å¤„ç†å™¨[31:4]),å› ä¸ºå¤šæ•°æƒ…å†µä¸‹,å®é™…åªæœ‰ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤ .åœ¨BTBä¸­éœ€è¦è®°å½•ä¸‹åˆ†æ”¯æŒ‡ä»¤åœ¨å››æ¡æŒ‡ä»¤ä¸­çš„ä½ç½®,é¿å…é”™è¯¯ä½¿ç”¨å®ƒçš„ç»“æœ (ä¸ºä»€ä¹ˆæŒ‡ä»¤ä¼šå‡ºç°éå¯¹é½å­˜å‚¨?)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 202;
flex-basis: 485px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163144971.png" data-size="457x226">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163144971.png"
width="457"
height="226"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163144971_hu9999926450411402190.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163144971_hu11458907609099289698.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 151;
flex-basis: 363px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163913518.png" data-size="824x544">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163913518.png"
width="824"
height="544"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163913518_hu6574895480496477885.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018163913518_hu7626835333107781858.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h3 id="ç›®æ ‡åœ°å€çš„é¢„æµ‹">ç›®æ ‡åœ°å€çš„é¢„æµ‹&lt;/h3>
&lt;p>è¦å¯¹æŒ‡ä»¤ç»„çš„æ‰€æœ‰æŒ‡ä»¤è¿›è¡Œåˆ†æ”¯é¢„æµ‹,éœ€è¦å¾—åˆ°æ‰€æœ‰æŒ‡ä»¤çš„PCå€¼,éœ€è¦ä½¿ç”¨3ä¸ªåŠ æ³•å™¨å®ç°PCåœ°å€çš„è·å–,&lt;/p>
&lt;p>ä½†æ˜¯ç”±äºéœ€è¦åŒæ—¶è·å–å››ä¸ªPCå€¼å¯¹åº”çš„ç›®æ ‡åœ°å€,éœ€è¦BTBæ”¯æŒå››ä¸ªè¯»ç«¯å£,å³ä½¿é‡‡ç”¨äº¤ç–Šé¿å…çœŸæ­£çš„å¤šç«¯å£,ä½†æ˜¯ç¡¬ä»¶åˆ©ç”¨ç‡è¿˜æ˜¯è¾ƒä½&lt;/p>
&lt;p>åœ¨åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘é¢„æµ‹å®Œæ¯•ä¹‹å,åˆ©ç”¨ç»“æœä¿¡æ¯å†è¿›è¡Œç›®æ ‡åœ°å€çš„é¢„æµ‹,å¯ä»¥é¿å…å¯¹äºBTBéƒ¨ä»¶çš„å¤šç«¯å£éœ€æ±‚,,è¿™ç§æ–¹æ³•å¯¹äºæ–¹å‘é¢„æµ‹å’Œç›®æ ‡åœ°å€é¢„æµ‹æ˜¯ä¸²è¡Œçš„&lt;/p>
&lt;p>å¯¹äºRISCæŒ‡ä»¤,å¤§å¤šæ•°æŒ‡ä»¤æ˜¯ç›´æ¥è·³è½¬ç±»å‹,ç›®æ ‡åœ°å€æ— éœ€é¢„æµ‹,åœ¨å–æŒ‡ä¹‹åå®é™…å°±å¯ä»¥è¢«è®¡ç®—å‡ºæ¥.å®ç°è¿™æ ·çš„åŠŸèƒ½éœ€è¦è¿›è¡Œé¢„è§£ç &lt;/p>
&lt;h3 id="ç›®æ ‡æ–¹å‘çš„é¢„æµ‹">ç›®æ ‡æ–¹å‘çš„é¢„æµ‹&lt;/h3>
&lt;p>å¯¹äºåŸºäºå±€éƒ¨å†å²çš„åˆ†æ”¯é¢„æµ‹æ–¹æ³•æ¥è¯´,éœ€è¦PHTå’ŒBHTæ”¯æŒå¤šä¸ªè¯»ç«¯å£,å¯ä»¥é€šè¿‡äº¤ç–Š(interleaving)æ¨¡æ‹Ÿå®ç°å¤šç«¯å£&lt;/p>
&lt;p>å¯¹äºå…¨å±€å†å²çš„åˆ†æ”¯é¢„æµ‹,ç”±äºä¸€ä¸ªå‘¨æœŸå†…è¿›è¡Œåˆ†æ”¯é¢„æµ‹çš„å¤šæ¡æŒ‡ä»¤å¯¹åº”çš„GHRæ˜¯ä¸åŒçš„,éœ€è¦è¿›è¡Œç‰¹æ®Šçš„å¤„ç†&lt;/p>
&lt;p>äº¤ç–Š : 7ä½åœ°å€Addr[6:0],é€šè¿‡Addr [1:0]è¿›è¡Œå¯»å€bank ,é€šè¿‡Addr[6:2]å¯»å€bankå¯¹åº”çš„å†…å®¹ ,å°±æ˜¯ä½¿ç”¨å¤šä¸ªå•ç«¯å£çš„å­˜å‚¨å™¨å»ç»„æˆå¤šç«¯å£çš„åŠŸèƒ½&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 180;
flex-basis: 432px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018191051926.png" data-size="811x450">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018191051926.png"
width="811"
height="450"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018191051926_hu1473716903533949269.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B03/image-20241018191051926_hu1420717281721194343.png 1024w"
loading="lazy"
>
&lt;/a>
&lt;/figure>&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>åˆ†æ”¯é¢„æµ‹(æ¦‚è¿°+æ–¹å‘é¢„æµ‹)</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/</link><pubDate>Tue, 15 Oct 2024 14:08:47 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/</guid><description>&lt;h2 id="æ¦‚è¿°">æ¦‚è¿°&lt;/h2>
&lt;h3 id="åˆ†æ”¯é¢„æµ‹éœ€è¦çš„å†…å®¹">åˆ†æ”¯é¢„æµ‹éœ€è¦çš„å†…å®¹&lt;/h3>
&lt;ol>
&lt;li>
&lt;p>æ–¹å‘ï¼Œå†³å®šè·³è½¬ä¸å¦&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ç›®æ ‡åœ°å€ å†³å®šè·³è½¬çš„ç›®çš„åœ°ï¼Œriscvä¸­æœ‰ä¸¤ç§ä½“ç°å½¢å¼&lt;/p>
&lt;p>PC + ç«‹å³æ•°ï¼Œè·³è½¬èŒƒå›´å—é™ã€‚&lt;/p>
&lt;p>å¯„å­˜å™¨è·³è½¬ï¼Œé¢„æµ‹é£é™©éš¾åº¦é«˜ï¼Œä½†æ˜¯é™¤äº†RETURN/CALL,ä¸€èˆ¬å»ºè®®ä¸ä½¿ç”¨é—´æ¥è·³è½¬ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;h3 id="åˆ†æ”¯é¢„æµ‹çš„è§£ç ">åˆ†æ”¯é¢„æµ‹çš„è§£ç &lt;/h3>
&lt;p>å¿«é€Ÿåˆ†è¾¨å‡ºå“ªæ¡æŒ‡ä»¤æ˜¯åˆ†æ”¯æŒ‡ä»¤&lt;/p>
&lt;p>I-cacheå¾—å‡ºç»“æœå¯èƒ½éœ€è¦å¤šä¸ªå‘¨æœŸï¼Œè¿™äº›å‘¨æœŸæ— æ³•å¾—åˆ°å‡†ç¡®çš„é¢„æµ‹ç»“æœ&lt;/p>
&lt;p>è§£ç +åˆ†æ”¯é¢„æµ‹æ”¾åœ¨ä¸€ä¸ªå‘¨æœŸ ï¼Œ ä¸¥é‡å½±å“å‘¨æœŸæ—¶é—´&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 205;
flex-basis: 494px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015143633234.png" data-size="768x373">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015143633234.png"
width="768"
height="373"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015143633234_hu5012368611020013998.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015143633234_hu8871877114348964777.png 1024w"
loading="lazy"
alt="å¿«é€Ÿè§£ç ">
&lt;/a>
&lt;figcaption>å¿«é€Ÿè§£ç &lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;del>å¯ä»¥åœ¨æŒ‡ä»¤ä»L2 cache å†™å…¥åˆ°I-cacheæ—¶è¿›è¡Œå¿«é€Ÿè§£ç ,(pre-decode),ç„¶åå°†æŒ‡ä»¤å¦æ˜¯åˆ†æ”¯çš„ä¿¡æ¯ä¹Ÿå†™å…¥I-cache.&lt;/del>&lt;/p>
&lt;p>åˆ†æ”¯é¢„æµ‹çš„æœ€å¥½æ—¶æœºæ˜¯åœ¨å½“å‰å‘¨æœŸå¾—åˆ°å»æŒ‡ä»¤åœ°å€çš„æ—¶å€™&lt;/p>
&lt;p>å¯ä»¥ç›´æ¥é€šè¿‡PCå€¼æ¥è¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œé‚£å°±ä¸éœ€è¦è¿›è¡Œè§£ç äº†ï¼Œä½†æ˜¯åªèƒ½å¤ŸçŸ¥é“å®ƒæ˜¯åˆ†æ”¯æŒ‡ä»¤&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 220;
flex-basis: 530px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015153115072.png" data-size="773x350">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015153115072.png"
width="773"
height="350"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015153115072_hu10962105718784769920.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015153115072_hu3395612283536332007.png 1024w"
loading="lazy"
alt="pcåˆ†æ”¯é¢„æµ‹">
&lt;/a>
&lt;figcaption>pcåˆ†æ”¯é¢„æµ‹&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="åˆ†æ”¯é¢„æµ‹çš„æ–¹å‘é¢„æµ‹">åˆ†æ”¯é¢„æµ‹çš„æ–¹å‘é¢„æµ‹&lt;/h2>
&lt;p>è·³è½¬ ï¼ˆtaken)å’Œä¸å‘ç”Ÿè·³è½¬ï¼ˆnot tokenï¼‰&lt;/p>
&lt;h3 id="ä¸€bitçš„è·³è½¬é¢„æµ‹">ä¸€bitçš„è·³è½¬é¢„æµ‹&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 290;
flex-basis: 697px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182744711.png" data-size="517x178">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182744711.png"
width="517"
height="178"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182744711_hu3772473742952120499.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182744711_hu6029973878094252562.png 1024w"
loading="lazy"
alt="image-20241015182744711">
&lt;/a>
&lt;figcaption>image-20241015182744711&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="åŸºäºä¸¤ä½é¥±å’Œè®¡æ•°å™¨2-bit-saturating-counter">åŸºäºä¸¤ä½é¥±å’Œè®¡æ•°å™¨ï¼ˆ2-bit saturating counter)&lt;/h3>
&lt;p>æ ¹æ®åˆ†æ”¯å‰ä¸¤æ¬¡çš„ç»“æœé¢„æµ‹ä¸‹ä¸€æ¬¡çš„ç»“æœ&lt;/p>
&lt;h4 id="çŠ¶æ€æœº">çŠ¶æ€æœº&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 301;
flex-basis: 723px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182911601.png" data-size="654x217">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182911601.png"
width="654"
height="217"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182911601_hu6329958502138823409.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015182911601_hu5922628540263514478.png 1024w"
loading="lazy"
alt="åŸºäºä¸¤ä½é¥±å’Œè®¡æ•°å™¨">
&lt;/a>
&lt;figcaption>åŸºäºä¸¤ä½é¥±å’Œè®¡æ•°å™¨&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ï¼ˆ1ï¼‰è®¡æ•°å™¨å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œåˆ†æ”¯æŒ‡ä»¤æœ¬æ¬¡è¢«é¢„æµ‹å‘ç”Ÿè·³è½¬&lt;/p>
&lt;p>ï¼ˆ2ï¼‰ è®¡æ•°å™¨å¤„äºä¸é¥±å’ŒçŠ¶æ€ï¼Œåˆ†æ”¯æŒ‡ä»¤é¢„æµ‹å‘ç”Ÿè·³è½¬&lt;/p>
&lt;p>ï¼ˆ3ï¼‰ è®¡æ•°å™¨å¤„äºä¸é¥±å’ŒçŠ¶æ€ï¼Œåˆ†æ”¯æŒ‡ä»¤é¢„æµ‹ä¸å‘ç”Ÿè·³è½¬&lt;/p>
&lt;p>ï¼ˆ4ï¼‰ è®¡æ•°å™¨å¤„äºé¥±å’ŒçŠ¶æ€ï¼Œåˆ†æ”¯æŒ‡ä»¤è¢«é¢„æµ‹ä¸å‘ç”Ÿè·³è½¬&lt;/p>
&lt;p>åˆå§‹çŠ¶æ€ä½äº strongly not taken æˆ–è€… weakly not taken&lt;/p>
&lt;p>çŠ¶æ€æœºå¤„äºé¥±å’ŒçŠ¶æ€ï¼Œåªæœ‰ä¸¤æ¬¡é¢„æµ‹å¤±è´¥æ‰ä¼šæ”¹å˜é¢„æµ‹çš„ç»“æœ&lt;/p>
&lt;p>å¯¹äºä»¥ä¸‹çš„æƒ…å†µï¼Œè¯¥ç§æ–¹æ³•èƒ½å¤Ÿæœ‰50%çš„æˆåŠŸé¢„æµ‹ç‡&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 328;
flex-basis: 787px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015184801299.png" data-size="279x85">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015184801299.png"
width="279"
height="85"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015184801299_hu12330989491748176683.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015184801299_hu10712615227853934463.png 1024w"
loading="lazy"
alt="image-20241015184801299">
&lt;/a>
&lt;figcaption>image-20241015184801299&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>TTNTNTNTNT å¯¹äºè¿™ç§æƒ…å†µï¼Œé¢„æµ‹è¿˜æ˜¯æœ‰é—®é¢˜ï¼Œå°±æ˜¯å§‹ç»ˆè¿›å…¥ä¸äº†é¥±å’Œï¼Œé‚£è¿˜æ˜¯ç›¸å½“äº1bit&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 159;
flex-basis: 382px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015190708431.png" data-size="632x397">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015190708431.png"
width="632"
height="397"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015190708431_hu1672855586108714933.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015190708431_hu15441497882329938705.png 1024w"
loading="lazy"
alt="å¦å¤–ä¸¤ç§é¢„æµ‹æ–¹æ³•">
&lt;/a>
&lt;figcaption>å¦å¤–ä¸¤ç§é¢„æµ‹æ–¹æ³•&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>æƒ…å†µ1æ˜¯å¦‚æœä¸¤æ¬¡è¿ç»­çš„è·³è½¬ï¼Œå°±ç›´æ¥å˜æˆé¥±å’Œçš„å¼ºè·³è½¬ï¼Œé‚£å°±éœ€è¦ä¸¤æ¬¡ä¸è·³è½¬æ‰èƒ½é¢„æµ‹ä¸ºä¸è·³è½¬&lt;/p>
&lt;p>æƒ…å†µ2æ˜¯å¦‚æœä¸¤æ¬¡è¿ç»­çš„ä¸è·³è½¬ï¼Œå°±ç›´æ¥å˜æˆé¥±å’Œçš„ä¸è·³è½¬ï¼Œé‚£å°±éœ€è¦ä¸¤æ¬¡è·³è½¬æ‰èƒ½é¢„æµ‹ä¸ºè·³è½¬&lt;/p>
&lt;p>åˆ©ç”¨æ ¼é›·ç é™ä½åŠŸè€—ï¼Œå‡å°‘å‡ºé”™çš„æ¦‚ç‡&lt;/p>
&lt;p>å¯¹äºä¸€èˆ¬çš„forå¾ªç¯ï¼ŒTTTTTTTTTTTTTTN ,åªä¼šå‡ºç°2æ¬¡é¢„æµ‹å¤±è´¥ ï¼Œå¼€å§‹æ—¶ weakly not taken , å½“å†æ¬¡æ‰§è¡Œforå¾ªç¯ï¼Œç¬¬ä¸€æ¬¡å°±ä¼šé¢„æµ‹æˆåŠŸ&lt;/p>
&lt;h4 id="å­˜å‚¨æ–¹å¼">å­˜å‚¨æ–¹å¼&lt;/h4>
&lt;p>æ¯ä¸€ä¸ªPCéœ€è¦ä¸€ä¸ªä¸¤ä½çš„é¥±å’Œè®¡æ•°å™¨ï¼Œ 32 ä½ PCéœ€è¦ 2^30 * 2b å­˜å‚¨å™¨ ï¼Œ ä½¿ç”¨å¦‚ä¸‹æ–¹æ³•å­˜å‚¨ï¼ˆPHTï¼ˆPattern History Tableï¼‰ï¼‰: ä½¿ç”¨ PCçš„ä¸€éƒ¨åˆ†è¿›è¡Œå­˜å‚¨&lt;/p>
&lt;h5 id="åˆ«å-aliasing">åˆ«å ï¼ˆaliasing)&lt;/h5>
&lt;p>ä¸åŒPCæœ‰ç›¸åŒçš„é¥±å’Œè®¡æ•°å™¨ï¼Œå¯¼è‡´ç›¸äº’ä¹‹é—´çš„å¹²æ‰°&lt;/p>
&lt;p>ä¸­ç«‹åˆ«å ï¼š åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘ä¸€è‡´&lt;/p>
&lt;p>ç ´åæ€§åˆ«å ï¼š åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘ä¸ä¸€è‡´&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 225;
flex-basis: 540px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015192528722.png" data-size="655x291">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015192528722.png"
width="655"
height="291"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015192528722_hu9221241697137903403.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015192528722_hu5725581828526846841.png 1024w"
loading="lazy"
alt="ä½¿ç”¨PCå€¼çš„ä¸€éƒ¨åˆ†æ¥å¯»å€é¥±å’Œè®¡æ•°å™¨">
&lt;/a>
&lt;figcaption>ä½¿ç”¨PCå€¼çš„ä¸€éƒ¨åˆ†æ¥å¯»å€é¥±å’Œè®¡æ•°å™¨&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 189;
flex-basis: 454px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194600012.png" data-size="563x297">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194600012.png"
width="563"
height="297"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194600012_hu2951182150190756820.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194600012_hu16224992082934435296.png 1024w"
loading="lazy"
alt="image-20241015194600012">
&lt;/a>
&lt;figcaption>image-20241015194600012&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="é¿å…åˆ«åçš„æ–¹æ³•--å“ˆå¸Œè¡¨">é¿å…åˆ«åçš„æ–¹æ³• â€”â€” å“ˆå¸Œè¡¨&lt;/h5>
&lt;p>å“ˆå¸Œè¡¨èƒ½å¤Ÿå‹ç¼©32ä½PCåˆ°ä¸€ä¸ªæ¯”è¾ƒå°çš„å€¼&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 196;
flex-basis: 472px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194955893.png" data-size="553x281">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194955893.png"
width="553"
height="281"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194955893_hu15927042566795541290.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241015194955893_hu8702642689007638371.png 1024w"
loading="lazy"
alt="image-20241015194955893">
&lt;/a>
&lt;figcaption>image-20241015194955893&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>æ›´æ–°æ—¶é—´ç‚¹&lt;/p>
&lt;p>ï¼ˆ1ï¼‰åœ¨æµæ°´çº¿çš„å–æŒ‡ä»¤é˜¶æ®µï¼Œè¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œæ ¹æ®é¢„æµ‹çš„ç»“æœæ›´æ–°PHT é¢„æµ‹çš„ç»“æœæ›´æ–°PHTè‚¯å®šä¸åˆç†&lt;/p>
&lt;p>ï¼ˆ2ï¼‰ åœ¨æµæ°´çº¿çš„æ‰§è¡Œé˜¶æ®µï¼Œå½“åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘è¢«è®¡ç®—å‡ºæ¥æ—¶ï¼Œæ›´æ–°PHT&lt;/p>
&lt;p>ï¼ˆ3ï¼‰ åœ¨æµæ°´çº¿çš„æäº¤é˜¶æ®µï¼Œå½“åˆ†æ”¯æŒ‡ä»¤è¦ç¦»å¼€æµæ°´çº¿æ˜¯ï¼Œæ›´æ–°PHT&lt;/p>
&lt;p>å¯¹äº2,3ï¼Œåˆ†æ”¯æŒ‡ä»¤å¯èƒ½åœ¨PHTæ›´æ–°ä¹‹å‰å°±è¢«å–è¿‡å¾ˆå¤šæ¬¡äº†ï¼Œä¼šå½±å“ç»“æœï¼Œä½†æ˜¯å½±å“çš„ä¸å¤š&lt;/p>
&lt;p>åœ¨ä¹±åºæ‰§è¡Œä¸­ï¼Œå³ä½¿åœ¨æ‰§è¡Œé˜¶æ®µå¾—åˆ°äº†ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤çš„ç»“æœï¼Œä¹Ÿæ— æ³•ä¿è¯è¯¥ç»“æœæ˜¯æ­£ç¡®çš„ï¼Œå› ä¸ºåˆ†æ”¯æŒ‡ä»¤å¯èƒ½ä½äºåˆ†æ”¯é¢„æµ‹å¤±è´¥çš„è·¯å¾„ä¸Šï¼Œæ‰€ä»¥ï¼ˆ3ï¼‰æ˜¯æœ€ä¿é™©çš„&lt;/p>
&lt;p>é¡ºåºæ‰§è¡Œä¸ä¼šå— ï¼Ÿ ä¸ä¼š ï¼Œä¸»è¦æ˜¯ä¹±åºæ‰§è¡Œæœ‰å¯èƒ½å‰é¢çš„æŒ‡ä»¤åäºåé¢æŒ‡ä»¤çš„æ‰§è¡Œ ï¼Œè¿™æ ·åé¢çš„æŒ‡ä»¤ä¸ä¸€å®šä¼šæ‰§è¡Œ&lt;/p>
&lt;h3 id="åŸºäºå±€éƒ¨å†å²çš„åˆ†æ”¯é¢„æµ‹">åŸºäºå±€éƒ¨å†å²çš„åˆ†æ”¯é¢„æµ‹&lt;/h3>
&lt;p>BHR(Branch History Register):åˆ†æ”¯å†å²å¯„å­˜å™¨&lt;/p>
&lt;p>é€šè¿‡ä¸€ä¸ªå¯„å­˜å™¨è®°å½•ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤åœ¨è¿‡å»çš„å†å²çŠ¶æ€&lt;/p>
&lt;p>nä½BHRè®°å½•næ¬¡ç»“æœ&lt;/p>
&lt;p>BHRå’ŒPHTä¸€ä¸€å¯¹åº”ï¼ŒBHRæœ‰å¤šå°‘ç§å–å€¼ï¼ŒPHTæœ‰å¤šå°‘è¡¨é¡¹ï¼ˆentry)&lt;/p>
&lt;p>ç»“æœä»BHRå³ä¾§ç§»å…¥ï¼Œå¯¹åº”çš„BHRå€¼æ”¹å˜å¯¹åº”çš„PHT&lt;/p>
&lt;p>é‚£å°±ç›¸å½“äºæŠŠä¸€ä¸ªPCå¯¹åº”çš„è¡¨é¡¹æœ‰è¿›è¡Œäº†ç»†åˆ† -&amp;gt; ä¸€ä¸ªBHRå’Œå¤šä¸ªPHT&lt;/p>
&lt;p>å¦‚æœä¸€ä¸ªåºåˆ—ï¼Œè¿ç»­ç›¸åŒçš„æ•°æœ‰pä½ï¼Œåˆ™è™šäº†çš„å¾ªç¯å‘¨æœŸä¸ºp,åªè¦BHRä¸å°äºp,å°±å¯ä»¥åšå®Œç¾é¢„æµ‹&lt;/p>
&lt;h4 id="å¯»å€">å¯»å€&lt;/h4>
&lt;p>å°†æ‰€æœ‰åˆ†æ”¯æŒ‡ä»¤çš„BHRç»„åˆåœ¨ä¸€èµ·ç§°ä¸ºåˆ†æ”¯å†å²å¯„å­˜å™¨è¡¨(Branch History Register Table,BHT)&lt;/p>
&lt;p>å¦‚æœè¿›è¡Œå…¨å¯»å€çš„è¯ ï¼Œ 1ä¸ªPCå€¼ éœ€è¦ Nä½BTR + 2^N * 2 ä½PHT , 2^n å°±éœ€è¦ 2^nï¼ˆ N + 2^N * 2ï¼‰&lt;/p>
&lt;p>æ‰€ä»¥éœ€è¦PCéƒ¨åˆ†å€¼æ¥å¯»å€&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 238;
flex-basis: 571px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016102002253.png" data-size="629x264">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016102002253.png"
width="629"
height="264"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016102002253_hu9089512783516302460.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016102002253_hu16056882700841532627.png 1024w"
loading="lazy"
alt="image-20241016102002253">
&lt;/a>
&lt;figcaption>image-20241016102002253&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>1ä¸ªPHT&lt;/strong>&lt;/p>
&lt;p>PCéƒ¨åˆ†å€¼å¯»å€PHT,PCé€šè¿‡hashå¤„ç†å¯»å€BHT&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 159;
flex-basis: 382px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104245339.png" data-size="581x365">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104245339.png"
width="581"
height="365"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104245339_hu16419308451831036941.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104245339_hu17376103308489953844.png 1024w"
loading="lazy"
alt="image-20241016104245339">
&lt;/a>
&lt;figcaption>image-20241016104245339&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>å¼‚æˆ–ï¼ˆXOR)æ³•&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 155;
flex-basis: 373px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104602111.png" data-size="727x467">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104602111.png"
width="727"
height="467"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104602111_hu15096252433589209338.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016104602111_hu925909729055331567.png 1024w"
loading="lazy"
alt="ä½æ‹¼æ¥æ³•å’Œå¼‚æˆ–æ³•">
&lt;/a>
&lt;figcaption>ä½æ‹¼æ¥æ³•å’Œå¼‚æˆ–æ³•&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="åŸºäºå…¨å±€å†å²çš„åˆ†æ”¯é¢„æµ‹">åŸºäºå…¨å±€å†å²çš„åˆ†æ”¯é¢„æµ‹&lt;/h3>
&lt;p>å¯¹ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤è¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œè€ƒè™‘å‰é¢åˆ†æ”¯æŒ‡ä»¤çš„æ‰§è¡Œç»“æœ&lt;/p>
&lt;p>éœ€è¦ä¸€ä¸ªå…¨å±€å†å²å¯„å­˜å™¨ï¼ˆGHR(global history register)),è®°å½•æœ€è¿‘æ‰§è¡Œçš„æ‰€æœ‰åˆ†æ”¯æŒ‡ä»¤çš„ç»“æœã€&lt;/p>
&lt;p>æœ€ç†æƒ³çš„æƒ…å†µæ˜¯å¯¹æ¯æ¡åˆ†æ”¯æŒ‡ä»¤éƒ½ä½¿ç”¨ä¸€ä¸ªPHT&lt;/p>
&lt;p>ä¸€ä¸ªå…¨å±€å¯„å­˜å™¨ + æ¯ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤å¯¹åº”çš„PHT&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 203;
flex-basis: 489px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144951117.png" data-size="650x319">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144951117.png"
width="650"
height="319"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144951117_hu9179660129570194615.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144951117_hu13364759526685380234.png 1024w"
loading="lazy"
alt="image-20241016144951117">
&lt;/a>
&lt;figcaption>image-20241016144951117&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>é‡å˜å¼•èµ·è´¨å˜ï¼Œå½“å±€éƒ¨BHRå°‘åˆ°åªå‰©ä¸‹ä¸€ä¸ªçš„æ—¶å€™ï¼Œå°±æ˜¯å…¨å±€GHR&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 176;
flex-basis: 423px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144931624.png" data-size="726x411">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144931624.png"
width="726"
height="411"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144931624_hu7324003174822261831.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016144931624_hu16689410873822793480.png 1024w"
loading="lazy"
alt="image-20241016144931624">
&lt;/a>
&lt;figcaption>image-20241016144931624&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="æ€»ç»“">æ€»ç»“&lt;/h3>
&lt;p>ä¸¤ç§åˆ†æ”¯é¢„æµ‹æ–¹æ³•&lt;/p>
&lt;p>&lt;strong>å±€éƒ¨å†å²åˆ†æ”¯é¢„æµ‹&lt;/strong>ï¼šåŸºäºåˆ†æ”¯æŒ‡ä»¤è‡ªèº«åœ¨è¿‡å»çš„æ‰§è¡ŒçŠ¶å†µæ¥è¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œå¯¹æ¯ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤éƒ½ä½¿ç”¨åˆ†æ”¯å†å²å¯„å­˜å™¨ï¼ˆBHR),å¹¶ä½¿ç”¨äº†ç”±ä¸¤ä½é¥±å’Œè®¡æ•°å™¨ç»„æˆçš„PHT(Pattern History Table)æ¥æ•æ‰æ¯ä¸€ä¸ªBHRçš„è§„å¾‹ï¼Œä½¿ç”¨BHRå’ŒPHTé…åˆè¿›è¡Œåˆ†æ”¯é¢„æµ‹&lt;/p>
&lt;p>&lt;strong>å…¨å±€å†å²åˆ†æ”¯é¢„æµ‹&lt;/strong>ï¼šåŸºäºä¸€æ¡åˆ†æ”¯æŒ‡ä»¤ä¹‹å‰çš„ä¸€äº›åˆ†æ”¯æŒ‡ä»¤çš„æ‰§è¡ŒçŠ¶å†µæ¥è¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œä½¿ç”¨å…¨å±€å†å²å¯„å­˜å™¨ï¼ˆGHR)è®°å½•æ‰€æœ‰åˆ†æ”¯æŒ‡ä»¤çš„æ‰§è¡Œæƒ…å†µï¼Œç”±ä¸¤ä½é¥±å’Œè®¡æ•°å™¨ç»„æˆçš„PHT(Pattern History Table)æ¥æ•æ‰æ¯ä¸€ä¸ªGHRçš„è§„å¾‹,ä½¿ç”¨GHRå’ŒPHTé…åˆè¿›è¡Œåˆ†æ”¯é¢„æµ‹&lt;/p>
&lt;h3 id="ç«äº‰çš„åˆ†æ”¯é¢„æµ‹">ç«äº‰çš„åˆ†æ”¯é¢„æµ‹&lt;/h3>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 134;
flex-basis: 323px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016145849720.png" data-size="417x309">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016145849720.png"
width="417"
height="309"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016145849720_hu13974060394538718885.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016145849720_hu8834002104162655463.png 1024w"
loading="lazy"
alt="ç«äº‰çš„åˆ†æ”¯é¢„æµ‹åŸç†å›¾">
&lt;/a>
&lt;figcaption>ç«äº‰çš„åˆ†æ”¯é¢„æµ‹åŸç†å›¾&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 135;
flex-basis: 325px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150054271.png" data-size="506x373">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150054271.png"
width="506"
height="373"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150054271_hu7667022521208126150.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150054271_hu9814928122482868099.png 1024w"
loading="lazy"
alt="ç«äº‰çš„åˆ†æ”¯é¢„æµ‹_æ›´è¯¦ç»†çš„åŸç†å›¾">
&lt;/a>
&lt;figcaption>ç«äº‰çš„åˆ†æ”¯é¢„æµ‹_æ›´è¯¦ç»†çš„åŸç†å›¾&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>ç†æƒ³æƒ…å†µä¸‹æ¯ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤éƒ½æœ‰ä¸€ä¸ªCPHT(choice PHT)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 143;
flex-basis: 345px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150311840.png" data-size="391x272">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150311840.png"
width="391"
height="272"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150311840_hu3776547309985000606.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016150311840_hu13077989359135110784.png 1024w"
loading="lazy"
alt="CPHTä¸­çš„ä¸¤ä½é¥±å’Œè®¡æ•°å™¨">
&lt;/a>
&lt;figcaption>CPHTä¸­çš„ä¸¤ä½é¥±å’Œè®¡æ•°å™¨&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;ol>
&lt;li>å½“P1é¢„æµ‹æ­£ç¡®,P2é¢„æµ‹é”™è¯¯æ—¶,è®¡æ•°å™¨å‡1&lt;/li>
&lt;li>å½“P1é¢„æµ‹é”™è¯¯,P2é¢„æµ‹æ­£ç¡®æ—¶,è®¡æ•°å™¨åŠ 1&lt;/li>
&lt;li>å½“P1å’ŒP2é¢„æµ‹ç»“æœä¸€è‡´æ—¶,ä¸ç®¡é¢„æµ‹æ­£ç¡®ä¸å¦,è®¡æ•°å™¨ä¿æŒä¸å˜&lt;/li>
&lt;/ol>
&lt;p>å¯¹äºæ¯ä¸€æ¡æŒ‡ä»¤,åœ¨GHRå†…å®¹ä¸åŒæ—¶,ä¼šå¯¼è‡´ä½¿ç”¨ä¸åŒçš„åˆ†æ”¯é¢„æµ‹æ–¹æ³•,æ‰€ä»¥å°†PCå€¼ä¸GHRè¿›è¡Œç›¸åº”è¿ç®—å†å»å¯»å€CPHTçš„åœ°å€.&lt;/p>
&lt;h3 id="åˆ†æ”¯é¢„æµ‹çš„æ›´æ–°">åˆ†æ”¯é¢„æµ‹çš„æ›´æ–°&lt;/h3>
&lt;h4 id="å†å²å¯„å­˜å™¨">å†å²å¯„å­˜å™¨&lt;/h4>
&lt;p>ï¼ˆ1ï¼‰åœ¨æµæ°´çº¿çš„å–æŒ‡ä»¤é˜¶æ®µï¼Œè¿›è¡Œåˆ†æ”¯é¢„æµ‹ï¼Œæ ¹æ®é¢„æµ‹çš„ç»“æœæ›´æ–°&lt;/p>
&lt;p>ï¼ˆ2ï¼‰ åœ¨æµæ°´çº¿çš„æ‰§è¡Œé˜¶æ®µï¼Œå½“åˆ†æ”¯æŒ‡ä»¤çš„æ–¹å‘è¢«è®¡ç®—å‡ºæ¥æ—¶ï¼Œæ›´æ–°,åˆ†æ”¯æŒ‡ä»¤å¯èƒ½åœ¨é”™è¯¯é¢„æµ‹çš„è·¯å¾„ä¸Š,é€ æˆé”™è¯¯&lt;/p>
&lt;p>ï¼ˆ3ï¼‰ åœ¨æµæ°´çº¿çš„æäº¤é˜¶æ®µï¼Œå½“åˆ†æ”¯æŒ‡ä»¤è¦ç¦»å¼€æµæ°´çº¿æ˜¯ï¼Œæ›´æ–° ,æœ€ä¿é™©çš„æ–¹æ³•,ä½†æ˜¯æµªè´¹äº†æ€§èƒ½&lt;/p>
&lt;p>ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤båœ¨æ—¶é—´tè¢«åˆ†æ”¯é¢„æµ‹,åœ¨æ—¶é—´ $t + \Delta t$ ä»æµæ°´çº¿é€€ä¼‘, ä»»ä½•åœ¨ $ \Delta t $å†…çš„æ—¶é—´è¢«é¢„æµ‹çš„åˆ†æ”¯æŒ‡ä»¤éƒ½ä¸ä¼šä»åˆ†æ”¯æŒ‡ä»¤çš„ç»“æœå—ç›Š&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 199;
flex-basis: 479px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016153738302.png" data-size="763x382">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016153738302.png"
width="763"
height="382"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016153738302_hu9275436089700128595.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016153738302_hu11989386203258249376.png 1024w"
loading="lazy"
alt="image-20241016153738302">
&lt;/a>
&lt;figcaption>image-20241016153738302&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>é‡‡å–æ–¹æ³•1æ›´æ–° ,ä½†æ˜¯ä¼šå‡ºç°åˆ†æ”¯é¢„æµ‹å¤±è´¥çš„æƒ…å†µ ,å³ä½¿åç»­çš„åˆ†æ”¯æŒ‡ä»¤ä½¿ç”¨çš„é”™è¯¯çš„ GHR ,ç”±äºä»–ä»¬åœ¨é¢„æµ‹å¤±è´¥çš„è·¯å¾„ä¸Š,éƒ½ä¼šä»æµæ°´çº¿ä¸­è¢«æŠ¹å»&lt;/p>
&lt;h5 id="ä¿®å¤ghré”™è¯¯å€¼çš„æ–¹æ³•">ä¿®å¤GHRé”™è¯¯å€¼çš„æ–¹æ³•&lt;/h5>
&lt;h6 id="æäº¤commité˜¶æ®µä¿®å¤æ³•">æäº¤(commit)é˜¶æ®µä¿®å¤æ³•&lt;/h6>
&lt;p>å‰ç«¯é˜¶æ®µSpeculative GHR, æäº¤é˜¶æ®µæ”¾ç½®ä¸€ä¸ª Ritired GHR, åœ¨å‰ç«¯æ¨æµ‹å¤±è´¥ä¹‹å,éœ€è¦ç­‰å¾…åˆ†æ”¯æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™,å°†åç«¯çš„GHRå†™åˆ°å‰ç«¯çš„GHRä¸­,ç„¶åæ ¹æ®è¿™æ¡åˆ†æ”¯æŒ‡ä»¤æ‰€æŒ‡å®šçš„ç›®æ ‡åœ°å€,é‡æ–°å–æŒ‡ä»¤æ‰§è¡Œ.&lt;/p>
&lt;p>è¯¥æ–¹æ³•çš„ç¼ºç‚¹æ˜¯ä¼šé€ æˆåˆ†æ”¯é¢„æµ‹å¤±è´¥æ—¶æƒ©ç½šçš„å¢å¤§,(why?)&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 231;
flex-basis: 556px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016154227680.png" data-size="610x263">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016154227680.png"
width="610"
height="263"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016154227680_hu14721982168866039868.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016154227680_hu14789759748200599315.png 1024w"
loading="lazy"
alt="åˆ©ç”¨æäº¤é˜¶æ®µçš„GHRä¿®å¤åˆ†æ”¯é¢„æµ‹å™¨çš„GHR">
&lt;/a>
&lt;figcaption>åˆ©ç”¨æäº¤é˜¶æ®µçš„GHRä¿®å¤åˆ†æ”¯é¢„æµ‹å™¨çš„GHR&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h6 id="checkpointä¿®å¤æ³•">checkpointä¿®å¤æ³•&lt;/h6>
&lt;p>åœ¨å–æŒ‡ä»¤é˜¶æ®µæ›´æ–°GHRæ—¶,å¯ä»¥æŠŠæ—§çš„GHRå€¼ä¿å­˜èµ·æ¥,ä¿å­˜çš„å†…å®¹ç§°ä¸ºcheckpoint GHR .ä¸€æ—¦åˆ†æ”¯æŒ‡ä»¤çš„ç»“æœåœ¨æµæ°´çº¿ä¸­è¢«è®¡ç®—å‡ºæ¥,å°±å¯ä»¥å¯¹åˆ†æ”¯æŒ‡ä»¤çš„åˆ†æ”¯é¢„æµ‹æ˜¯å¦æ­£ç¡®è¿›è¡Œæ£€æŸ¥.å¦‚æœåˆ†æ”¯é¢„æµ‹æ­£ç¡®,è¯´æ˜GHRä¸­çš„å€¼æ˜¯æ­£ç¡®çš„,å¦‚æœé¢„æµ‹å¤±è´¥,å°†è¿™æ¡åˆ†æ”¯æŒ‡ä»¤å¯¹äºçš„checkpoint GHRæ¢å¤åˆ°å‰ç«¯çš„GHRä¸­,å¹¶ä»è¿™æ¡åˆ†æ”¯æŒ‡ä»¤æ­£ç¡®çš„ç›®æ ‡åœ°å€å¼€å§‹å–æŒ‡ä»¤æ‰§è¡Œ&lt;/p>
&lt;p>æˆ‘çš„ç†è§£æ˜¯æŠŠåŸæ¥çš„GHRå’Œåˆ†æ”¯é¢„æµ‹ç»“æœçš„åå‘ç»“åˆç„¶åæ”¾è¿›fifoä¸­,åœ¨é¢„æµ‹å¤±è´¥æ—¶æŠŠè¿™ä¸ªå€¼å–å‡ºæ¥&lt;/p>
&lt;p>å¦‚æœæ˜¯é¡ºåºæ‰§è¡Œ,è¯»å–å­˜å‚¨å™¨çš„æ–¹å¼ä¹Ÿå¯ä»¥ç”¨FIFO,&lt;/p>
&lt;p>æ–¹å¼äºŒæ˜¯å¯¹æ–¹å¼ä¸€çš„ä¸€ç§è¡¥å……,ä½¿å¾—èƒ½å¤Ÿåœ¨æ‰§è¡Œé˜¶æ®µä¹Ÿå»å®ç°æ¢å¤&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 125;
flex-basis: 300px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016162236973.png" data-size="509x407">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016162236973.png"
width="509"
height="407"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016162236973_hu2640580469089932493.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016162236973_hu1193722294166550780.png 1024w"
loading="lazy"
alt="åˆ©ç”¨checkpointçš„æ–¹æ³•ä¼šGHRè¿›è¡Œä¿®å¤">
&lt;/a>
&lt;figcaption>åˆ©ç”¨checkpointçš„æ–¹æ³•ä¼šGHRè¿›è¡Œä¿®å¤&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h5 id="ä¿®å¤bhré”™è¯¯å€¼çš„æ–¹æ³•">ä¿®å¤BHRé”™è¯¯å€¼çš„æ–¹æ³•&lt;/h5>
&lt;p>æ–¹å¼å’Œä¿®å¤GHRåŸºæœ¬æ˜¯ç±»ä¼¼çš„,å¹¶ä¸”BHRå¾ˆå°‘å‡ºç°ä¸€æ¡åˆ†æ”¯æŒ‡ä»¤åœ¨æµæ°´çº¿çš„æäº¤é˜¶æ®µæ›´æ–°BHR,æµæ°´çº¿ä¸­åˆå‡ºç°äº†è¿™æ¡åˆ†æ”¯æŒ‡ä»¤ä½¿ç”¨BHRè¿›è¡Œåˆ†æ”¯é¢„æµ‹çš„æƒ…å†µ,é™¤éå¾ªç¯ä½“å¾ˆçŸ­&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 302;
flex-basis: 725px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016181356130.png" data-size="716x237">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016181356130.png"
width="716"
height="237"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016181356130_hu15264134084536464035.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E7%AC%94%E8%AE%B02/image-20241016181356130_hu13417008434328038782.png 1024w"
loading="lazy"
alt="image-20241016181356130">
&lt;/a>
&lt;figcaption>image-20241016181356130&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h4 id="ä¸¤ä½é¥±å’Œå¯„å­˜å™¨">ä¸¤ä½é¥±å’Œå¯„å­˜å™¨&lt;/h4>
&lt;p>ç”±äºé¥±å’Œå¯„å­˜å™¨ä¸€èˆ¬æ˜¯å¤„åœ¨é¥±å’ŒçŠ¶æ€çš„,æ‰€ä»¥é€‰æ‹©åœ¨åˆ†æ”¯æŒ‡ä»¤é€€ä¼‘çš„æ—¶å€™æ›´æ–°PHTçš„é¥±å’Œè®¡æ•°å™¨,ä¹Ÿä¸ä¼šäº§ç”Ÿå¾ˆå¤§çš„è´Ÿé¢å½±å“&lt;/p>
&lt;h2 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h2>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>è¶…æ ‡é‡å¤„ç†å™¨æ¦‚è§ˆ</title><link>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/</link><pubDate>Mon, 14 Oct 2024 16:43:30 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/</guid><description>&lt;h2 id="è¶…æ ‡é‡å¤„ç†å™¨æ¦‚è§ˆ">è¶…æ ‡é‡å¤„ç†å™¨æ¦‚è§ˆ&lt;/h2>
&lt;h3 id="è¶…æ ‡é‡å¤„ç†å™¨çš„æµæ°´çº¿">è¶…æ ‡é‡å¤„ç†å™¨çš„æµæ°´çº¿&lt;/h3>
&lt;h4 id="é¡ºåºæ‰§è¡Œ">é¡ºåºæ‰§è¡Œ&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 248;
flex-basis: 596px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210154017.png" data-size="1111x447">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210154017.png"
width="1111"
height="447"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210154017_hu6270803957762553776.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210154017_hu2445645561301413447.png 1024w"
loading="lazy"
alt="in-order pipline">
&lt;/a>
&lt;figcaption>in-order pipline&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>å‡è®¾æµæ°´çº¿æ¯å‘¨æœŸå¯ä»¥ä» I-Cache ä¸­å–å‡ºä¸¤æ¡æŒ‡ä»¤æ¥æ‰§è¡Œï¼Œåˆ™ç§°ä¸º2-way çš„è¶…æ ‡é‡å¤„ç†å™¨ï¼Œåœ¨æŒ‡ä»¤ç»è¿‡è§£ç ä¹‹åï¼Œéœ€è¦æ ¹æ®è‡ªèº«çš„ç±»å‹ï¼Œå°†ä¸¤æ¡æŒ‡ä»¤é€åˆ°å¯¹åº”çš„ FU ä¸­æ‰§è¡Œï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸º&lt;strong>å‘å°„(Issue)&lt;/strong>ã€‚åœ¨è¿™ä¸ªé˜¶æ®µï¼ŒæŒ‡ä»¤ä¼šè¯»å–å¯„å­˜å™¨è€Œå¾—åˆ°æ“ä½œæ•°ï¼ŒåŒæ—¶æ ¹æ®æŒ‡ä»¤çš„ç±»å‹ï¼Œå°†æŒ‡ä»¤é€åˆ°å¯¹åº”çš„ FU ä¸­è¿›è¡Œæ‰§è¡Œã€‚åœ¨æ‰§è¡Œé˜¶æ®µä½¿ç”¨äº†ä¸‰ä¸ª FU:ç¬¬ä¸€ä¸ª FU ç”¨æ¥æ‰§è¡Œ ALU ç±»å‹çš„æŒ‡ä»¤ï¼Œç¬¬äºŒä¸ª FU ç”¨æ¥æ‰§è¡Œè®¿é—®å­˜å‚¨å™¨ç±»å‹çš„æŒ‡ä»¤ï¼Œç¬¬ä¸‰ä¸ª FU ç”¨æ¥æ‰§è¡Œä¹˜æ³•æ“ä½œï¼Œå› ä¸ºè¦ä¿è¯æµæ°´çº¿çš„å†™å›(Write back)é˜¶æ®µæ˜¯é¡ºåºæ‰§è¡Œçš„ï¼Œå› æ­¤æ‰€æœ‰ FU éƒ½éœ€è¦ç»å†åŒæ ·å‘¨æœŸæ•°çš„æµæ°´çº¿ï¼ŒScoreBoard ç”¨æ¥è®°å½•æµæ°´çº¿ä¸­æ¯æ¡æŒ‡ä»¤çš„æ‰§è¡Œæƒ…å†µï¼Œä¾‹å¦‚ä¸€æ¡æŒ‡ä»¤åœ¨å“ªä¸ª FU ä¸­æ‰§è¡Œï¼Œåœ¨ä»€ä¹ˆæ—¶å€™è¿™æ¡æŒ‡ä»¤å¯ä»¥å°†ç»“æœè®¡ç®—å‡ºæ¥ç­‰ï¼Œ ä¸€ä¸ªå…¸å‹çš„ ScoreBoardå¦‚ä¸‹ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 156;
flex-basis: 375px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014205855640.png" data-size="443x283">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014205855640.png"
width="443"
height="283"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014205855640_hu6690237057733442019.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014205855640_hu17698180965633417655.png 1024w"
loading="lazy"
alt="scoreboard">
&lt;/a>
&lt;figcaption>scoreboard&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>P: Pending,è¡¨ç¤ºæŒ‡ä»¤çš„ç»“æœè¿˜æ²¡æœ‰å†™å›åˆ°é€»è¾‘å¯„å­˜å™¨ä¸­ã€‚&lt;/p>
&lt;p>F:ä¸€æ¡æŒ‡ä»¤åœ¨å“ªä¸ª FU ä¸­æ‰§è¡Œï¼Œåœ¨å°†æŒ‡ä»¤ç»“æœè¿›è¡Œæ—è·¯æ—¶ä¼šä½¿ç”¨è¿™ä¸ªä¿¡æ¯ã€‚&lt;/p>
&lt;p>Result Position:åœ¨è¿™ä¸ªéƒ¨åˆ†è®°å½•äº†ä¸€æ¡æŒ‡ä»¤åˆ°è¾¾ FU ä¸­æµæ°´æ®µçš„å“ªä¸ªé˜¶æ®µï¼Œ3 è¡¨ç¤ºæŒ‡ä»¤å¤„äº FU æµæ°´çº¿çš„ç¬¬ä¸€ä¸ªæµæ°´æ®µï¼Œ1 è¡¨ç¤ºæŒ‡ä»¤åˆ°è¾¾ FU æµæ°´æ®µçš„æœ€åä¸€ä¸ªé˜¶æ®µï¼Œ 0 è¡¨ç¤ºæŒ‡ä»¤å¤„äºæµæ°´çº¿çš„å†™å›é˜¶æ®µï¼Œåœ¨æµæ°´çº¿çš„&lt;strong>å‘å°„&lt;/strong>é˜¶æ®µï¼Œä¼šå°†æŒ‡ä»¤çš„ä¿¡æ¯å†™åˆ°ScoreBoard ä¸­ï¼ŒåŒæ—¶ï¼Œè¿™æ¡æŒ‡ä»¤ä¼šæŸ¥è¯¢ ScoreBoard æ¥è·çŸ¥è‡ªå·±çš„æºæ“ä½œæ•°æ˜¯å¦éƒ½å‡†å¤‡å¥½äº†ï¼Œåœ¨è¿™æ¡æŒ‡ä»¤è¢«é€åˆ° FU ä¸­æ‰§è¡Œä¹‹åçš„æ¯ä¸ªå‘¨æœŸï¼Œéƒ½ä¼šå°†è¿™ä¸ªå€¼å³ç§»ä¸€ä½ï¼Œè¿™æ ·ä½¿ç”¨è¿™ä¸ªå€¼å°±å¯ä»¥è¡¨è¾¾å‡ºæŒ‡ä»¤åœ¨ FU ä¸­æ‰§è¡Œåˆ°å“ªä¸ªé˜¶æ®µï¼Œå¯¹äºæ‰§è¡Œ ALU ç±»å‹æŒ‡ä»¤çš„ç¬¬ä¸€ä¸ª FU æ¥è¯´ï¼Œå½“æŒ‡ä»¤åˆ°è¾¾ 3 æ—¶ï¼Œå°±å¯ä»¥å°†å®ƒçš„ç»“æœè¿›è¡Œæ—è·¯äº†ï¼›è€Œå¯¹äºæ‰§è¡Œä¹˜æ³•æŒ‡ä»¤çš„ç¬¬ä¸‰ä¸ª FU æ¥è¯´ï¼Œåªæœ‰å½“æŒ‡ä»¤åˆ°è¾¾ 1 æ—¶ï¼Œæ‰å¯ä»¥å°†å®ƒçš„ç»“æœè¿›è¡Œæ—è·¯ã€‚æœ¬ä¹¦é‡‡å–çš„åº”è¯¥æ˜¯ç¬¬äºŒç§ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 293;
flex-basis: 703px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210458774.png" data-size="1179x402">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210458774.png"
width="1179"
height="402"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210458774_hu1954438157205633643.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014210458774_hu1187424182315409720.png 1024w"
loading="lazy"
alt="image-20241014210458774">
&lt;/a>
&lt;figcaption>image-20241014210458774&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>é˜»å¡å‘ç”Ÿåœ¨è¯‘ç çº§&lt;/p>
&lt;p>æŒ‡ä»¤èƒ½å¤Ÿè·³è½¬åˆ°å‘å°„çº§çš„æ¡ä»¶æ˜¯scoreboard å¯¹åº”å¤„åœ¨çº§ä¸º2&lt;/p>
&lt;p>&lt;del>ï¼Ÿä¸€å‘å°±å‘ä¸¤æ¡ï¼Œä¸¤æ¡å¿…é¡»è¦åŒæ­¥å—&lt;/del> åº”è¯¥åªæ˜¯ç”±äºä¸‹æ¡å¯¼è‡´çš„ç­‰å¾…&lt;/p>
&lt;p>æŒ‡ä»¤Dä¸èƒ½æå‰å‘å°„åº”è¯¥å°±æ˜¯ç”±äºéœ€è¦ç­‰å¾…æŒ‡ä»¤Cå‘å°„&lt;/p>
&lt;p>&lt;del>æŒ‡ä»¤Cæ— æ³•è¿›å…¥æ‰§è¡Œæ˜¯ç”±äºå‰é€’çš„é—®é¢˜ï¼Œéœ€è¦ç­‰å¾…æŒ‡ä»¤Açš„å‰é€’&lt;/del>&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 289;
flex-basis: 695px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795.png" data-size="1002x346">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795.png"
width="1002"
height="346"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795_hu1110554545418232987.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795_hu2239682821483300699.png 1024w"
loading="lazy"
alt="image-20241014212008795">
&lt;/a>
&lt;figcaption>image-20241014212008795&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h4 id="ä¹±åºæ‰§è¡Œ">ä¹±åºæ‰§è¡Œ&lt;/h4>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 263;
flex-basis: 632px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014211829599.png" data-size="1096x416">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014211829599.png"
width="1096"
height="416"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014211829599_hu3570244685790815188.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014211829599_hu18113048283906519492.png 1024w"
loading="lazy"
alt="ä¹±åºæ‰§è¡Œæµæ°´çº¿">
&lt;/a>
&lt;figcaption>ä¹±åºæ‰§è¡Œæµæ°´çº¿&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;strong>è§£ç (Decode)é˜¶æ®µ&lt;/strong>ï¼šä¸ºäº†åœ¨ä¹±åºæ‰§è¡Œæ—¶è§£å†³ WAW å’Œ WAR è¿™ä¸¤ç§ç›¸å…³æ€§ï¼Œéœ€è¦å¯¹å¯„å­˜å™¨è¿›è¡Œ&lt;strong>é‡å‘½å(register renaming),&lt;strong>è¿™ä¸ªè¿‡ç¨‹å¯ä»¥åœ¨&lt;/strong>æµæ°´çº¿çš„è§£ç (Decode)&lt;strong>é˜¶æ®µå®Œæˆï¼Œä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ä¸€ä¸ªæµæ°´æ®µæ¥å®Œæˆï¼Œå¤„ç†å™¨ä¸­éœ€è¦å¢åŠ &lt;/strong>ç‰©ç†å¯„å­˜å™¨å †(Physical Register File, PRF)æ¥é…åˆå¯¹æŒ‡ä»¤é›†ä¸­å®šä¹‰çš„å¯„å­˜å™¨( Architecture Register File,ARF)è¿›è¡Œé‡å‘½å&lt;/strong>ï¼ŒPRF ä¸­å¯„å­˜å™¨çš„ä¸ªæ•°è¦å¤šäº ARFã€‚&lt;/p>
&lt;p>**Dispatch(åˆ†å‘):**åœ¨è¿™ä¸ªé˜¶æ®µï¼Œè¢«é‡å‘½åä¹‹åçš„æŒ‡ä»¤ä¼šæŒ‰ç…§ç¨‹åºä¸­è§„å®šçš„é¡ºåºï¼Œå†™åˆ°å‘å°„é˜Ÿåˆ—(Issue Queue)ã€é‡æ’åºç¼“å­˜(ROB)å’Œ Store Buffer ç­‰éƒ¨ä»¶ä¸­ï¼Œå¦‚æœåœ¨è¿™äº›éƒ¨ä»¶ä¸­æ²¡æœ‰ç©ºé—²çš„ç©ºé—´å¯ä»¥å®¹çº³å½“å‰çš„æŒ‡ä»¤ï¼Œé‚£ä¹ˆè¿™äº›æŒ‡ä»¤å°±éœ€è¦åœ¨æµæ°´çº¿çš„é‡å‘½åé˜¶æ®µè¿›è¡Œç­‰å¾…ï¼Œè¿™å°±ç›¸å½“äºæš‚åœäº†å¯„å­˜å™¨é‡å‘½åä»¥åŠä¹‹å‰çš„æ‰€æœ‰æµæ°´çº¿ï¼Œç›´åˆ°è¿™äº›éƒ¨ä»¶ä¸­æœ‰ç©ºé—²çš„ç©ºé—´ä¸ºæ­¢ã€‚åˆ†å‘é˜¶æ®µå¯ä»¥å’Œå¯„å­˜å™¨é‡å‘½åé˜¶æ®µæ”¾åœ¨ä¸€èµ·ï¼Œåœ¨ä¸€äº›å¯¹å‘¨æœŸæ—¶é—´è¦æ±‚æ¯”è¾ƒç´§çš„å¤„ç†å™¨ä¸­ï¼Œä¹Ÿå¯ä»¥å°†è¿™ä¸ªéƒ¨åˆ†å•ç‹¬ä½¿ç”¨ä¸€ä¸ªæµæ°´æ®µã€‚&lt;/p>
&lt;p>&lt;strong>å‘å°„(Issue)é˜¶æ®µ&lt;/strong>ï¼šä¸€æ—¦æŒ‡ä»¤çš„æ“ä½œæ•°å‡†å¤‡å¥½äº†ï¼Œå°±å¯ä»¥ä»å‘å°„é˜Ÿåˆ—ä¸­ç¦»å¼€ï¼Œé€åˆ°å¯¹åº”çš„ FU ä¸­æ‰§è¡Œï¼Œå› æ­¤å‘å°„é˜¶æ®µæ˜¯æµæ°´çº¿ä»&lt;strong>é¡ºåºæ‰§è¡Œåˆ°ä¹±åº&lt;/strong>æ‰§è¡Œçš„åˆ†ç•Œç‚¹ã€‚æ¯ä¸ª FU éƒ½æœ‰è‡ªå·±çš„æµæ°´çº¿çº§æ•°ï¼Œåœ¨è¿™ç§æµæ°´çº¿ä¸­ï¼Œç”±äºæ¯ä¸ª FU çš„æ‰§è¡Œå‘¨æœŸæ•°éƒ½ä¸ç›¸åŒï¼Œæ‰€ä»¥æŒ‡ä»¤åœ¨æµæ°´çº¿çš„å†™å›(Write Back)é˜¶æ®µæ˜¯ä¹±åºçš„ï¼Œåœ¨è¿™ä¸ªé˜¶æ®µï¼Œä¸€æ¡æŒ‡ä»¤åªè¦è®¡ç®—å®Œæ¯•ï¼Œ å°±ä¼šå°†ç»“æœå†™åˆ° PRFä¸­ï¼Œç”±äºåˆ†æ”¯é¢„æµ‹å¤±è´¥( mis-prediction)æˆ–è€…å¼‚å¸¸( exception)çš„å­˜åœ¨ï¼ŒPRF ä¸­çš„ç»“æœæœªå¿…éƒ½ä¼šå†™åˆ° ARF ä¸­ï¼Œå› æ­¤ä¹Ÿå°† PRF ç§°ä¸º Future Fileã€‚&lt;/p>
&lt;p>&lt;strong>Register File Read(è¯»å–å¯„å­˜å™¨)&lt;/strong>:è¢«ä»²è£ç”µè·¯é€‰ä¸­çš„æŒ‡ä»¤éœ€è¦ä»ç‰©ç†å¯„å­˜å™¨å †(Physical Register File,PRF)ä¸­è¯»å–æ“ä½œæ•°ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¢«ä»²è£ç”µè·¯é€‰ä¸­çš„æŒ‡ä»¤å¯ä»¥ä»PRF ä¸­å¾—åˆ°æºæ“ä½œæ•°ï¼Œå½“ç„¶è¿˜æœ‰â€œä¸ä¸€èˆ¬â€çš„æƒ…å†µï¼Œé‚£å°±æ˜¯æŒ‡ä»¤ä¸èƒ½ä» PRF ä¸­å¾—åˆ°æ“ä½œæ•°ï¼Œ ä½†æ˜¯å´å¯ä»¥åœ¨é€åˆ° FU ä¸­æ‰§è¡Œä¹‹å‰ï¼Œä»æ—è·¯ç½‘ç»œ(bypassing network)ä¸­å¾—åˆ°æ“ä½œæ•°ï¼Œäº‹å®ä¸Šå¾ˆå¤§ä¸€éƒ¨åˆ†æŒ‡ä»¤éƒ½æ˜¯é€šè¿‡æ—è·¯ç½‘ç»œè·å¾—æ“ä½œæ•°çš„ï¼Œè¿™ä¹Ÿä¸ºå‡å°‘ PRF çš„è¯»ç«¯å£æä¾›äº†å¯èƒ½ã€‚ç”±äºè¶…æ ‡é‡å¤„ç†å™¨æ¯å‘¨æœŸéœ€è¦æ‰§è¡Œå¥½å‡ æ¡æŒ‡ä»¤ï¼ŒPRF æ‰€éœ€è¦çš„ç«¯å£ä¸ªæ•°ä¹Ÿæ˜¯æ¯”è¾ƒå¤šçš„ï¼Œå¤šç«¯å£å¯„å­˜å™¨å †çš„è®¿é—®é€Ÿåº¦ä¸€èˆ¬éƒ½ä¸ä¼šå¾ˆå¿«ï¼Œå› æ­¤åœ¨ç°å®ä¸–ç•Œçš„å¤„ç†å™¨ä¸­ï¼Œè¿™ä¸ªé˜¶æ®µéƒ½ä¼šå•ç‹¬ä½¿ç”¨ä¸€ä¸ªæµæ°´æ®µã€‚&lt;/p>
&lt;p>&lt;strong>æäº¤(Commit)é˜¶æ®µ&lt;/strong>ï¼šä¸ºäº†ä¿è¯ç¨‹åºçš„ä¸²è¡Œç»“æœï¼ŒæŒ‡ä»¤éœ€è¦æŒ‰ç…§ç¨‹åºä¸­è§„å®šçš„é¡ºåºæ›´æ–°å¤„ç†å™¨çš„çŠ¶æ€ï¼Œè¿™éœ€è¦ä½¿ç”¨ä¸€ä¸ªç§°ä¸º&lt;strong>é‡æ’åºç¼“å­˜(ROB)&lt;strong>çš„éƒ¨ä»¶æ¥é…åˆï¼Œæµæ°´çº¿ä¸­çš„æ‰€æœ‰æŒ‡ä»¤éƒ½æŒ‰ç…§ç¨‹åºä¸­è§„å®šçš„é¡ºåºå­˜å‚¨åœ¨é‡æ’åºç¼“å­˜ä¸­ï¼Œä½¿ç”¨é‡æ’åºç¼“å­˜æ¥å®ç°ç¨‹åºå¯¹å¤„ç†å™¨çŠ¶æ€çš„é¡ºåºæ›´æ–°ï¼Œä¸€æ¡æŒ‡ä»¤åœ¨è¿™ä¸ªé˜¶æ®µï¼Œä¼šå°†å®ƒçš„ç»“æœä» PRF æ¬ç§»åˆ° ARF ä¸­ï¼ŒåŒæ—¶&lt;/strong>é‡æ’åºç¼“å­˜ä¹Ÿä¼šé…åˆå®Œæˆå¯¹å¼‚å¸¸(exception)çš„å¤„ç†&lt;/strong>ï¼Œå¦‚æœä¸å­˜åœ¨å¼‚å¸¸ï¼Œé‚£ä¹ˆè¿™æ¡æŒ‡ä»¤å°±å¯ä»¥é¡ºåˆ©åœ°ç¦»å¼€æµæ°´çº¿ï¼Œ å¹¶å¯¹å¤„ç†å™¨çš„çŠ¶æ€è¿›è¡Œæ›´æ”¹ï¼Œæ­¤æ—¶ç§°è¿™æ¡&lt;strong>æŒ‡ä»¤é€€ä¼‘(retire)äº†&lt;/strong>ï¼Œä¸€æ¡æŒ‡ä»¤ä¸€æ—¦é€€ä¼‘ï¼Œå®ƒå°±å†ä¹Ÿä¸å¯èƒ½å›åˆ°ä¹‹å‰çš„çŠ¶æ€äº†ã€‚&lt;/p>
&lt;p>å› ä¸º store æŒ‡ä»¤éœ€è¦å†™å­˜å‚¨å™¨ï¼Œå¦‚æœåœ¨æµæ°´çº¿çš„å†™å›é˜¶æ®µå°±å°† store æŒ‡ä»¤çš„ç»“æœå†™åˆ°å­˜å‚¨å™¨ä¸­ï¼Œé‚£ä¹ˆä¸€æ—¦ç”±äºåˆ†æ”¯é¢„æµ‹å¤±è´¥æˆ–è€…å¼‚å¸¸ç­‰åŸå› ï¼Œéœ€è¦å°†è¿™æ¡ store æŒ‡ä»¤ä»æµæ°´çº¿ä¸­æŠ¹æ‰æ—¶ï¼Œå°±æ²¡æœ‰åŠæ³•å°†å­˜å‚¨å™¨çš„çŠ¶æ€è¿›è¡Œæ¢å¤äº†ï¼Œå› ä¸ºå­˜å‚¨å™¨ä¸­åŸæ¥çš„å€¼å·²ç»è¢«è¦†ç›–ï¼Œ &lt;strong>Store Buffer(SB),æ¥å­˜å‚¨ store æŒ‡ä»¤æ²¡æœ‰é€€ä¼‘ä¹‹å‰çš„ç»“æœ&lt;/strong>ï¼Œs&lt;strong>tore æŒ‡ä»¤åœ¨æµæ°´çº¿çš„å†™å›é˜¶æ®µï¼Œä¼šå°†å®ƒçš„ç»“æœå†™åˆ° Store Buffer ä¸­ï¼Œåªæœ‰ä¸€æ¡ store æŒ‡ä»¤çœŸçš„ä»æµæ°´çº¿ä¸­é€€ä¼‘çš„æ—¶å€™ï¼Œæ‰å¯ä»¥å°†å®ƒçš„å€¼ä» Store Buffer å†™åˆ°å­˜å‚¨å™¨ä¸­&lt;/strong>ã€‚ä½¿ç”¨äº†è¿™ä¸ªéƒ¨ä»¶ä¹‹åï¼ŒLoad æŒ‡ä»¤æ­¤æ—¶é™¤äº†ä» D-Cache ä¸­å¯»æ‰¾æ•°æ®ï¼Œè¿˜éœ€è¦ä» Store Buffer ä¸­è¿›è¡ŒæŸ¥æ‰¾ï¼Œè¿™æ ·åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¢åŠ äº†è®¾è®¡çš„å¤æ‚åº¦ã€‚&lt;/p>
&lt;p>åœ¨é‡æ’åºè¿™é‡Œä¹Ÿä¼šå¤„ç†å¼‚å¸¸ ï¼Œ å¦‚æœæ²¡æœ‰å¼‚å¸¸å°±ä¼šå†™å…¥ARF, å¹¶æˆåŠŸé€€ä¼‘ï¼Œä½†æ˜¯æ— è®ºæœ‰æ²¡æœ‰å¼‚å¸¸éƒ½ä¼šå†™å…¥SBã€‚é€€ä¼‘äº†æ‰å¯ä»¥å»ä¿®æ”¹ç›¸åº”çŠ¶æ€ã€‚&lt;/p>
&lt;p>å‘å°„é˜¶æ®µé€‰æ‹©ç›¸åº”çš„æŒ‡ä»¤å¹¶ä¸”é€åˆ°FU,è¢«é€‰æ‹©çš„æŒ‡ä»¤æ‰ä¼šå»è¯»å–ç‰©ç†å¯„å­˜å™¨&lt;/p>
&lt;p>å†™å›é˜¶æ®µè¿›è¡Œç»Ÿä¸€æ—è·¯ï¼Œä¸ºä»€ä¹ˆæˆ‘å†™çš„RISCVæœ‰è¿™ä¹ˆå¤šçš„æ—è·¯ç½‘ç»œ ?&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 267;
flex-basis: 643px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241015131538323.png" data-size="946x353">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241015131538323.png"
width="946"
height="353"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241015131538323_hu5637503064892761083.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241015131538323_hu14369550668972739287.png 1024w"
loading="lazy"
alt="image-20241015131538323">
&lt;/a>
&lt;figcaption>image-20241015131538323&lt;/figcaption>
&lt;/figure>
&lt;figure
class="gallery-image"
style="
flex-grow: 289;
flex-basis: 695px"
>
&lt;a href="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795.png" data-size="1002x346">
&lt;img src="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795.png"
width="1002"
height="346"
srcset="https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795_hu1110554545418232987.png 480w, https://VastCircle.github.io/2024/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B01/image-20241014212008795_hu2239682821483300699.png 1024w"
loading="lazy"
alt="image-20241014212008795">
&lt;/a>
&lt;figcaption>image-20241014212008795&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>è¶…æ ‡é‡å¤„ç†å™¨è®¾è®¡&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„&lt;/p></description></item><item><title>ä¹±åºæ‰§è¡ŒCPU</title><link>https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/</link><pubDate>Sat, 12 Oct 2024 16:08:08 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/</guid><description>&lt;h2 id="tomasulos-algorithm">Tomasulo&amp;rsquo;s algorithm&lt;/h2>
&lt;h3 id="tomasulos-algorithmåˆ›æ–°">Tomasuloâ€˜s algorithmåˆ›æ–°&lt;/h3>
&lt;p>Tomasuloç®—æ³•çš„ä¸»è¦åˆ›æ–°åŒ…æ‹¬ç¡¬ä»¶å®ç°çš„å¯„å­˜å™¨é‡å‘½åã€ä¸ºæ‰€æœ‰æ‰§è¡Œå•å…ƒè®¾è®¡çš„ä¿ç•™ç«™ï¼ˆreservation stationsï¼‰ï¼Œä»¥åŠä¸€ä¸ªå…¬å…±æ•°æ®æ€»çº¿ï¼ˆCDBï¼‰ï¼Œé€šè¿‡è¯¥æ€»çº¿è®¡ç®—å‡ºçš„å€¼å¯ä»¥å¹¿æ’­åˆ°æ‰€æœ‰å¯èƒ½éœ€è¦å®ƒä»¬çš„ä¿ç•™ç«™ã€‚è¿™äº›åˆ›æ–°ä½¿å¾—æŒ‡ä»¤èƒ½å¤Ÿå®ç°æ›´å¥½çš„å¹¶è¡Œæ‰§è¡Œï¼Œé¿å…åœ¨ä½¿ç”¨è®°åˆ†æ¿æˆ–å…¶ä»–æ—©æœŸç®—æ³•æ—¶å¯èƒ½å¯¼è‡´çš„åœæ».&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 155;
flex-basis: 373px"
>
&lt;a href="https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/1280px-Tomasulo_Architecture.png" data-size="1280x822">
&lt;img src="https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/1280px-Tomasulo_Architecture.png"
width="1280"
height="822"
srcset="https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/1280px-Tomasulo_Architecture_hu16291643218958583948.png 480w, https://VastCircle.github.io/2024/%E4%B9%B1%E5%BA%8F%E6%89%A7%E8%A1%8Ccpu/1280px-Tomasulo_Architecture_hu13189868510601512322.png 1024w"
loading="lazy"
alt="Tomasulo_Architechure">
&lt;/a>
&lt;figcaption>Tomasulo_Architechure&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="cdbæ€»çº¿">CDBæ€»çº¿&lt;/h3>
&lt;p>å…¬å…±æ•°æ®æ€»çº¿ï¼ˆCDBï¼‰å°†ä¿ç•™ç«™ç›´æ¥è¿æ¥åˆ°åŠŸèƒ½å•å…ƒã€‚æ ¹æ®Tomasuloçš„è®¾è®¡ï¼Œå®ƒâ€œåœ¨ä¿æŒä¼˜å…ˆé¡ºåºçš„åŒæ—¶ä¿ƒè¿›å¹¶å‘æ‰§è¡Œâ€â€Šã€‚è¿™å¸¦æ¥äº†ä¸¤ä¸ªé‡è¦å½±å“ï¼š&lt;/p>
&lt;ol>
&lt;li>åŠŸèƒ½å•å…ƒå¯ä»¥ç›´æ¥è®¿é—®ä»»ä½•æ“ä½œçš„ç»“æœï¼Œè€Œæ— éœ€é€šè¿‡æµ®ç‚¹å¯„å­˜å™¨ã€‚è¿™ä½¿å¾—å¤šä¸ªç­‰å¾…åŒä¸€ç»“æœçš„å•å…ƒå¯ä»¥ç»§ç»­æ‰§è¡Œï¼Œè€Œä¸å¿…ç­‰å¾…è§£å†³å¯¹å¯„å­˜å™¨æ–‡ä»¶è¯»ç«¯å£çš„äº‰ç”¨é—®é¢˜ã€‚&lt;/li>
&lt;li>å±é™©æ£€æµ‹å’Œæ§åˆ¶æ‰§è¡Œæ˜¯åˆ†å¸ƒå¼çš„ã€‚ä¿ç•™ç«™è´Ÿè´£æ§åˆ¶æŒ‡ä»¤ä½•æ—¶å¯ä»¥æ‰§è¡Œï¼Œè€Œä¸æ˜¯ä¾èµ–ä¸€ä¸ªä¸“é—¨çš„å±é™©å•å…ƒæ¥è¿›è¡Œç»Ÿä¸€ç®¡ç†ã€‚&lt;/li>
&lt;/ol>
&lt;h3 id="æŒ‡ä»¤é¡ºåº">æŒ‡ä»¤é¡ºåº&lt;/h3>
&lt;p>æŒ‡ä»¤æ˜¯æŒ‰é¡ºåºå‘å‡ºçš„ï¼Œå› æ­¤å³ä½¿å®ƒä»¬æ˜¯ä¹±åºæ‰§è¡Œçš„ï¼ˆå³éé¡ºåºæ‰§è¡Œï¼‰ï¼ŒæŒ‡ä»¤åºåˆ—çš„æ•ˆæœï¼ˆå¦‚æŒ‡ä»¤å¼•å‘çš„å¼‚å¸¸ï¼‰ä»ç„¶ä¼šæŒ‰ç…§é¡ºåºæ‰§è¡Œå¤„ç†å™¨ä¸­çš„é¡ºåºå‘ç”Ÿã€‚è¿™ç¡®ä¿äº†ä¹±åºæ‰§è¡Œä¸ä¼šå½±å“ç¨‹åºçš„æ­£ç¡®æ€§å’Œé¢„æœŸè¡Œä¸º&lt;/p>
&lt;h4 id="å¯„å­˜å™¨é‡å‘½å">å¯„å­˜å™¨é‡å‘½å&lt;/h4>
&lt;p>Tomasuloç®—æ³•é€šè¿‡å¯„å­˜å™¨é‡å‘½åæ¥å®ç°æ­£ç¡®çš„ä¹±åºæ‰§è¡Œã€‚æ‰€æœ‰çš„é€šç”¨å¯„å­˜å™¨å’Œä¿ç•™ç«™å¯„å­˜å™¨è¦ä¹ˆä¿å­˜çœŸå®å€¼ï¼Œè¦ä¹ˆä¿å­˜å ä½ç¬¦å€¼ã€‚å¦‚æœåœ¨å‘å°„é˜¶æ®µæŸä¸ªç›®æ ‡å¯„å­˜å™¨çš„çœŸå®å€¼ä¸å¯ç”¨ï¼Œåˆ™æœ€åˆä¼šä½¿ç”¨å ä½ç¬¦å€¼ã€‚å ä½ç¬¦å€¼æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ŒæŒ‡ç¤ºå“ªä¸ªä¿ç•™ç«™å°†ç”ŸæˆçœŸå®å€¼ã€‚å½“åŠŸèƒ½å•å…ƒå®Œæˆè®¡ç®—å¹¶åœ¨å…¬å…±æ•°æ®æ€»çº¿ï¼ˆCDBï¼‰ä¸Šå¹¿æ’­ç»“æœæ—¶ï¼Œå ä½ç¬¦å°†è¢«çœŸå®å€¼æ›¿æ¢ã€‚&lt;/p>
&lt;p>æ¯ä¸ªåŠŸèƒ½å•å…ƒéƒ½æœ‰ä¸€ä¸ªä¿ç•™ç«™ã€‚ä¿ç•™ç«™ä¿å­˜æ‰§è¡Œå•æ¡æŒ‡ä»¤æ‰€éœ€çš„ä¿¡æ¯ï¼ŒåŒ…æ‹¬æ“ä½œå’Œæ“ä½œæ•°ã€‚å½“åŠŸèƒ½å•å…ƒç©ºé—²ä¸”æŒ‡ä»¤æ‰€éœ€çš„æ‰€æœ‰æºæ“ä½œæ•°å‡ä¸ºçœŸå®å€¼æ—¶ï¼ŒåŠŸèƒ½å•å…ƒä¾¿å¼€å§‹å¤„ç†æŒ‡ä»¤ã€‚&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>&lt;a class="link" href="https://jia.je/hardware/2021/09/14/brief-into-ooo/#%E7%BB%8F%E5%85%B8-tomasulo" target="_blank" rel="noopener"
>ä¹±åºæ‰§è¡ŒCPU&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://en.wikipedia.org/wiki/Tomasulo%27s_algorithm" target="_blank" rel="noopener"
>wikipedia Tomasulo&lt;/a>&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>Runahead_Execution_An_Alternative_to_Very_Large_Instruction_Windows_for_Out of Order_Processors</title><link>https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/</link><pubDate>Thu, 10 Oct 2024 14:23:54 +0800</pubDate><guid>https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/</guid><description>&lt;h2 id="abstract">Abstract&lt;/h2>
&lt;p>å½“ä»Šçš„é«˜æ€§èƒ½å¤„ç†å™¨é€šè¿‡ä¹±åºæ‰§è¡Œæ¥å®¹å¿é•¿å»¶è¿Ÿæ“ä½œã€‚ç„¶è€Œï¼Œéšç€å»¶è¿Ÿçš„å¢åŠ ï¼Œå¦‚æœæˆ‘ä»¬è¦ç»§ç»­å®¹å¿è¿™äº›å»¶è¿Ÿï¼ŒæŒ‡ä»¤çª—å£çš„å¤§å°å¿…é¡»å¢åŠ å¾—æ›´å¿«ã€‚æœ¬æ–‡æå‡ºå…ˆè¡Œ(runahead)æ‰§è¡Œæ˜¯æé«˜ä¹±åºå¤„ç†å™¨å†…å­˜å»¶è¿Ÿå®¹å¿åº¦(memory latency tolerance)çš„æœ‰æ•ˆæ–¹æ³•ï¼Œè€Œä¸éœ€è¦ä¸åˆç†çš„å¤§æŒ‡ä»¤çª—å£ã€‚è¶…å‰æ‰§è¡Œå¯è§£é™¤å› é•¿å»¶è¿Ÿæ“ä½œè€Œé˜»å¡çš„æŒ‡ä»¤çª—å£çš„é˜»å¡ï¼Œä»è€Œä½¿å¤„ç†å™¨èƒ½å¤Ÿåœ¨ç¨‹åºè·¯å¾„ä¸­æå‰æ‰§è¡Œ,è¿™ä¼šå¯¼è‡´æ•°æ®åœ¨éœ€è¦ä¹‹å‰å°±è¢«é¢„å–åˆ°ç¼“å­˜ä¸­ã€‚&lt;/p>
&lt;h2 id="introduction">introduction&lt;/h2>
&lt;p>ä¹±åºæ‰§è¡Œå¤„ç†å™¨ä¸Šçš„è¶…å‰æ‰§è¡Œä¸ä¼šå°†é•¿å»¶è¿Ÿæ“ä½œâ€œç§»å¼€â€ï¼ˆè¿™éœ€è¦åœ¨æŒ‡ä»¤çª—å£ä¸­ç¼“å†²å®ƒåŠå…¶åé¢çš„æŒ‡ä»¤ï¼‰ï¼Œè€Œæ˜¯å°†å…¶æ‰”å‡ºæŒ‡ä»¤çª—å£ã€‚&lt;/p>
&lt;p>å½“æŒ‡ä»¤çª—å£è¢«ä¸€ä¸ªé•¿å»¶è¿Ÿæ“ä½œé˜»å¡æ—¶ï¼Œæ¶æ„å¯„å­˜å™¨æ–‡ä»¶(architectural register file)çš„çŠ¶æ€ä¼šè¢«checkpointä¿å­˜ã€‚ç„¶åå¤„ç†å™¨è¿›å…¥â€œ&lt;strong>è¶…å‰è¿è¡Œæ¨¡å¼&lt;/strong>â€ã€‚å®ƒä¸ºé˜»å¡æ“ä½œåˆ†é…ä¸€ä¸ªè™šå‡ç»“æœå¹¶å°†å…¶æ‰”å‡ºæŒ‡ä»¤çª—å£ã€‚é˜»å¡æ“ä½œåçš„æŒ‡ä»¤è¢«**è·å–ã€æ‰§è¡Œï¼Œå¹¶ä»¥ä¼ªé€€ä¼‘ï¼ˆpseudo-retiredï¼‰**çš„æ–¹å¼ä»æŒ‡ä»¤çª—å£ä¸­ç§»é™¤ã€‚å½“é˜»å¡æ“ä½œå®Œæˆæ—¶ï¼Œå¤„ç†å™¨é‡æ–°è¿›å…¥â€œ&lt;strong>æ­£å¸¸æ¨¡å¼&lt;/strong>â€ã€‚æ­¤æ—¶ï¼Œå®ƒä¼šæ¢å¤ä¹‹å‰ä¿å­˜çš„æ£€æŸ¥ç‚¹çŠ¶æ€ï¼Œå¹¶ä»é˜»å¡æ“ä½œå¼€å§‹é‡æ–°è·å–å’Œæ‰§è¡ŒæŒ‡ä»¤ã€‚
ä¼ªé€€å‡º(pseudo-retire):æŒ‡ä»¤æŒ‰ç…§ä¼ ç»Ÿæ„ä¹‰ä¸Šçš„æ–¹å¼æ‰§è¡Œå’Œå®Œæˆï¼Œåªæ˜¯å®ƒä»¬ä¸æ›´æ–°æ¶æ„çŠ¶æ€ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 150;
flex-basis: 361px"
>
&lt;a href="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241012153516456.png" data-size="1193x793">
&lt;img src="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241012153516456.png"
width="1193"
height="793"
srcset="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241012153516456_hu10562838702254261104.png 480w, https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241012153516456_hu2604305733844358238.png 1024w"
loading="lazy"
alt="image-20241012153516456">
&lt;/a>
&lt;figcaption>image-20241012153516456&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Runahead çš„å¥½å¤„æ¥è‡ªäºå°†è¢«é•¿å»¶è¿Ÿæ“ä½œé˜»å¡çš„å°æŒ‡ä»¤çª—å£è½¬æ¢ä¸ºéé˜»å¡çª—å£ï¼Œä»è€Œä½¿å…¶å…·æœ‰å¤§å¾—å¤šçš„çª—å£çš„æ€§èƒ½ã€‚&lt;/p>
&lt;p>åœ¨è¿™ç¯‡è®ºæ–‡ä¸­ï¼Œä»…è¯„ä¼°äº†runahead modeå¯¹äºåœ¨äºŒçº§ç¼“å­˜å¤±æ•ˆçš„å†…å­˜æ“ä½œçš„è¡¨ç°ï¼Œå°½ç®¡å®ƒä¹Ÿå¯ä»¥åœ¨ä»»ä½•é˜»å¡æŒ‡ä»¤çª—å£çš„é•¿å»¶è¿Ÿæ“ä½œä¸Šå¯åŠ¨ã€‚åŸºäºè‹±ç‰¹å°”å¥”è…¾4å¤„ç†å™¨çš„æœºå™¨æ¨¡å‹ï¼Œè¯¥å¤„ç†å™¨æ‹¥æœ‰&lt;strong>128ä¸ªæ¡ç›®çš„æŒ‡ä»¤çª—å£&lt;/strong>ã€‚
é¦–å…ˆå±•ç¤ºäº†å½“å‰çš„ä¹±åºæ‰§è¡Œå¼•æ“æ— æ³•å®¹å¿é•¿å»¶è¿Ÿçš„ä¸»å­˜è®¿é—®æ—¶é—´ã€‚æ¥ä¸‹æ¥ï¼Œå±•ç¤ºäº†runahead modeå¦‚ä½•æ›´å¥½åœ°åº”å¯¹è¿™äº›å»¶è¿Ÿï¼Œå¹¶ä¸”èƒ½å¤Ÿè¾¾åˆ°ä¸€ä¸ªå…·æœ‰æ›´å¤§æŒ‡ä»¤çª—å£çš„æœºå™¨çš„æ€§èƒ½ã€‚&lt;/p>
&lt;h2 id="relate-work">Relate work&lt;/h2>
&lt;p>æš‚æ— &lt;/p>
&lt;h2 id="out-of-order-execution-and-memory-latency-toleranceä¹±åºæ‰§è¡Œå’Œå†…å­˜å®¹å¿åº¦">Out-of-order execution and memory latency tolerance(ä¹±åºæ‰§è¡Œå’Œå†…å­˜å®¹å¿åº¦)&lt;/h2>
&lt;h3 id="instruction-and-scheduling-windows">Instruction and scheduling windows&lt;/h3>
&lt;p>ä¹±åºæ‰§è¡Œæ¯”é¡ºåºæ‰§è¡Œæ›´èƒ½å®¹å¿ç¼“å­˜ç¼ºå¤±ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿè°ƒåº¦ä¸ç¼“å­˜ç¼ºå¤±æ— å…³çš„æ“ä½œã€‚ä¹±åºæ‰§è¡Œçš„æœºå™¨é€šè¿‡ä¸¤ä¸ªçª—å£å®ç°è¿™ä¸€ç‚¹ï¼š&lt;strong>æŒ‡ä»¤çª—å£å’Œè°ƒåº¦çª—å£ã€‚&lt;/strong>
æŒ‡ä»¤çª—å£ä¿å­˜æ‰€æœ‰å·²è§£ç ä½†å°šæœªæäº¤åˆ°æ¶æ„çŠ¶æ€çš„æŒ‡ä»¤(ROB)ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯ä¿è¯æŒ‡ä»¤æŒ‰é¡ºåºé€€ä¼‘ï¼Œä»¥æ”¯æŒç²¾ç¡®å¼‚å¸¸ã€‚
è°ƒåº¦çª—å£åŒ…å«æŒ‡ä»¤çª—å£ä¸­çš„ä¸€éƒ¨åˆ†æŒ‡ä»¤ï¼Œå…¶ä¸»è¦ç›®çš„æ˜¯æ¯ä¸ªå‘¨æœŸæœç´¢é‚£äº›å‡†å¤‡å¥½æ‰§è¡Œçš„æŒ‡ä»¤ï¼Œå¹¶å¯¹å®ƒä»¬è¿›è¡Œè°ƒåº¦æ‰§è¡Œ(ç±»ä¼¼äºå‘å°„é˜Ÿåˆ—)ã€‚&lt;/p>
&lt;p>å½“ä¸€ä¸ªé•¿å»¶è¿Ÿæ“ä½œå‘ç”Ÿæ—¶ï¼Œå®ƒä¼šé˜»å¡æŒ‡ä»¤çª—å£ï¼Œç›´åˆ°æ“ä½œå®Œæˆã€‚å°½ç®¡åç»­çš„æŒ‡ä»¤å¯èƒ½å·²ç»æ‰§è¡Œå®Œæˆï¼Œä½†å®ƒä»¬æ— æ³•ä»æŒ‡ä»¤çª—å£ä¸­é€€ä¼‘(é¡ºåº)ã€‚å¦‚æœæ“ä½œçš„å»¶è¿Ÿæ—¶é—´è¶³å¤Ÿé•¿ï¼Œå¹¶ä¸”æŒ‡ä»¤çª—å£ä¸å¤Ÿå¤§ï¼ŒæŒ‡ä»¤ä¼šåœ¨çª—å£ä¸­å †ç§¯ï¼Œæœ€ç»ˆå¯¼è‡´æŒ‡ä»¤çª—å£è¢«å¡«æ»¡ã€‚æ­¤æ—¶ï¼Œæœºå™¨ä¼šåœé¡¿å¹¶åœæ­¢å‘å‰æ‰§è¡Œã€‚&lt;/p>
&lt;h3 id="memory-latency-tolerance">Memory latency tolerance&lt;/h3>
&lt;p>å–æŒ‡ç†æƒ³ å˜ è°ƒåº¦çª—å£ L2ç†æƒ³ç¨‹åº¦ æŒ‡ä»¤çª—å£&lt;/p>
&lt;p>å›¾ 1 æ˜¾ç¤ºäº†ä¸ƒå°ä¸åŒæœºå™¨çš„æŒ‡ä»¤çª—å£åœæ»çš„å‘¨æœŸç™¾åˆ†æ¯”ã€‚æ¯ä¸ªæ é¡¶éƒ¨çš„æ•°å­—æ˜¯æœºå™¨çš„IPCã€‚è¯¥æ•°æ®æ˜¯æ‰€æœ‰æ¨¡æ‹ŸåŸºå‡†çš„å¹³å‡å€¼ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 137;
flex-basis: 330px"
>
&lt;a href="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010154101124.png" data-size="407x296">
&lt;img src="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010154101124.png"
width="407"
height="296"
srcset="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010154101124_hu10965257689849940883.png 480w, https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010154101124_hu1293429106633126320.png 1024w"
loading="lazy"
alt="å…·æœ‰å®Œæ•´æŒ‡ä»¤çª—å£åœé¡¿çš„å‘¨æœŸçš„ç™¾åˆ†æ¯”">
&lt;/a>
&lt;figcaption>å…·æœ‰å®Œæ•´æŒ‡ä»¤çª—å£åœé¡¿çš„å‘¨æœŸçš„ç™¾åˆ†æ¯”&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>Runahead çš„æ€§èƒ½ä¼˜åŠ¿æ¥è‡ªäºå°†æŒ‡ä»¤æå–åˆ°æå–å¼•æ“çš„ç¼“å­˜ä¸­ï¼Œå¹¶æ‰§è¡Œæœªå‘½ä¸­ä¸€çº§æˆ–äºŒçº§ç¼“å­˜çš„ç‹¬ç«‹åŠ è½½å’Œå­˜å‚¨ã€‚&lt;/p>
&lt;h2 id="implementation-of-runahead-execution-in-an-out-of-order-processor">Implementation of runahead execution in an out-of-order processor&lt;/h2>
&lt;p>åœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘ä»¬æè¿°äº†åœ¨ä¹±åºå¤„ç†å™¨ä¸Šå®ç°è¶…å‰æ‰§è¡Œçš„æƒ…å†µï¼Œå…¶ä¸­&lt;strong>æŒ‡ä»¤åœ¨è¢«è°ƒåº¦åå¹¶åœ¨æ‰§è¡Œä¹‹å‰è®¿é—®å¯„å­˜å™¨æ–‡ä»¶&lt;/strong>ã€‚Intel Pentium 4 å¤„ç†å™¨ [13]ã€MIPS R10000 å¾®å¤„ç†å™¨ [30] å’Œ Compaq Alpha 21264 å¤„ç†å™¨ [18] æ˜¯è¿™ç§å¾®æ¶æ„çš„ä¾‹å­ã€‚åœ¨å…¶ä»–ä¸€äº›å¾®æ¶æ„ä¸­ï¼Œä¾‹å¦‚ Intel Pentium Pro å¤„ç†å™¨ [12]ï¼Œ&lt;strong>æŒ‡ä»¤åœ¨æ”¾å…¥è°ƒåº¦å™¨ä¹‹å‰è®¿é—®å¯„å­˜å™¨æ–‡ä»¶&lt;/strong>ã€‚&lt;/p>
&lt;p>Frontend RAT(Register Alias Table)ç”¨äºå¯„å­˜å™¨é‡å‘½åï¼Œå¹¶åŒ…å«æ¶æ„å¯„å­˜å™¨åˆ°ç‰©ç†å¯„å­˜å™¨çš„æ¨æµ‹æ˜ å°„ã€‚&lt;/p>
&lt;p>Retirement RAT åŒ…å«æŒ‡å‘åŒ…å«å·²æäº¤æ¶æ„å€¼çš„ç‰©ç†å¯„å­˜å™¨çš„æŒ‡é’ˆã€‚å®ƒç”¨äºåœ¨åˆ†æ”¯é”™è¯¯é¢„æµ‹å’Œå¼‚å¸¸ä¹‹åæ¢å¤çŠ¶æ€ã€‚&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 140;
flex-basis: 338px"
>
&lt;a href="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010195821755.png" data-size="984x698">
&lt;img src="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010195821755.png"
width="984"
height="698"
srcset="https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010195821755_hu4585166472539683948.png 480w, https://VastCircle.github.io/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/image-20241010195821755_hu9334271057527929535.png 1024w"
loading="lazy"
alt="image-20241010195821755">
&lt;/a>
&lt;figcaption>image-20241010195821755&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;h3 id="entering-runahead-mode">Entering runahead mode&lt;/h3>
&lt;p>**å½“å†…å­˜æ“ä½œåœ¨äºŒçº§ç¼“å­˜ä¸­æœªå‘½ä¸­ä¸”è¯¥å†…å­˜æ“ä½œåˆ°è¾¾æŒ‡ä»¤çª—å£çš„å¤´éƒ¨æ—¶ï¼Œå¤„ç†å™¨è¿›å…¥è¶…å‰æ‰§è¡Œæ¨¡å¼ã€‚**å¯¼è‡´è¿›å…¥è¶…å‰æ‰§è¡Œæ¨¡å¼çš„æŒ‡ä»¤åœ°å€ä¼šè¢«è®°å½•ã€‚ä¸ºäº†åœ¨ä»è¶…å‰è¿è¡Œæ¨¡å¼é€€å‡ºæ—¶æ­£ç¡®æ¢å¤æ¶æ„çŠ¶æ€ï¼Œå¤„ç†å™¨å¯¹æ¶æ„å¯„å­˜å™¨æ–‡ä»¶çš„çŠ¶æ€è¿›è¡Œcheckpointã€‚å‡ºäºæ€§èƒ½åŸå› ï¼Œå¤„ç†å™¨è¿˜æ£€æŸ¥åˆ†æ”¯å†å²å¯„å­˜å™¨å’Œè¿”å›åœ°å€å †æ ˆçš„çŠ¶æ€ã€‚&lt;/p>
&lt;p>æ¶æ„å¯„å­˜å™¨æ–‡ä»¶çš„checkpointå¯ä»¥é€šè¿‡å¤åˆ¶æäº¤å¯„å­˜å™¨åˆ«åè¡¨ï¼ˆRetirement RATï¼‰æŒ‡å‘çš„ç‰©ç†å¯„å­˜å™¨å†…å®¹æ¥å®Œæˆï¼Œä½†è¿™å¯èƒ½éœ€è¦æ—¶é—´ã€‚&lt;strong>ä¸ºäº†é¿å…å› å¤åˆ¶å¯¼è‡´çš„æ€§èƒ½æŸå¤±ï¼Œå¤„ç†å™¨å¯ä»¥åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ä¸æ–­æ›´æ–°checkpointçš„æ¶æ„å¯„å­˜å™¨æ–‡ä»¶&lt;/strong>ã€‚å½“éè¶…å‰æŒ‡ä»¤ä»æŒ‡ä»¤çª—å£ä¸­æäº¤æ—¶ï¼Œå®ƒä¼šå°†å…¶ç»“æœæ›´æ–°åˆ°æ£€æŸ¥ç‚¹å¯„å­˜å™¨æ–‡ä»¶ä¸­çš„æ¶æ„ç›®æ ‡å¯„å­˜å™¨ã€‚è¿™æ ·æ£€æŸ¥ç‚¹æ“ä½œä¸ä¼šæµªè´¹ä»»ä½•æ—¶é’Ÿå‘¨æœŸã€‚&lt;/p>
&lt;p>å°½ç®¡Retirement RAT åœ¨æ­£å¸¸æ¨¡å¼ä¸‹æŒ‡å‘æ¶æ„å¯„å­˜å™¨çŠ¶æ€ï¼Œä½†åœ¨è¶…å‰è¿è¡Œæ¨¡å¼ä¸‹å®ƒæŒ‡å‘ä¼ªæ¶æ„å¯„å­˜å™¨çŠ¶æ€å¹¶åæ˜ ä¼ªé€€ä¼‘æŒ‡ä»¤æ›´æ–°çš„çŠ¶æ€&lt;/p>
&lt;h3 id="execution-in-runahead-mode">Execution in runahead mode&lt;/h3>
&lt;p>&lt;strong>æ— æ•ˆä½å’ŒæŒ‡ä»¤&lt;/strong>:æ¯ä¸ªç‰©ç†å¯„å­˜å™¨éƒ½æœ‰ä¸€ä¸ªä¸å…¶å…³è”çš„æ— æ•ˆï¼ˆINVï¼‰ä½ï¼Œ&lt;strong>ä»¥æŒ‡ç¤ºå®ƒæ˜¯å¦å…·æœ‰è™šå‡å€¼&lt;/strong>ã€‚ä»»ä½•æºè‡ªè®¾ç½®äº†æ— æ•ˆä½çš„å¯„å­˜å™¨çš„æŒ‡ä»¤éƒ½æ˜¯æ— æ•ˆæŒ‡ä»¤ã€‚ INV ä½ç”¨äºé˜²æ­¢ä½¿ç”¨è™šå‡æ•°æ®è¿›è¡Œè™šå‡é¢„å–å’Œåˆ†æ”¯è§£æã€‚
å¦‚æœå­˜å‚¨æŒ‡ä»¤æ˜¯æ— æ•ˆçš„ï¼Œå®ƒä¼šåœ¨runaheadæœŸé—´å°†ä¸€ä¸ª INV å€¼å¼•å…¥å†…å­˜æ˜ åƒã€‚ä¸ºäº†å¤„ç†runahead modeä¸‹æ•°æ®å€¼(å’Œ INV å€¼)é€šè¿‡å†…å­˜çš„é€šä¿¡ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå°çš„â€œrunahead cacheâ€ï¼Œå®ƒä¸ä¸€çº§æ•°æ®ç¼“å­˜å¹¶è¡Œè®¿é—®ã€‚&lt;/p>
&lt;p>&lt;strong>INV å€¼çš„ä¼ æ’­&lt;/strong>:å¼•å…¥ INV å€¼çš„ç¬¬ä¸€æ¡æŒ‡ä»¤æ˜¯å¯¼è‡´å¤„ç†å™¨è¿›å…¥runahead modeçš„æŒ‡ä»¤,å¦‚æœè¿™æ¡æŒ‡ä»¤æ˜¯åŠ è½½æŒ‡ä»¤ï¼Œå®ƒä¼šå°†å…¶ç‰©ç†ç›®çš„å¯„å­˜å™¨æ ‡è®°ä¸º INVã€‚å¦‚æœå®ƒæ˜¯å­˜å‚¨æŒ‡ä»¤ï¼Œåˆ™ä¼šåœ¨runahead cacheä¸­åˆ†é…ä¸€è¡Œï¼Œå¹¶å°†å…¶ç›®æ ‡å­—èŠ‚æ ‡è®°ä¸º INVã€‚&lt;/p>
&lt;p>ä»»ä½•æ— æ•ˆçš„æŒ‡ä»¤åœ¨è°ƒåº¦æˆ–æ‰§è¡Œåå†™å…¥å¯„å­˜å™¨æ—¶ï¼Œä¼šå°†è¯¥å¯„å­˜å™¨æ ‡è®°ä¸º INVã€‚ä»»ä½•æœ‰æ•ˆçš„æ“ä½œåœ¨å†™å…¥å¯„å­˜å™¨æ—¶ï¼Œä¼šé‡ç½®å…¶ç›®çš„å¯„å­˜å™¨çš„ INV ä½ã€‚&lt;/p>
&lt;p>å…¶å®æ„æ€å°±æ˜¯å› ä¸ºæ­¤æ—¶å­˜å‚¨æ˜¯æ²¡æœ‰å¾—åˆ°ç›¸åº”ç»“æœçš„,æ‰€ä»¥åç»­ä¸ç›®çš„å¯„å­˜å™¨ç›¸å…³çš„æŒ‡ä»¤éƒ½æ˜¯æ— æ•ˆçš„,ä»ç¬¬ä¸€æ¡æ— æ•ˆçš„æŒ‡ä»¤è¡å°„å¼€&lt;/p>
&lt;h4 id="runahead-store-operations-and-runahead-cache">Runahead store operations and runahead cache&lt;/h4>
&lt;p>å…ˆè¡Œå­˜å‚¨(store)æŒ‡ä»¤ä¸ä¼šå°†å…¶ç»“æœå†™å…¥ä»»ä½•åœ°æ–¹??ã€‚å› æ­¤ï¼Œä¾èµ–äºæœ‰æ•ˆå…ˆè¡Œå­˜å‚¨çš„å…ˆè¡ŒåŠ è½½è¢«è§†ä¸ºæ— æ•ˆæŒ‡ä»¤å¹¶è¢«ä¸¢å¼ƒã€‚ç”±äºå¯„å­˜å™¨æ•°é‡æœ‰é™ï¼Œå› æ­¤å°†&lt;strong>å…ˆè¡Œå­˜å‚¨(store)&lt;strong>çš„ç»“æœ&lt;/strong>è½¬å‘&lt;/strong>åˆ°&lt;strong>å…ˆè¡ŒåŠ è½½(load)&lt;strong>å¯¹äºé«˜æ€§èƒ½è‡³å…³é‡è¦ã€‚
å¦‚æœå­˜å‚¨åŠå…¶ç›¸å…³åŠ è½½éƒ½åœ¨æŒ‡ä»¤çª—å£ä¸­ï¼Œåˆ™æ­¤è½¬å‘æ˜¯é€šè¿‡å½“å‰ä¹±åºå¤„ç†å™¨ä¸­å·²å­˜åœ¨çš„&lt;/strong>store buffer&lt;/strong>æ¥å®Œæˆçš„(åº”è¯¥æ˜¯cacheé‚£è¾¹çš„buffer)ã€‚
å¦‚æœè¶…å‰è¿è¡ŒåŠ è½½ä¾èµ–äºå·²ç»pseudo-retiredçš„è¶…å‰è¿è¡Œå­˜å‚¨ï¼ˆè¿™æ„å‘³ç€è¯¥å­˜å‚¨ä¸å†ä½äºstore buffer???å‰é¢æ˜¯è¯´çš„runahead storeæ˜¯ä¸ä¼šå°†ç»“æœå†™å…¥ä»»ä½•åœ°æ–¹çš„ï¼‰ï¼Œåˆ™å®ƒåº”è¯¥ä»æŸä¸ªå…¶ä»–ä½ç½®è·å–å­˜å‚¨çš„ç»“æœã€‚1æ˜¯å†™å…¥data cache (æé«˜å¤æ‚åº¦,å¹¶ä¸”å¯èƒ½ä¼šå æ®å…¶ä»–æœ‰æ•ˆæŒ‡ä»¤çš„ä½ç½®),2æ˜¯å¼„ä¸€ä¸ªå¤§çš„fully-associative bufferã€‚&lt;/p>
&lt;p>ä½¿ç”¨ &lt;strong>runahead cache&lt;/strong> æ¥ä¿å­˜ä¼ªé€€ä¼‘å…ˆè¡Œå­˜å‚¨çš„ç»“æœå’Œ INV çŠ¶æ€ ï¼Œæä¾›æŒ‡ä»¤ä¹‹é—´çš„æ•°æ®å’ŒINVçŠ¶æ€çš„é€šä¿¡,è¢«é€å‡ºçš„ç¼“å­˜è¡Œä¸ä¼šå†™å…¥å…¶ä»–åœ°æ–¹ã€‚ä¸ºäº†æ”¯æŒå­˜å‚¨å’ŒåŠ è½½ä¹‹é—´ INV ä½çš„æ­£ç¡®é€šä¿¡ï¼Œstore buffä¸­çš„æ¯ä¸ªæ¡ç›®å’Œrunahead cache ä¸­çš„æ¯ä¸ªå­—èŠ‚éƒ½æœ‰ä¸€ä¸ªç›¸åº”çš„ INV ä½ã€‚&lt;strong>runahead cache çš„æ¯ä¸ªå­—èŠ‚è¿˜æœ‰å¦ä¸€ä¸ªä¸å…¶å…³è”çš„ä½ï¼ˆSTO ä½ï¼‰ï¼ŒæŒ‡ç¤ºå­˜å‚¨æ˜¯å¦å·²å†™å…¥è¯¥å­—èŠ‚&lt;/strong>ã€‚ä»…å½“è®¿é—®çš„å­—èŠ‚ç”±å­˜å‚¨å†™å…¥ï¼ˆè®¾ç½®äº† STO ä½ï¼‰å¹¶ä¸”è®¿é—®runahead cache æœ‰æ•ˆæ—¶ï¼Œå¯¹è¶…å‰è¿è¡Œé«˜é€Ÿç¼“å­˜çš„è®¿é—®æ‰ä¼šå¯¼è‡´å‘½ä¸­ã€‚&lt;/p>
&lt;p>æ›´æ–° INV å’Œ STOçš„è§„åˆ™:&lt;/p>
&lt;ol>
&lt;li>å½“æœ‰æ•ˆçš„å…ˆè¡Œå­˜å‚¨å®Œæˆæ‰§è¡Œæ—¶ï¼Œå®ƒå°†å…¶æ•°æ®å†™å…¥å…¶store buffer entryï¼ˆå°±åƒåœ¨æ™®é€šå¤„ç†å™¨ä¸­ä¸€æ ·ï¼‰å¹¶é‡ç½®è¯¥æ¡ç›®çš„å…³è” INV ä½ã€‚åŒæ—¶ï¼Œå®ƒæŸ¥è¯¢æ•°æ®ç¼“å­˜ï¼Œå¦‚æœæ•°æ®ç¼“å­˜æœªå‘½ä¸­ï¼Œåˆ™å‘å†…å­˜å±‚æ¬¡ç»“æ„å‘é€é¢„å–è¯·æ±‚ã€‚&lt;/li>
&lt;li>å½“ä¸€ä¸ªæ— æ•ˆçš„å…ˆè¡Œå­˜å‚¨è¢«scheduledæ—¶ï¼Œå®ƒä¼šsetå…¶ç›¸å…³store buffæ¡ç›®çš„ INV ä½ã€‚&lt;/li>
&lt;li>å½“ä¸€ä¸ªæœ‰æ•ˆçš„å…ˆè¡Œå­˜å‚¨ç¦»å¼€æŒ‡ä»¤çª—å£æ—¶ï¼Œå®ƒä¼šå°†å…¶ç»“æœå†™å…¥runahead cacheï¼Œå¹¶é‡ç½®å·²å†™å…¥å­—èŠ‚çš„ INV ä½ã€‚åŒæ—¶ï¼Œå®ƒè¿˜ä¼šè®¾ç½®å·²å†™å…¥å­—èŠ‚çš„ STO ä½ã€‚&lt;/li>
&lt;li>å½“ä¸€ä¸ªæ— æ•ˆçš„å…ˆè¡Œå­˜å‚¨ç¦»å¼€æŒ‡ä»¤çª—å£æ—¶ï¼Œå¦‚æœå…¶åœ°å€æœ‰æ•ˆï¼Œå®ƒä¼šè®¾ç½®å†™å…¥å­—èŠ‚çš„ INV ä½å’Œ STO ä½&lt;/li>
&lt;li>å…ˆè¡Œå­˜å‚¨ä»ä¸å°†ç»“æœå†™å…¥æ•°æ®ç¼“å­˜??????ã€‚&lt;/li>
&lt;/ol>
&lt;p>å½“å­˜å‚¨æ“ä½œçš„åœ°å€æ— æ•ˆæ—¶ï¼Œå­˜å‚¨æ“ä½œä¼šè¢«ç®€å•åœ°è§†ä¸ºä¸€ä¸ªç©ºæ“ä½œï¼ˆNOPï¼‰ã€‚ç”±äºåŠ è½½æ“ä½œæ— æ³•è¯†åˆ«ä¸è¿™äº›æ— æ•ˆå­˜å‚¨æ“ä½œçš„ä¾èµ–å…³ç³»ï¼Œå®ƒä»¬å¯èƒ½ä¼šé”™è¯¯åœ°ä»å†…å­˜ä¸­åŠ è½½ä¸€ä¸ªé™ˆæ—§çš„å€¼ã€‚è¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡ä½¿ç”¨&lt;strong>å†…å­˜ä¾èµ–é¢„æµ‹å™¨&lt;/strong>æ¥ç¼“è§£ï¼Œ**é¢„æµ‹å™¨å¯ä»¥è¯†åˆ«æ— æ•ˆåœ°å€å­˜å‚¨æ“ä½œä¸å…¶ä¾èµ–çš„åŠ è½½æ“ä½œä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚**ä¸€æ—¦ä¾èµ–å…³ç³»è¢«è¯†åˆ«ï¼Œå¦‚æœå­˜å‚¨æ“ä½œçš„æ•°æ®å€¼æ˜¯æ— æ•ˆçš„ï¼Œåˆ™åŠ è½½æ“ä½œä¼šè¢«æ ‡è®°ä¸ºæ— æ•ˆï¼ˆINVï¼‰ï¼›å¦‚æœå­˜å‚¨æ“ä½œçš„æ•°æ®å€¼æ˜¯æœ‰æ•ˆçš„ï¼Œåˆ™å¯ä»¥å°†å…¶forwardç»™åŠ è½½æ“ä½œã€‚&lt;/p>
&lt;h4 id="runahead-load-operations">Runahead load operations&lt;/h4>
&lt;p>runahead load invalid :&lt;/p>
&lt;ol>
&lt;li>
&lt;p>æºè‡ªæ— æ•ˆçš„ç‰©ç†å¯„å­˜å™¨&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¾èµ–äºstore bufferä¸­æ ‡è®°ä¸ºæ— æ•ˆï¼ˆINVï¼‰çš„å­˜å‚¨æ“ä½œ&lt;/p>
&lt;/li>
&lt;li>
&lt;p>ä¾èµ–äºä¸€ä¸ªå·²ç»ä¼ªé€€ä¼‘ä¸”æ˜¯æ— æ•ˆï¼ˆINVï¼‰çš„å­˜å‚¨æ“ä½œ(runahead cache)&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>æœ‰æ•ˆloadä¼šå¹¶è¡Œè®¿é—®3ä¸ªç»“æ„ ï¼š data cache , runahead cache , store buffer .&lt;/p>
&lt;p>åŠ è½½æ“ä½œå‘½ä¸­store buffer ï¼Œå¹¶ä¸”å‘½ä¸­çš„æ¡ç›®è¢«æ ‡è®°ä¸ºæœ‰æ•ˆï¼Œé‚£ä¹ˆåŠ è½½æ“ä½œä¼šä»store bufferè·å–æ•°æ®ã€‚
åŠ è½½æ“ä½œå‘½ä¸­store buffer ï¼Œå¹¶ä¸”å‘½ä¸­çš„æ¡ç›®è¢«æ ‡è®°ä¸ºæ— æ•ˆï¼ˆINVï¼‰ï¼Œé‚£ä¹ˆåŠ è½½æ“ä½œä¼šå°†å…¶ç‰©ç†ç›®æ ‡å¯„å­˜å™¨æ ‡è®°ä¸ºæ— æ•ˆï¼ˆINVï¼‰ã€‚&lt;/p>
&lt;p>åªæœ‰å½“åŠ è½½æŒ‡ä»¤è®¿é—®çš„cache lineæœ‰æ•ˆä¸”å…¶è®¿é—®çš„ä»»ä½•å­—èŠ‚çš„ STO ä½è¢«setæ—¶ï¼Œè¯¥åŠ è½½æ‰è¢«è§†ä¸ºåœ¨&lt;strong>runahead cache ä¸­å‘½ä¸­&lt;/strong>ã€‚
&lt;strong>å¦‚æœloadåœ¨store bufferæœªå‘½ä¸­ä½†åœ¨runahead cache å‘½ä¸­&lt;/strong>ï¼Œåˆ™å®ƒä¼šæ£€æŸ¥åœ¨runahead cache è®¿é—®çš„å­—èŠ‚çš„ INV ä½ã€‚å¦‚æœæ²¡æœ‰INV ä½set ï¼Œå°†ä½¿ç”¨runahead cache ä¸­çš„æ•°æ®ã€‚å¦‚æœä»»æ„ä¸€ä¸ªæºæ•°æ®å­—èŠ‚è¢«æ ‡è®°ä¸º INVï¼Œåˆ™å°†å…¶ç›®æ ‡å¯„å­˜å™¨æ ‡è®°ä¸ºINVã€‚
&lt;strong>å¦‚æœloadåœ¨store bufferå’Œrunahead cache éƒ½æœªå‘½ä¸­ï¼Œä½†åœ¨data cacheä¸­å‘½ä¸­&lt;/strong>ï¼Œåˆ™å®ƒå°†ä½¿ç”¨data cacheä¸­çš„å€¼ï¼Œå¹¶è¢«è§†ä¸ºvalid(data cache åº”è¯¥æ˜¯ä¸æ¶‰åŠrunaheadçš„)ã€‚ç„¶è€Œï¼Œç”±äºä»¥ä¸‹ä¸¤ä¸ªåŸå› ï¼Œå®ƒå®é™…ä¸Šå¯èƒ½æ˜¯æ— æ•ˆçš„????ï¼š1ï¼‰å®ƒå¯èƒ½ä¾èµ–äºå…·æœ‰ INV åœ°å€çš„storeï¼Œ(ä¾èµ–äºæ— æ•ˆçš„store å°±ä¸åº”è¯¥è¢«åˆ¤å®šä¸ºæœ‰æ•ˆå•Š)æˆ–è€… 2ï¼‰å®ƒå¯èƒ½ä¾èµ–äºä¸€ä¸ª INV storeï¼Œè¯¥storeåœ¨runahead cacheä¸­å°†å…¶ç›®æ ‡å­—èŠ‚æ ‡è®°ä¸º INVï¼Œä½†ç”±äºå†²çªï¼Œç›¸åº”çš„runahead cacheè¢«é‡Šæ”¾(æ„æ€å°±æ˜¯,å®é™…ä¸Šloadæ˜¯æ— æ•ˆçš„,ä½†æ˜¯ç”±äºloadæ‰€è®¿é—®çš„runahead cacheè¢«åˆ«çš„æŒ‡ä»¤é‡Šæ”¾äº†,æ¯”æ–¹è¯´å¦ä¸€ä¸ªstoreæŠŠcache ç»™æŒ¤æ‰äº†)ã€‚ç„¶è€Œï¼Œè¿™ä¸¤ç§æƒ…å†µéƒ½æ˜¯ç½•è§çš„ï¼Œä¸ä¼šæ˜¾è‘—å½±å“æ€§èƒ½ã€‚&lt;/p>
&lt;p>&lt;strong>å¦‚æœåŠ è½½åœ¨æ‰€æœ‰ä¸‰ä¸ªç»“æ„ä¸­éƒ½æœªå‘½ä¸­&lt;/strong>ï¼Œå®ƒä¼šå‘L2 cache å‘é€è¯·æ±‚ä»¥è·å–å…¶æ•°æ®ã€‚å¦‚æœè¯¥è¯·æ±‚åœ¨L2 cache ä¸­å‘½ä¸­ï¼Œåˆ™æ•°æ®å°†ä»L2 cache ä¼ è¾“åˆ°L1 cache ï¼ŒåŠ è½½å®Œæˆå…¶æ‰§è¡Œã€‚å¦‚æœè¯·æ±‚åœ¨L2 cache ä¸­æœªå‘½ä¸­ï¼ŒåŠ è½½ä¼šå°†å…¶&lt;strong>ç›®æ ‡å¯„å­˜å™¨&lt;/strong>æ ‡è®°ä¸º INVï¼Œå¹¶åƒå¯¼è‡´è¿›å…¥runahead modeçš„åŠ è½½é‚£æ ·(æœªå‘½ä¸­L1 cache)ä»è°ƒåº¦å™¨ä¸­ç§»é™¤ã€‚è¯¥è¯·æ±‚ä¼šå‘é€åˆ°å†…å­˜åƒä¸€ä¸ªæœªå‘½ä¸­ L2 ç¼“å­˜çš„&lt;strong>æ­£å¸¸åŠ è½½è¯·æ±‚&lt;/strong>ä¸€æ ·ã€‚&lt;/p>
&lt;p>store buffer &amp;gt; runahead cache &amp;gt; data cache &amp;gt; L2 cache&lt;/p>
&lt;h4 id="execution-and-prediction-of-branches">Execution and prediction of branches&lt;/h4>
&lt;p>åœ¨runahead modeä¸­ï¼Œåˆ†æ”¯çš„é¢„æµ‹å’Œè§£å†³æ–¹å¼ä¸æ­£å¸¸æ¨¡å¼å®Œå…¨ç›¸åŒï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼šå…·æœ‰ INV æº(å¯„å­˜å™¨æ ‡è®°ä¸ºINV)çš„åˆ†æ”¯ï¼ˆä¸æ‰€æœ‰åˆ†æ”¯ä¸€æ ·ï¼‰è¢«é¢„æµ‹å¹¶ä»¥æ¨æµ‹çš„æ–¹å¼æ›´æ–°å…¨å±€åˆ†æ”¯å†å²å¯„å­˜å™¨ï¼Œä½†ä¸å…¶ä»–åˆ†æ”¯ä¸åŒï¼Œå®ƒæ°¸è¿œæ— æ³•è¢«è§£å†³ã€‚???å¦‚æœåˆ†æ”¯é¢„æµ‹é”™è¯¯ï¼Œå¤„ç†å™¨åœ¨è·å–åˆ°è¯¥åˆ†æ”¯åå°†å§‹ç»ˆå¤„äºé”™è¯¯è·¯å¾„ï¼Œç›´åˆ°é‡åˆ°ä¸€ä¸ªä¸æ§åˆ¶æµæ— å…³çš„ç‚¹ã€‚æˆ‘ä»¬å°†è·å–åˆ°é”™è¯¯é¢„æµ‹çš„ INV åˆ†æ”¯çš„ç¨‹åºä¸­çš„ç‚¹ç§°ä¸ºâ€œåˆ†æ­§ç‚¹â€ã€‚åˆ†æ­§ç‚¹çš„å­˜åœ¨ä¸ä¸€å®šå¯¹æ€§èƒ½æœ‰å®³åˆ†æ­§ç‚¹åœ¨runahead modeä¸­å‡ºç°å¾—è¶Šæ™šï¼Œæ€§èƒ½æå‡å°±è¶Šå¥½ã€‚&lt;/p>
&lt;p>å‰ç½®æ¨¡å¼ä¸‹åˆ†æ”¯é¢„æµ‹å™¨è¡¨çš„è®­ç»ƒç­–ç•¥:&lt;/p>
&lt;p>(1)å§‹ç»ˆè®­ç»ƒåˆ†æ”¯é¢„æµ‹å™¨è¡¨ã€‚å¦‚æœä¸€ä¸ªåˆ†æ”¯é¦–å…ˆåœ¨å‰ç½®æ¨¡å¼ä¸‹æ‰§è¡Œï¼Œç„¶ååœ¨æ­£å¸¸æ¨¡å¼ä¸‹æ‰§è¡Œï¼Œè¿™ç§ç­–ç•¥å°†å¯¼è‡´åŒä¸€ä¸ªåˆ†æ”¯å¯¹åˆ†æ”¯é¢„æµ‹å™¨è¿›è¡Œä¸¤æ¬¡è®­ç»ƒã€‚å› æ­¤ï¼Œé¢„æµ‹å™¨è¡¨çš„æ€§èƒ½å¾—åˆ°äº†å¢å¼ºï¼Œè®¡æ•°å™¨å¯èƒ½ä¼šå¤±å»æ»åæ•ˆåº”ã€‚&lt;/p>
&lt;p>(2)ä¸åœ¨å‰ç½®æ¨¡å¼ä¸‹è®­ç»ƒåˆ†æ”¯é¢„æµ‹å™¨ã€‚è¿™ä¼šå¯¼è‡´å‰ç½®æ¨¡å¼ä¸‹çš„åˆ†æ”¯é¢„æµ‹å‡†ç¡®ç‡é™ä½ï¼Œä»è€Œé™ä½æ€§èƒ½ï¼Œå¹¶ä½¿åˆ†æ­§ç‚¹æ›´æ¥è¿‘å‰ç½®å…¥å£ç‚¹ã€‚&lt;/p>
&lt;p>(3)ç¬¬ä¸‰ç§é€‰æ‹©æ˜¯å§‹ç»ˆåœ¨å‰ç½®æ¨¡å¼ä¸‹è®­ç»ƒåˆ†æ”¯é¢„æµ‹å™¨ï¼Œä½†åŒæ—¶ä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å°†å‰ç½®æ¨¡å¼ä¸‹åˆ†æ”¯çš„ç»“æœä¼ é€’ç»™æ­£å¸¸æ¨¡å¼ã€‚åœ¨æ­£å¸¸æ¨¡å¼ä¸‹ï¼Œå¦‚æœå­˜åœ¨é¢„æµ‹ï¼Œåˆ™ä½¿ç”¨è¯¥é˜Ÿåˆ—ä¸­çš„é¢„æµ‹æ¥è¿›è¡Œåˆ†æ”¯é¢„æµ‹ã€‚å¦‚æœä¸€ä¸ªåˆ†æ”¯ä½¿ç”¨æ¥è‡ªé˜Ÿåˆ—çš„é¢„æµ‹è¿›è¡Œé¢„æµ‹ï¼Œåˆ™ä¸ä¼šå†æ¬¡è®­ç»ƒé¢„æµ‹å™¨è¡¨ã€‚&lt;/p>
&lt;p>(4)å‰ç½®æ¨¡å¼å’Œæ­£å¸¸æ¨¡å¼ä½¿ç”¨ä¸¤ä¸ªç‹¬ç«‹çš„é¢„æµ‹å™¨è¡¨ï¼Œå¹¶åœ¨è¿›å…¥å‰ç½®æ¨¡å¼æ—¶å°†æ­£å¸¸æ¨¡å¼çš„è¡¨ä¿¡æ¯å¤åˆ¶åˆ°å‰ç½®æ¨¡å¼ã€‚è¿™ä¸€é€‰é¡¹åœ¨ç¡¬ä»¶å®ç°ä¸Šæˆæœ¬è¾ƒé«˜ï¼Œä½†æˆ‘ä»¬è¿›è¡Œäº†æ¨¡æ‹Ÿä»¥ç¡®å®šç¬¬ä¸€ç§é€‰é¡¹çš„åŒé‡è®­ç»ƒç­–ç•¥æœ‰å¤šé‡è¦ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬çš„ç»“æœæ˜¾ç¤ºï¼Œä¸ç¬¬å››ç§é€‰æ‹©ç›¸æ¯”ï¼ŒäºŒæ¬¡è®­ç»ƒåˆ†æ”¯é¢„æµ‹å™¨è¡¨æ¡ç›®å¹¶æ²¡æœ‰æ˜¾è‘—é™ä½æ€§èƒ½(æ–¹æ³•1)ã€‚&lt;/p>
&lt;h4 id="instruction-pseudo-retirement-during-runahead-mode">Instruction pseudo-retirement during runahead mode.&lt;/h4>
&lt;p>åœ¨runahead modeä¸‹ï¼ŒæŒ‡ä»¤æŒ‰ç…§ç¨‹åºé¡ºåºç¦»å¼€æŒ‡ä»¤çª—å£ã€‚&lt;strong>å¦‚æœæŸæ¡æŒ‡ä»¤åˆ°è¾¾æŒ‡ä»¤çª—å£çš„é˜Ÿå¤´ï¼Œå®ƒå°†è¢«è€ƒè™‘è¿›è¡Œpseudo-retireã€‚&lt;/strong>
å¦‚æœè¢«è€ƒè™‘pseudo-retireçš„æŒ‡ä»¤æ˜¯æ— æ•ˆçš„ï¼ˆINVï¼‰ï¼Œå®ƒä¼šç«‹å³ä»çª—å£ä¸­ç§»é™¤ã€‚
å¦‚æœæŒ‡ä»¤æ˜¯æœ‰æ•ˆçš„ï¼Œå®ƒéœ€è¦ç­‰å¾…æ‰§è¡Œå®Œæ¯•ï¼ˆæ­¤æ—¶å®ƒå¯èƒ½å˜ä¸ºæ— æ•ˆçš„ï¼‰ï¼Œå¹¶å°†ç»“æœå†™å…¥&lt;strong>ç‰©ç†å¯„å­˜å™¨æ–‡ä»¶&lt;/strong>ã€‚åœ¨pseudo-retireæ—¶ï¼Œä¸€æ¡æŒ‡ä»¤ä¼šé‡Šæ”¾ä¸ºå…¶æ‰§è¡Œåˆ†é…çš„æ‰€æœ‰èµ„æºã€‚&lt;/p>
&lt;p>æ— è®ºæ˜¯æœ‰æ•ˆè¿˜æ˜¯æ— æ•ˆçš„æŒ‡ä»¤ï¼Œåœ¨å®ƒä»¬ç¦»å¼€æŒ‡ä»¤çª—å£æ—¶éƒ½ä¼šæ›´æ–°é€€ä¼‘é‡å‘½åè¡¨ï¼ˆRetirement RATï¼‰ã€‚é€€ä¼‘é‡å‘½åè¡¨ä¸éœ€è¦å­˜å‚¨ä¸æ¯ä¸ªå¯„å­˜å™¨å…³è”çš„æ— æ•ˆï¼ˆINVï¼‰ä½ï¼Œå› ä¸ºç‰©ç†å¯„å­˜å™¨å·²ç»å„è‡ªå…³è”äº†æ— æ•ˆä½ã€‚&lt;/p>
&lt;h4 id="exiting-runahead-mode">Exiting runahead mode&lt;/h4>
&lt;p>å¯ä»¥éšæ—¶å¯åŠ¨é€€å‡ºé¢„è¿è¡Œæ¨¡å¼çš„è¿‡ç¨‹ã€‚ä¸ºäº†ç®€åŒ–å¤„ç†ï¼Œæˆ‘ä»¬å°†é€€å‡ºé¢„è¿è¡Œæ¨¡å¼çš„æ“ä½œä¸å¤„ç†åˆ†æ”¯é¢„æµ‹é”™è¯¯çš„æ–¹å¼ç›¸åŒã€‚å¤„ç†å™¨ä¸­çš„æ‰€æœ‰æŒ‡ä»¤éƒ½ä¼šè¢«flushï¼Œç›¸å…³çš„ç¼“å†²åŒºä¼šè¢«é‡Šæ”¾ã€‚&lt;strong>æ£€æŸ¥ç‚¹ä¿å­˜çš„æ¶æ„å¯„å­˜å™¨æ–‡ä»¶ä¼šå¤åˆ¶åˆ°ç‰©ç†å¯„å­˜å™¨æ–‡ä»¶çš„é¢„å®šåŒºåŸŸ&lt;/strong>ã€‚å‰ç«¯å’Œé€€ä¼‘é˜¶æ®µçš„å¯„å­˜å™¨é‡å‘½åè¡¨ï¼ˆRATsï¼‰ä¹Ÿä¼šä¿®å¤ï¼Œä»¥æŒ‡å‘ä¿å­˜æ¶æ„å¯„å­˜å™¨å€¼çš„ç‰©ç†å¯„å­˜å™¨ã€‚è¿™ç§æ¢å¤é€šè¿‡é‡æ–°åŠ è½½ç›¸åŒçš„ç¡¬ç¼–ç æ˜ å°„åˆ°ä¸¤ä¸ªåˆ«åè¡¨æ¥å®ç°ã€‚é¢„è¿è¡Œç¼“å­˜ä¸­çš„æ‰€æœ‰è¡Œéƒ½å°†å¤±æ•ˆï¼ˆå¹¶ä¸” STO ä½è¢«æ¸…é›¶ï¼‰ï¼Œåœ¨é€€å‡ºé¢„è¿è¡Œæ¨¡å¼æ—¶ï¼Œæ£€æŸ¥ç‚¹ä¿å­˜çš„åˆ†æ”¯å†å²å¯„å­˜å™¨å’Œè¿”å›åœ°å€æ ˆå°†è¢«æ¢å¤ã€‚å¤„ç†å™¨ä¼šä»å¯¼è‡´è¿›å…¥é¢„è¿è¡Œæ¨¡å¼çš„æŒ‡ä»¤åœ°å€å¼€å§‹è·å–æŒ‡ä»¤ã€‚&lt;/p>
&lt;p>&lt;strong>æˆ‘ä»¬çš„ç­–ç•¥æ˜¯åœ¨é˜»å¡çš„åŠ è½½æŒ‡ä»¤ä»å†…å­˜ä¸­å–å›æ•°æ®æ—¶é€€å‡ºrunahead mode&lt;/strong>ã€‚å¦ä¸€ç§ç­–ç•¥æ˜¯é€šè¿‡ä½¿ç”¨å®šæ—¶å™¨æå‰é€€å‡ºï¼Œè¿™æ ·å¯ä»¥æ¶ˆé™¤éƒ¨åˆ†æµæ°´çº¿å¡«å……æˆ–çª—å£å¡«å……çš„å¼€é”€ã€‚æˆ‘ä»¬å‘ç°ï¼Œå¯¹äºæŸäº›åŸºå‡†æµ‹è¯•ï¼Œè¿™ç§æ›¿ä»£ç­–ç•¥è¡¨ç°è‰¯å¥½ï¼Œè€Œåœ¨å…¶ä»–åŸºå‡†æµ‹è¯•ä¸­è¡¨ç°ä¸ä½³ã€‚æ€»ä½“ä¸Šï¼Œæå‰é€€å‡ºçš„æ•ˆæœç•¥å·®ã€‚æå‰é€€å‡ºå¯¹äºæŸäº›åŸºå‡†æµ‹è¯•è¡¨ç°è¾ƒå·®çš„åŸå› æ˜¯ï¼Œå¦‚æœå¤„ç†å™¨ä¸å°½æ—©é€€å‡ºé¢„è¿è¡Œæ¨¡å¼ï¼Œå¯èƒ½ä¼šç”Ÿæˆæ›´å¤šçš„äºŒçº§ç¼“å­˜ä¸¢å¤±é¢„å–è¯·æ±‚ã€‚&lt;/p>
&lt;h3 id="çŸ¥è¯†ç‚¹è¡¥å……">çŸ¥è¯†ç‚¹è¡¥å……&lt;/h3>
&lt;h4 id="store-buffer">store buffer&lt;/h4>
&lt;h4 id="åˆ†æ”¯é¢„æµ‹">åˆ†æ”¯é¢„æµ‹&lt;/h4>
&lt;h4 id="architectural-register">Architectural Register&lt;/h4>
&lt;p>æ¶æ„å¯„å­˜å™¨æ˜¯æŒ‡æ¯ä¸ªCPUç‹¬æœ‰çš„ä¸€ç»„å…¨å±€å¯„å­˜å™¨ï¼Œè¿™äº›å¯„å­˜å™¨ä¸ä¸å…¶ä»–CPUå…±äº«ã€‚å®ƒä»¬å¯ä»¥å­˜å‚¨ä»»æ„ç±»å‹çš„æ•°æ®ï¼Œå¹¶ä¸”èƒ½å¤Ÿåœ¨CPUå†…éƒ¨çš„çº¿ç¨‹ä¹‹é—´å®ç°å¿«é€Ÿé€šä¿¡ã€‚&lt;/p>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/lshpku/hwd-prefetch-study/blob/master/Paper_Reading.md" target="_blank" rel="noopener"
>paper-reading&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.sciencedirect.com/topics/computer-science/architectural-register" target="_blank" rel="noopener"
>architectural register&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://jia.je/hardware/2021/09/14/brief-into-ooo/#%E8%83%8C%E6%99%AF" target="_blank" rel="noopener"
>æµ…è°ˆä¹±åºæ‰§è¡ŒCPU&lt;/a>&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>Chipyard Learning</title><link>https://VastCircle.github.io/2024/chipyard-learning/</link><pubDate>Mon, 07 Oct 2024 16:15:07 +0800</pubDate><guid>https://VastCircle.github.io/2024/chipyard-learning/</guid><description>&lt;h2 id="chipyard-ä»ä¸‹è½½åˆ°æ„å»º">chipyard ä»ä¸‹è½½åˆ°æ„å»º&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git clone https://github.com/ucb-bar/chipyard.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> chipyard
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git checkout 1.10.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## ä¸ºäº†ä½¿å¾—cloneé¡ºåˆ©ï¼ŒæŠŠhttpéƒ½æ¢æˆssh ï¼Œä½¿ç”¨å‘½ä»¤&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>find . -name &lt;span style="color:#98c379">&amp;#34;.gitmodules&amp;#34;&lt;/span> -type f -exec sed -i &lt;span style="color:#98c379">&amp;#39;s/https:\/\/github.com\//git@github.com:/g&amp;#39;&lt;/span> &lt;span style="color:#56b6c2">{}&lt;/span> +
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## åŒæ­¥&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git submodule sync
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## è¿è¡Œåˆå§‹åŒ–è„šæœ¬&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./build-setup.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## å¯¼å…¥condaç¯å¢ƒ&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e5c07b">source&lt;/span> ./env.sh
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e">## åˆå§‹åŒ–software ï¼Œä¾‹å¦‚coremark&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> ./scripts/init-software.sh
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é…ç½®ä¸€ä¸ª2æ ¸å¿ƒsoc">é…ç½®ä¸€ä¸ª2æ ¸å¿ƒsoc&lt;/h2>
&lt;h3 id="chipyard-é…ç½®æ–‡ä»¶">chipyard é…ç½®æ–‡ä»¶&lt;/h3>
&lt;p>chipyardçš„é…ç½®æ–‡ä»¶æ˜¯åœ¨&lt;code>chipyard/generators/chipyard/src/main/scala/config&lt;/code>ä¸­ï¼Œ&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-scala" data-lang="scala">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">class&lt;/span> &lt;span style="color:#e5c07b">MyCoreConfigs&lt;/span> &lt;span style="color:#c678dd">extends&lt;/span> &lt;span style="color:#e5c07b">Config&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e06c75">freechips&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e06c75">rocketchip&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e06c75">subsystem&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e5c07b">WithNBigCores&lt;/span>&lt;span style="color:#56b6c2">(&lt;/span>&lt;span style="color:#d19a66">2&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">++&lt;/span> &lt;span style="color:#7f848e">// single rocket-core
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span> &lt;span style="color:#c678dd">new&lt;/span> &lt;span style="color:#e06c75">chipyard&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e06c75">config&lt;/span>&lt;span style="color:#56b6c2">.&lt;/span>&lt;span style="color:#e5c07b">AbstractConfig&lt;/span>&lt;span style="color:#56b6c2">)&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨sim/verilatorç•Œé¢å»æ‰§è¡Œå‘½ä»¤,å¯ä»¥ç”Ÿæˆæ–‡ä»¶ simulator-chipyard-MyCoreConfig&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make &lt;span style="color:#e06c75">CONFIG&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>MyCoreConfig
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="è£¸æœºç¼–è¯‘riscv">è£¸æœºç¼–è¯‘riscv&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-c" data-lang="c">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">#include&lt;/span> &lt;span style="color:#7f848e">&amp;lt;stdio.h&amp;gt;&lt;/span>&lt;span style="color:#7f848e">
&lt;/span>&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">int&lt;/span> &lt;span style="color:#61afef;font-weight:bold">main&lt;/span>(&lt;span style="color:#e5c07b">void&lt;/span>)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>{
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#61afef;font-weight:bold">printf&lt;/span>(&lt;span style="color:#98c379">&amp;#34;Hello, World!&lt;/span>&lt;span style="color:#98c379">\n&lt;/span>&lt;span style="color:#98c379">&amp;#34;&lt;/span>);
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">return&lt;/span> &lt;span style="color:#d19a66">0&lt;/span>;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>}
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>$ riscv64-unknown-elf-gcc -fno-common -fno-builtin-printf -specs&lt;span style="color:#56b6c2">=&lt;/span>htif_nano.specs -c hello.c
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ riscv64-unknown-elf-gcc -static -specs&lt;span style="color:#56b6c2">=&lt;/span>htif_nano.specs hello.o -o hello.riscv
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>$ spike hello.riscv
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>Hello, World!
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>-fno-common&lt;/li>
&lt;/ul>
&lt;p>â€‹ é»˜è®¤æƒ…å†µä¸‹ï¼ŒCè¯­è¨€ä¼šå°†æœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡æ”¾åœ¨ä¸€ä¸ªâ€œcommonâ€åŒºåŸŸï¼Œå¯ä»¥è¢«å¤šä¸ªæ–‡ä»¶å…±äº«ã€‚&lt;code>-fno-common&lt;/code> ç¦æ­¢è¿™ç§è¡Œä¸ºï¼Œè¦æ±‚æ¯ä¸ªæœªåˆå§‹åŒ–çš„å…¨å±€å˜é‡å¿…é¡»åœ¨ä¸€ä¸ªæ–‡ä»¶ä¸­å®šä¹‰ã€‚&lt;/p>
&lt;ul>
&lt;li>-fno-builtin-printf&lt;/li>
&lt;/ul>
&lt;p>â€‹ ç¦ç”¨ç¼–è¯‘å™¨å†…ç½®çš„ &lt;code>printf&lt;/code> å‡½æ•°ï¼Œå¼ºåˆ¶ä½¿ç”¨æ ‡å‡†åº“ä¸­çš„ &lt;code>printf&lt;/code> å‡½æ•°&lt;/p>
&lt;ul>
&lt;li>-specs=htif_nano.specs&lt;/li>
&lt;/ul>
&lt;p>â€‹ &lt;code>htif_nano.specs&lt;/code> å¯èƒ½æ˜¯ä¸ºç‰¹å®šç¡¬ä»¶å¹³å°ï¼ˆä¾‹å¦‚ RISC-Vï¼‰çš„æ¨¡æ‹Ÿç¯å¢ƒæˆ–ç¡¬ä»¶æ¥å£ï¼ˆHTIFï¼‰å‡†å¤‡çš„ç¼–è¯‘å’Œé“¾æ¥é…ç½®ï¼Œç¡®ä¿ç”Ÿæˆçš„ä»£ç å¯ä»¥åœ¨ç‰¹å®šç¯å¢ƒä¸­è¿è¡Œ&lt;/p>
&lt;ul>
&lt;li>
&lt;p>-static&lt;/p>
&lt;p>å¼ºåˆ¶ä½¿ç”¨é™æ€é“¾æ¥åº“ï¼Œè€Œä¸æ˜¯åŠ¨æ€é“¾æ¥åº“ã€‚æ‰€æœ‰éœ€è¦çš„åº“ä»£ç éƒ½ä¼šåœ¨ç¼–è¯‘æ—¶ç›´æ¥é“¾æ¥åˆ°ç”Ÿæˆçš„å¯æ‰§è¡Œæ–‡ä»¶ä¸­ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶åŠ¨æ€åŠ è½½ã€‚&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h3 id="ç”Ÿæˆæ³¢å½¢">ç”Ÿæˆæ³¢å½¢&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>make run-binary-debug &lt;span style="color:#e06c75">BINARY&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>test.riscv
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åº”è¯¥æ˜¯è¦é‡æ–°ç¼–è¯‘å‰æ–‡ç”Ÿæˆçš„binæ–‡ä»¶&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ–¹æ³•1&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>make run-binary-debug &lt;span style="color:#e06c75">BINARY&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>test.riscv &lt;span style="color:#e06c75">CONFIG&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>MyCoreConfig
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ–¹æ³•2&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>./simulator-chipyard-RocketConfig &lt;span style="color:#e06c75">$RISCV&lt;/span>/riscv64-unknown-elf/share/riscv-tests/isa/rv64ui-p-simple
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>åœ¨output/chipyard.harness.TestHarness.MyCoreConfig å¯ä»¥çœ‹åˆ°hello.vcd&lt;/p>
&lt;p>ä½¿ç”¨ gtkwaveå¯ä»¥æ‰“å¼€hello.vcd æŸ¥çœ‹&lt;/p>
&lt;h3 id="rocket-chip">rocket chip&lt;/h3>
&lt;div align=center>&lt;img src="rocket-chip å›¾è¡¨.png" alt="123" style="zoom:50%;" />&lt;/div>
&lt;h4 id="tiles">tiles&lt;/h4>
&lt;p>æ¯ä¸ª&lt;code>Rocket&lt;/code>æ ¸å¿ƒéƒ½ä¸ä¸€ä¸ªé¡µè¡¨éå†å™¨ã€L1 æŒ‡ä»¤ç¼“å­˜å’Œ L1 æ•°æ®ç¼“å­˜ç»„åˆæˆä¸€ä¸ª&lt;code>RocketTile&lt;/code>&lt;/p>
&lt;p>æ¯ä¸ª CPU å—éƒ½æœ‰ä¸€ä¸ª L1 æŒ‡ä»¤ç¼“å­˜å’Œ L1 æ•°æ®ç¼“å­˜ã€‚è¿™äº›ç¼“å­˜çš„å¤§å°å’Œå…³è”æ€§å¯ä»¥é…ç½®ã€‚é»˜è®¤&lt;code>RocketConfig&lt;/code> ä½¿ç”¨ 16 KiBã€4 è·¯ç»„å…³è”æŒ‡ä»¤å’Œæ•°æ®ç¼“å­˜&lt;/p>
&lt;h4 id="memory-system">Memory System&lt;/h4>
&lt;p>è¿™äº›å›¾å—(Tiles)è¿æ¥åˆ°&lt;code>SystemBus&lt;/code>ï¼Œåè€…å°†å…¶è¿æ¥åˆ° L2 ç¼“å­˜ç»„ã€‚ç„¶åï¼ŒL2 ç¼“å­˜ç»„è¿æ¥åˆ°&lt;code>MemoryBus&lt;/code>ï¼Œåè€…é€šè¿‡ TileLink åˆ° AXI è½¬æ¢å™¨è¿æ¥åˆ° DRAM æ§åˆ¶å™¨&lt;/p>
&lt;div align=center>&lt;img src="image-20241009152035016.png" alt="Momory System" style="zoom:50%;" /> &lt;/div>
&lt;h4 id="mmio">MMIO&lt;/h4>
&lt;p>å¯¹äº MMIO å¤–å›´è®¾å¤‡ï¼Œ&lt;code>SystemBus&lt;/code>è¿æ¥åˆ°&lt;code>ControlBus&lt;/code>å’Œ&lt;code>PeripheryBus&lt;/code>&lt;/p>
&lt;p>&lt;code>ControlBus&lt;/code>è¿æ¥æ ‡å‡†å¤–å›´è®¾å¤‡ï¼Œå¦‚ BootROMã€å¹³å°çº§ä¸­æ–­æ§åˆ¶å™¨ (PLIC)ã€æ ¸å¿ƒæœ¬åœ°ä¸­æ–­ (CLINT) å’Œè°ƒè¯•å•å…ƒ&lt;/p>
&lt;h5 id="bootrom">BootROM&lt;/h5>
&lt;p>BootROM åŒ…å«ç¬¬ä¸€é˜¶æ®µå¼•å¯¼åŠ è½½ç¨‹åºï¼Œå³ç³»ç»Ÿå¤ä½åè¿è¡Œçš„ç¬¬ä¸€æ¡æŒ‡ä»¤ã€‚å®ƒè¿˜åŒ…å«è®¾å¤‡æ ‘ï¼ŒLinux ä¼šä½¿ç”¨å®ƒæ¥ç¡®å®šè¿æ¥äº†å“ªäº›å…¶ä»–å¤–è®¾ï¼Œå…·ä½“åœ¨ /generators/rocket-chip/bootrom&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-assembly" data-lang="assembly">#define DRAM_BASE 0x80000000
.section .text.start, &amp;#34;ax&amp;#34;, @progbits
.globl _start
_start:
csrwi 0x7c1, 0 // disable chicken bits
li s0, DRAM_BASE
csrr a0, mhartid
la a1, _dtb
jr s0
.section .text.hang, &amp;#34;ax&amp;#34;, @progbits
.globl _hang
_hang:
csrwi 0x7c1, 0 // disable chicken bits
csrr a0, mhartid
la a1, _dtb
csrwi mie, 0
1:
wfi
j 1b
.section .rodata.dtb, &amp;#34;a&amp;#34;, @progbits
.globl _dtb
.align 5, 0
_dtb:
.ascii &amp;#34;DTB goes here&amp;#34;
&lt;/code>&lt;/pre>&lt;p>linker.ld&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>SECTIONS
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#56b6c2">{&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e06c75">ROM_BASE&lt;/span> &lt;span style="color:#56b6c2">=&lt;/span> 0x10000; /* ... but actually position independent */
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> . &lt;span style="color:#56b6c2">=&lt;/span> ROM_BASE;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .text.start : &lt;span style="color:#56b6c2">{&lt;/span> *&lt;span style="color:#56b6c2">(&lt;/span>.text.start&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> . &lt;span style="color:#56b6c2">=&lt;/span> ROM_BASE + 0x40;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .text.hang : &lt;span style="color:#56b6c2">{&lt;/span> *&lt;span style="color:#56b6c2">(&lt;/span>.text.hang&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> . &lt;span style="color:#56b6c2">=&lt;/span> ROM_BASE + 0x80;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> .rodata.dtb : &lt;span style="color:#56b6c2">{&lt;/span> *&lt;span style="color:#56b6c2">(&lt;/span>.rodata.dtb&lt;span style="color:#56b6c2">)&lt;/span> &lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç¬¬ä¸€æ¡æŒ‡ä»¤åº”è¯¥æ˜¯ä»0x10000å¼€å§‹&lt;/p>
&lt;h2 id="æºç è§£è¯»">æºç è§£è¯»&lt;/h2>
&lt;h3 id="variablesmk">variables.mk&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-makefile" data-lang="makefile">&lt;span style="display:flex;">&lt;span>ifeq (&lt;span style="color:#c678dd">$(&lt;/span>&lt;span style="color:#e06c75">SUB_PROJECT&lt;/span>&lt;span style="color:#c678dd">)&lt;/span>,chipyard)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#e06c75">SBT_PROJECT&lt;/span> &lt;span style="color:#56b6c2">?=&lt;/span> chipyard
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MODEL ?&lt;span style="color:#56b6c2">=&lt;/span> TestHarness
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> VLOG_MODEL ?&lt;span style="color:#56b6c2">=&lt;/span> &lt;span style="color:#c678dd">$(&lt;/span>MODEL&lt;span style="color:#c678dd">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> MODEL_PACKAGE ?&lt;span style="color:#56b6c2">=&lt;/span> chipyard.harness
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CONFIG ?&lt;span style="color:#56b6c2">=&lt;/span> RocketConfig
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> CONFIG_PACKAGE ?&lt;span style="color:#56b6c2">=&lt;/span> &lt;span style="color:#c678dd">$(&lt;/span>SBT_PROJECT&lt;span style="color:#c678dd">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> GENERATOR_PACKAGE ?&lt;span style="color:#56b6c2">=&lt;/span> &lt;span style="color:#c678dd">$(&lt;/span>SBT_PROJECT&lt;span style="color:#c678dd">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> TB ?&lt;span style="color:#56b6c2">=&lt;/span> TestDriver
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> TOP ?&lt;span style="color:#56b6c2">=&lt;/span> ChipTop
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>endif
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="sub_project">SUB_PROJECT&lt;/h4>
&lt;p>è¿™å¯¹åº”äºchipyard/generators ç›®å½•ä¸­çš„é¡¹ç›®ä¹‹ä¸€ã€‚æ›´æ­£å¼åœ°è¯´ï¼Œå®ƒæ˜¯ç”±ç›¸åº”ç”Ÿæˆå™¨ç›®å½•ä¸­çš„ build.sbt æ–‡ä»¶ä¸­çš„æ¡ç›®ä¹‹ä¸€ä»¥åŠ Chipyard æ ¹ç›®å½•ä¸­çš„ä¸» build.sbt æ–‡ä»¶å®šä¹‰çš„&lt;/p>
&lt;p>constellation icenet rocketchip testchipip hwacha &amp;hellip;&lt;/p>
&lt;h4 id="sbt_project">SBT_PROJECT&lt;/h4>
&lt;p>è¿™å¯¹åº”äºè¦æ„å»ºçš„èŠ¯ç‰‡çš„é¡¶çº§å­˜å‚¨åº“ã€‚è¿™æ˜¯å®šä¹‰è®¸å¤šæ›´é«˜çº§åˆ«çš„æ„é€ çš„åœ°æ–¹ï¼Œä¾‹å¦‚æµ‹è¯•å·¥å…·å’Œæµ‹è¯•å¹³å°ã€‚&lt;/p>
&lt;h4 id="model">MODEL&lt;/h4>
&lt;p>è¯¥æ¨¡å‹æ˜¯ Chisel åº”è¯¥ä½¿ç”¨çš„é¡¹ç›®çš„é¡¶çº§æ¨¡å—ã€‚é€šå¸¸ï¼Œè¿™åº”è¯¥å®šä¹‰ä¸ºä¸æµ‹è¯•å·¥å…·ç›¸åŒï¼Œä½†ä¸ä¸€å®šå¿…é¡»å¦‚æ­¤ã€‚&lt;/p>
&lt;h4 id="vlog_model">VLOG_MODEL&lt;/h4>
&lt;p>è¿™æ˜¯ FIRRTL/Verilog åº”è¯¥ä½¿ç”¨çš„é¡¹ç›®çš„é¡¶å±‚æ¨¡å—ã€‚ä¸ MODEL ä¸€æ ·ï¼Œè¿™é€šå¸¸ä¸æµ‹è¯•å·¥å…·ç›¸åŒï¼Œä½†ä¸ä¸€å®šéœ€è¦å¦‚æ­¤ã€‚&lt;/p>
&lt;h4 id="model_package">MODEL_PACKAGE&lt;/h4>
&lt;p>è¿™æ˜¯ç”¨äºæŸ¥æ‰¾ CPU æ•´ä½“æ¨¡å‹çš„ Scala åŒ…ã€‚è¿™åº”è¯¥å¯¹åº”äº Scala CPU é…ç½®æ–‡ä»¶ä¸­çš„åŒ… &lt;packageName>ã€‚&lt;/p>
&lt;h4 id="config">CONFIG&lt;/h4>
&lt;p>è¿™å®šä¹‰äº†é¡¹ç›®åº”ä½¿ç”¨çš„å‚æ•°ã€‚é€šå¸¸ï¼Œè¿™ç”¨äºé€‰æ‹© SBT_PROJECT ä¸­å®šä¹‰çš„ CPU é…ç½®ä¹‹ä¸€ã€‚&lt;/p>
&lt;h4 id="config_package">CONFIG_PACKAGE&lt;/h4>
&lt;p>è¿™æ˜¯å®šä¹‰ Config ç±»çš„ Scala åŒ…ã€‚è¯¥æ–‡ä»¶å¿…é¡»åŒ…å« Config çš„ç±»å®šä¹‰ï¼Œè¿™æ„å‘³ç€å¯¹è±¡ Config å¿…é¡»å­˜åœ¨ã€‚&lt;/p>
&lt;h4 id="generator_package">GENERATOR_PACKAGE&lt;/h4>
&lt;p>è¿™æ˜¯å®šä¹‰ Generator ç±»çš„ Scala åŒ…ã€‚è¯¥æ–‡ä»¶å¿…é¡»åŒ…å« Generator çš„ç±»å®šä¹‰ï¼Œè¿™æ„å‘³ç€ Generator å¯¹è±¡å¿…é¡»å­˜åœ¨ã€‚&lt;/p>
&lt;h4 id="tb">TB&lt;/h4>
&lt;p>è¿™å®šä¹‰äº†æµ‹è¯•å°åŒ…è£…å™¨ï¼Œè¯¥åŒ…è£…å™¨å»¶ä¼¸åˆ°æµ‹è¯•å·¥å…·ä¸Šï¼Œä»¥å…è®¸åœ¨ Verilog æ¨¡æ‹Ÿå™¨ä¸­è¿›è¡Œæ¨¡æ‹Ÿã€‚é»˜è®¤æ˜¯TestDriver&lt;/p>
&lt;p>è·¯å¾„ä½äºgenerators/rocket-chip/src/main/resources/vsrc/TestDriver.v&lt;/p>
&lt;p>é‡Œé¢åŒ…å«ç€è¿™ä¸ª&lt;/p>
&lt;pre tabindex="0">&lt;code> `MODEL testHarness(
.clock(clock),
.reset(reset),
.io_success(success)
&lt;/code>&lt;/pre>&lt;h4 id="top">TOP&lt;/h4>
&lt;p>è¿™æ˜¯è¯¥é¡¹ç›®çš„é¡¶å±‚æ¨¡å—ã€‚é€šå¸¸ï¼Œè¿™æ˜¯ç”±æµ‹è¯•å·¥å…·å®ä¾‹åŒ–çš„æ¨¡å—ã€‚&lt;/p>
&lt;h2 id="é™„å½•">é™„å½•&lt;/h2>
&lt;h3 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®&lt;/h3>
&lt;p>&lt;a class="link" href="https://alukens.com/project/spring-2021-independent-research-results/research_final_paper.pdf" target="_blank" rel="noopener"
>An Introduction to Declarative CPU Design and FPGA Development using the Chipyard SoC Design Framework&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://chipyard.readthedocs.io/en/1.10.0/" target="_blank" rel="noopener"
>chipyardæ‰‹å†Œ&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.cnblogs.com/hwzhao/p/17363380.html" target="_blank" rel="noopener"
>https://www.cnblogs.com/hwzhao/p/17363380.html&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://github.com/ucb-bar/chipyard/blob/main/docs/Advanced-Concepts/Top-Testharness.rst" target="_blank" rel="noopener"
>Tops,Test-Harnesses,and the Test-Driver&lt;/a>&lt;/p>
&lt;h3 id="ç‰ˆæƒä¿¡æ¯">ç‰ˆæƒä¿¡æ¯&lt;/h3>
&lt;p>æœ¬æ–‡åŸè½½äº &lt;a class="link" href="https://vastcircle.github.io" target="_blank" rel="noopener"
>vastcircle.github.io&lt;/a>ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚&lt;/p></description></item><item><title>åšå®¢æ­å»º</title><link>https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</link><pubDate>Sun, 06 Oct 2024 21:57:38 +0800</pubDate><guid>https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/</guid><description>&lt;h2 id="å®‰è£…hugo">å®‰è£…Hugo&lt;/h2>
&lt;p>ubuntu ç³»ç»Ÿä½¿ç”¨&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>sudo apt install hugo
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>hugo version
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="åˆ›å»º-hugo-ç½‘ç«™">åˆ›å»º Hugo ç½‘ç«™&lt;/h2>
&lt;p>é€šè¿‡ä¸Šè¿°å‘½ä»¤å®‰è£… hugo ç¨‹åºåï¼Œå°±å¯ä»¥é€šè¿‡ &lt;code>hugo new site&lt;/code> å‘½ä»¤è¿›è¡Œç½‘ç«™åˆ›å»ºã€é…ç½®ä¸æœ¬åœ°è°ƒè¯•äº†ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>hugo new site robin-site
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="é…ç½®ä¸»é¢˜">é…ç½®ä¸»é¢˜&lt;/h2>
&lt;p>å½“é€šè¿‡ä¸Šæ–‡å‘½ä»¤åˆ›å»ºæˆ‘ä»¬çš„ç«™ç‚¹åï¼Œéœ€è¦è¿›è¡Œä¸»é¢˜é…ç½®ï¼ŒHugo ç¤¾åŒºæœ‰äº†å¾ˆä¸°å¯Œçš„ä¸»é¢˜ï¼Œå¯ä»¥é€šè¿‡å®˜ç½‘ &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>Themes&lt;/a> èœå•é€‰æ‹©è‡ªå·±å–œæ¬¢çš„é£æ ¼ï¼ŒæŸ¥çœ‹é¢„è§ˆæ•ˆæœï¼Œé€‰æ‹©åå¯ä»¥è¿›å…¥ä¸»é¢˜é¡¹ç›®ä»“åº“ï¼Œä¸€èˆ¬éƒ½ä¼šæœ‰å¾ˆè¯¦ç»†çš„å®‰è£…åŠé…ç½®è¯´æ˜ã€‚&lt;/p>
&lt;p>å®˜æ–¹ä¸»é¢˜ç½‘ç«™: &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>https://themes.gohugo.io/&lt;/a>&lt;/p>
&lt;p>ä¸»é¢˜æ¨è:&lt;/p>
&lt;ul>
&lt;li>Pure: &lt;a class="link" href="https://themes.gohugo.io/hugo-theme-pure/" target="_blank" rel="noopener"
>https://themes.gohugo.io/hugo-theme-pure/&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="å…³è”ä¸»é¢˜ä»“åº“">å…³è”ä¸»é¢˜ä»“åº“&lt;/h3>
&lt;p>&lt;a class="link" href="https://github.com/reuixiy/hugo-theme-meme/blob/main/README.zh-cn.md" target="_blank" rel="noopener"
>https://github.com/reuixiy/hugo-theme-meme/blob/main/README.zh-cn.md&lt;/a>&lt;/p>
&lt;p>æˆ‘ä»¬å¯ä»¥å°†ä¸»é¢˜ä»“åº“ç›´æ¥ &lt;code>git clone&lt;/code> ä¸‹æ¥è¿›è¡Œä½¿ç”¨ï¼Œä¾‹å¦‚åœ¨æ ¹ç›®å½•robin-siteä¸‹è¿è¡Œä»¥ä¸‹ä»£ç ï¼Œå³å¯ä¸‹è½½pureä¸»é¢˜.&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>git clone https://github.com/xiaoheiAh/hugo-theme-pure themes/pure
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ç§æ–¹å¼æœ‰ä¸€äº›å¼Šç«¯ï¼Œå½“ä¹‹åè‡ªå·±å¯¹ä¸»é¢˜è¿›è¡Œä¿®æ”¹åï¼Œå¯èƒ½ä¼šä¸åŸä¸»é¢˜äº§ç”Ÿä¸€äº›å†²çªï¼Œä¸æ–¹ä¾¿ç‰ˆæœ¬ç®¡ç†ä¸åç»­æ›´æ–°ã€‚å®˜æ–¹æ›´æ¨èä½¿ç”¨çš„æ˜¯å°†åŸä¸»é¢˜ä»“åº“ &lt;code>fork&lt;/code> åˆ°è‡ªå·±çš„è´¦æˆ·ï¼Œå¹¶ä½¿ç”¨ &lt;code>git submodule&lt;/code> æ–¹å¼è¿›è¡Œä»“åº“é“¾æ¥ï¼Œè¿™æ ·åç»­å¯ä»¥å¯¹ä¸»é¢˜çš„ä¿®æ”¹è¿›è¡Œå•ç‹¬ç»´æŠ¤ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> robin-site/
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git init
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git submodule add https://github.com/pseudoyu/pure themes/pure
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç„¶ååœ¨æ ¹ç›®å½•ä¸‹çš„ &lt;code>config.toml&lt;/code>æ–‡ä»¶ä¸­æ·»åŠ æ–°çš„ä¸€è¡Œ:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-sh" data-lang="sh">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e06c75">theme&lt;/span> &lt;span style="color:#56b6c2">=&lt;/span> &lt;span style="color:#98c379">&amp;#34;pure&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ›´æ–°ä¸»é¢˜">æ›´æ–°ä¸»é¢˜&lt;/h3>
&lt;p>å¦‚æœæ˜¯ clone äº†å…¶ä»–äººçš„åšå®¢é¡¹ç›®è¿›è¡Œä¿®æ”¹ï¼Œåˆ™éœ€è¦ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡Œåˆå§‹åŒ–ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git submodule update --init --recursive
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å¦‚æœéœ€è¦åŒæ­¥ä¸»é¢˜ä»“åº“çš„æœ€æ–°ä¿®æ”¹ï¼Œéœ€è¦è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>git submodule update --remote
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="hugo-theme-memeä¸»é¢˜é…ç½®">hugo-theme-memeä¸»é¢˜é…ç½®&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## å®‰è£…meme&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git submodule add --depth &lt;span style="color:#d19a66">1&lt;/span> https://github.com/reuixiy/hugo-theme-meme.git themes/meme
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ›¿æ¢é…ç½®&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm config.toml &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> cp themes/meme/config-examples/zh-cn/config.toml config.toml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="zozo-ä¸»é¢˜é…ç½®">zozo ä¸»é¢˜é…ç½®&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git submodule add https://github.com/varkai/hugo-theme-zozo themes/zozo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>rm config.toml &lt;span style="color:#56b6c2">&amp;amp;&amp;amp;&lt;/span> cp themes/zozo/config.toml config.toml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://gojun.me/posts/hello-hugo-blog/" target="_blank" rel="noopener"
>https://gojun.me/posts/hello-hugo-blog/&lt;/a>&lt;/p>
&lt;h3 id="hugo-theme-stackä¸»é¢˜é…ç½®">Hugo-theme-stackä¸»é¢˜é…ç½®&lt;/h3>
&lt;p>&lt;a class="link" href="https://stack.jimmycai.com/guide/getting-started" target="_blank" rel="noopener"
>https://stack.jimmycai.com/guide/getting-started&lt;/a>&lt;/p>
&lt;h2 id="æ–°å»ºåšæ–‡">æ–°å»ºåšæ–‡&lt;/h2>
&lt;p>å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ &lt;code>hugo new&lt;/code> å‘½ä»¤å‘å¸ƒæ–°æ–‡ç« ã€‚&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-bash" data-lang="bash">&lt;span style="display:flex;">&lt;span>hugo new posts/test.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>title: &lt;span style="color:#98c379">&amp;#34;Test&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>date: 2022-10-21T19:00:43+08:00
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>draft: &lt;span style="color:#e5c07b">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è¿™ä¸ªå‘½ä»¤ä¼šåœ¨ &lt;code>content&lt;/code> ç›®å½•ä¸‹å»ºç«‹ &lt;code>post&lt;/code> ç›®å½•ï¼Œå¹¶åœ¨ &lt;code>post&lt;/code> ä¸‹ç”Ÿæˆ &lt;code>test.md&lt;/code> æ–‡ä»¶ï¼Œåšæ–‡ä¹¦å†™å°±åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œä½¿ç”¨ Markdown è¯­æ³•å®Œæˆã€‚åšæ–‡çš„ front matter é‡Œ&lt;code>draft&lt;/code> é€‰é¡¹é»˜è®¤ä¸º &lt;code>true&lt;/code>ï¼Œéœ€è¦æ”¹ä¸º &lt;code>false&lt;/code> æ‰èƒ½å‘è¡¨åšæ–‡ï¼Œå»ºè®®ç›´æ¥æ›´æ”¹ä¸Šé¢è¯´çš„&lt;code>archetypes&lt;/code> ç›®å½•ä¸‹çš„ &lt;code>default&lt;/code> æ–‡ä»¶ï¼ŒæŠŠ &lt;code>draft: true&lt;/code> æ”¹ä¸º &lt;code>draft: false&lt;/code>ï¼Œè¿™æ ·ç”Ÿæˆçš„åšæ–‡å°±æ˜¯é»˜è®¤å¯ä»¥å‘è¡¨çš„ã€‚&lt;/p>
&lt;h2 id="ç”Ÿæˆç½‘é¡µ">ç”Ÿæˆç½‘é¡µ&lt;/h2>
&lt;p>ä¸ºäº†æŸ¥çœ‹ç”Ÿæˆçš„åšå®¢çš„æ•ˆæœï¼Œæˆ‘ä»¬åœ¨æœ¬åœ°ç¼–è¾‘è°ƒè¯•æ—¶å¯ä»¥é€šè¿‡ &lt;code>hugo server&lt;/code> å‘½ä»¤è¿›è¡Œæœ¬åœ°å®æ—¶è°ƒè¯•é¢„è§ˆï¼Œæ— é¡»æ¯æ¬¡éƒ½é‡æ–°ç”Ÿæˆã€‚åœ¨cmdä¸­è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼Œå³æˆ‘ä»¬å¯ä»¥é€šè¿‡æµè§ˆå™¨ http://localhost:1313/ åœ°å€è®¿é—®æˆ‘ä»¬çš„æœ¬åœ°é¢„è§ˆç½‘é¡µã€‚&lt;/p>
&lt;pre tabindex="0">&lt;code class="language-fallback" data-lang="fallback">hugo server -D
&lt;/code>&lt;/pre>&lt;p>ä½†æ­¤æ—¶åªèƒ½åœ¨æœ¬åœ°è®¿é—®ï¼Œå¦‚æœæƒ³å‘å¸ƒåˆ° &lt;code>Github Pages&lt;/code> ï¼Œ è¿˜éœ€è¦å€ŸåŠ© GithubPages å·¥å…·ã€‚&lt;/p>
&lt;h2 id="é…ç½®æ–‡ä»¶">&lt;strong>é…ç½®æ–‡ä»¶&lt;/strong>&lt;/h2>
&lt;p>æ‰“å¼€é…ç½®config.tomlå¯ä»¥çœ‹åˆ°å¾ˆå¤šçš„å‚æ•°å¯ä»¥é…ç½®ï¼Œè¿™é‡Œåªæè¿°æœ€åŸºæœ¬çš„å†…å®¹ï¼Œä¸åŒçš„ä¸»é¢˜å¯èƒ½ä¼šæ”¯æŒä¸åŒçš„å‚æ•°é…ç½®ï¼Œå…·ä½“è¯·çœ‹å¯¹åº”ä¸»é¢˜çš„è¯´æ˜æ–‡æ¡£ã€‚baseURLæ˜¯ç«™ç‚¹çš„åŸŸåã€‚titleæ˜¯ç«™ç‚¹çš„åç§°ã€‚themeæ˜¯ç«™ç‚¹çš„ä¸»é¢˜ã€‚è¿˜æœ‰å…³äºè¯„è®ºå’Œæ‰“èµçš„ç›¸å…³é…ç½®ï¼Œè¿™äº›é…ç½®éƒ½å¯ä»¥å‚è€ƒå®˜ç½‘ä¸»é¢˜çš„è¯´æ˜ã€‚&lt;/p>
&lt;p>æ¯æ¬¡å‘å¸ƒçš„æ—¶å€™ï¼Œéƒ½éœ€è¦å…ˆæ‰§è¡Œhugoï¼ŒæŠŠæ–°å†™çš„æ–‡æ¡£æŒ‰ç…§ä¸»é¢˜è¿›è¡Œæ¸²æŸ“ï¼Œæ‰€æœ‰ç”Ÿæˆçš„æ–‡ä»¶é»˜è®¤éƒ½åœ¨å½“å‰pulicçš„å­ç›®å½•ä¸‹ï¼Œå¯ä»¥åœ¨configé‡Œé¢é…ç½®åˆ°å…¶ä»–ç›®å½•ã€‚ç„¶åæŠŠæ‰€æœ‰æ–°çš„æ–‡ä»¶æäº¤åˆ°githubã€‚æäº¤ä»£ç ä¹‹åï¼Œè¦ç­‰ä¸€æ®µæ—¶é—´æ‰ç”Ÿæ•ˆã€‚&lt;/p>
&lt;h2 id="github-actions-éƒ¨ç½²">github actions éƒ¨ç½²&lt;/h2>
&lt;h3 id="ä¸¤ä¸ªä»“åº“">ä¸¤ä¸ªä»“åº“&lt;/h3>
&lt;p>å¦‚æœæƒ³ä½¿ç”¨ Github Actions è‡ªåŠ¨éƒ¨ç½² hugo åšå®¢ï¼Œåˆ™æœ€èµ·ç éœ€è¦åˆ›å»ºä¸¤ä¸ª Github çš„ä»“åº“ã€‚&lt;/p>
&lt;blockquote>
&lt;ol>
&lt;li>ç¬¬ä¸€ä¸ªï¼Œä¾¿æ˜¯å­˜å‚¨åšå®¢ .md æºæ–‡ä»¶çš„åœ°æ–¹ï¼Œå…¶å®å°±æ˜¯ hugo ç³»ç»Ÿï¼›&lt;/li>
&lt;li>ç¬¬äºŒä¸ªï¼Œåˆ™æ˜¯éƒ¨ç½² Github Pages çš„ä»“åº“ï¼Œä»“åº“åå¿…é¡»æ˜¯ &lt;code>&amp;lt;username&amp;gt;.github.io&lt;/code>ï¼Œè¿™æ˜¯ github å®˜æ–¹è¦æ±‚çš„ã€‚&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;h2 id="æœ€ç»ˆç‰ˆ">æœ€ç»ˆç‰ˆ&lt;/h2>
&lt;h3 id="ä¸»é¢˜">ä¸»é¢˜&lt;/h3>
&lt;p>ä½¿ç”¨çš„æ˜¯å¤§ä½¬ç¾åŒ–åçš„ç‰ˆæœ¬ &lt;a class="link" href="https://github.com/Mantyke/Hugo-stack-theme-mod" target="_blank" rel="noopener"
>Mantyke/Hugo-stack-theme-mod&lt;/a>ã€‚&lt;/p>
&lt;p>å› ä¸ºè¿˜æ˜¯æƒ³ç”¨githubå·¥ä½œæµï¼Œä¸ä½¿ç”¨vercel,æ‰€ä»¥æ¥ä¸‹æ¥ç»“åˆå‰é¢çš„å¤šç¯‡æ–‡ç« æ“ä½œ,ç¬¬ä¸€æ­¥æ˜¯clone fork ä¹‹åçš„ä»“åº“ï¼Œç„¶åä¿®æ”¹remoteä¸ºä¸€ä¸ªåˆ›å»ºå¥½çš„ç§äººä»“åº“&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>git clone git@github.com:VastCircle/Hugo-stack.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git remote set-url origin git@github.com:VastCircle/hugostack.git
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¹‹åé€šè¿‡ä¸€ç³»åˆ—çš„gitæ“ä½œå°†ç½‘é¡µéƒ¨ç½²åˆ°gh-pagesåˆ†æ”¯ä¸Š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>rm -rf public
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#98c379">&amp;#39;hugo project init&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push -u origin master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## create a new orphand branch (no commit history) named gh-pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git checkout --orphan gh-pages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Unstage all files&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git rm -rf --cached &lt;span style="color:#c678dd">$(&lt;/span>git ls-files&lt;span style="color:#c678dd">)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Add and commit that file&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#98c379">&amp;#34;INIT: initial commit on gh-pages branch&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Push to remote gh-pages branch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push origin gh-pages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Return to master branch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git checkout master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Add the gh-pages branch of the repository. It will look like a folder named public&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git subtree add --prefix&lt;span style="color:#56b6c2">=&lt;/span>public git@github.com:VastCircle/hugostack.git gh-pages --squash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Pull down the file we just committed. This helps avoid merge conflicts&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git subtree pull --prefix&lt;span style="color:#56b6c2">=&lt;/span>public git@github.com:VastCircle/hugostack.git gh-pages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## Push the public subtree to the gh-pages branch&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git subtree push --prefix&lt;span style="color:#56b6c2">=&lt;/span>public git@github.com:VastCircle/hugostack.git gh-pages
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>è²Œä¼¼å¤±è´¥äº†&lt;/p>
&lt;h3 id="å†æ¥ä¸€æ¬¡">å†æ¥ä¸€æ¬¡&lt;/h3>
&lt;p>è¿™æ¬¡æŠŠpublicä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ä»“åº“ï¼Œé€šè¿‡.gitignoreå»å±è”½public ,ä½¿å¾— ä¸»ä»“åº“ä¸åŒ…æ‹¬ public ,&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>rm -rf public
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## ä¸»ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#98c379">&amp;#39;hugo project init&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push -u origin master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">## æ¨é€ä»“åº“&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> public
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git remote add origin https://github.com/VastCircle/VastCircle.github.io.git
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git add .
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#98c379">&amp;#34;INIT: initial commit on public&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push -u origin master
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>shell è„šæœ¬&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">#deploy.sh&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e">#!/bin/bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">echo&lt;/span> -e &lt;span style="color:#98c379">&amp;#34;\033[0;32mDeploying updates to GitHub...\033[0m&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Build the project.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo &lt;span style="color:#7f848e"># if using a theme, replace by `hugo -t &amp;lt;yourtheme&amp;gt;`&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Go To Public folder&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> public
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Add changes to git.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git add -A
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Commit changes.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e06c75">msg&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>&lt;span style="color:#98c379">&amp;#34;rebuilding site `date`&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">if&lt;/span> &lt;span style="color:#56b6c2">[&lt;/span> &lt;span style="color:#e06c75">$#&lt;/span> -eq &lt;span style="color:#d19a66">1&lt;/span> &lt;span style="color:#56b6c2">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#c678dd">then&lt;/span> &lt;span style="color:#e06c75">msg&lt;/span>&lt;span style="color:#56b6c2">=&lt;/span>&lt;span style="color:#98c379">&amp;#34;&lt;/span>&lt;span style="color:#e06c75">$1&lt;/span>&lt;span style="color:#98c379">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">fi&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git commit -m &lt;span style="color:#98c379">&amp;#34;&lt;/span>&lt;span style="color:#e06c75">$msg&lt;/span>&lt;span style="color:#98c379">&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Push source and build repos.&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>git push origin master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Come Back&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#e5c07b">cd&lt;/span> ..
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="æ·»åŠ -github-action">æ·»åŠ  github action&lt;/h3>
&lt;p>.github/workflows/deploy-site.yaml&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-shell" data-lang="shell">&lt;span style="display:flex;">&lt;span>name: deploy
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>on:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> push:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> branches: &lt;span style="color:#56b6c2">[&lt;/span>&lt;span style="color:#98c379">&amp;#34;master&amp;#34;&lt;/span>&lt;span style="color:#56b6c2">]&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> workflow_dispatch:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e"># schedule:&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e"># # Runs everyday at 8:00 AM&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e"># - cron: &amp;#34;0 0 * * *&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Sets permissions of the GITHUB_TOKEN to allow deployment to GitHub Pages&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>permissions:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> contents: &lt;span style="color:#e5c07b">read&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> pages: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> id-token: write
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Allow one concurrent deployment&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>concurrency:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> group: &lt;span style="color:#98c379">&amp;#34;pages&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> cancel-in-progress: &lt;span style="color:#e5c07b">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#7f848e"># Default to bash&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>defaults:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> run:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> shell: bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>jobs:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e"># BUild job&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> build:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> runs-on: ubuntu-latest
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> env:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> HUGO_VERSION: 0.134.0
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> TZ: America/Los_Angeles
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> steps:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: Checkout
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> uses: actions/checkout@v3
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> submodules: &lt;span style="color:#e5c07b">true&lt;/span> &lt;span style="color:#7f848e"># Fetch Hugo themes (true OR recursive)&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> fetch-depth: &lt;span style="color:#d19a66">0&lt;/span> &lt;span style="color:#7f848e"># Fetch all history for .GitInfo and .Lastmod&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: Setup Hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> id: pages
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> uses: peaceiris/actions-hugo@v2
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> hugo-version: &lt;span style="color:#98c379">&amp;#39;0.134.0&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> extended: &lt;span style="color:#e5c07b">true&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: Build Hugo
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> env:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> &lt;span style="color:#7f848e"># For maximum backward compatibility with Hugo modules&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> HUGO_ENVIRONMENT: production
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> HUGO_ENV: production
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> run: hugo --minify
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> - name: Deploy Web
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> id: deployment
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> uses: peaceiris/actions-gh-pages@v3
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> with:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> PERSONAL_TOKEN: &lt;span style="color:#98c379">${&lt;/span>{ secrets.PERSONAL_TOKEN &lt;span style="color:#98c379">}&lt;/span>&lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> EXTERNAL_REPOSITORY: VastCircle/VastCircle.github.io
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> PUBLISH_BRANCH: master
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> PUBLISH_DIR: ./public
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> commit_message: &lt;span style="color:#98c379">${&lt;/span>{ github.event.head_commit.message &lt;span style="color:#98c379">}&lt;/span>&lt;span style="color:#56b6c2">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="å¦‚ä½•ç¼–å†™åšå®¢">å¦‚ä½•ç¼–å†™åšå®¢&lt;/h2>
&lt;p>æ­£å¦‚åŒå…¶ä»–çš„åšå®¢ï¼Œä½¿ç”¨ &lt;strong>Markdown è¯­è¨€&lt;/strong>æ¥ç¼–å†™åšå®¢ã€‚Markdown æµè¡Œä¸”ææ˜“ä¸Šæ‰‹ï¼Œå› æ­¤è¿™é‡Œå°±ä¸å¤šä»‹ç»è¯­æ³•ï¼Œå¦‚æœä¸ä¼šçš„å¯ä»¥è‡ªå·±æœç´¢äº†è§£ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-hugo-åˆ›å»ºæ–‡ç« ">ä½¿ç”¨ Hugo åˆ›å»ºæ–‡ç« &lt;/h3>
&lt;p>åœ¨åšå®¢æ ¹ç›®å½•ä¸‹è¿è¡Œï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-batch" data-lang="batch">&lt;span style="display:flex;">&lt;span>hugo new post/untitled.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸ºä»€ä¹ˆè¦ç”¨ hugo æ¥æ–°å»ºè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ª &lt;code>.md&lt;/code> æ–‡ä»¶å‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºä½¿ç”¨ hugo åˆ›å»ºä¼šè‡ªåŠ¨ä½¿ç”¨å·²å¡«å…¥ &lt;code>Front Matter&lt;/code>çš„æ¨¡æ¿ã€‚&lt;/p>
&lt;p>&lt;code>Front Matter&lt;/code> ç”¨äºæ ‡è¯†æ–‡ç« çš„æ ‡é¢˜ã€æ—¶é—´ç­‰ä¿¡æ¯ï¼Œhugo å°±æ˜¯æ®æ­¤æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚å…³äºå±æ€§çš„å«ä¹‰å’Œç”¨æ³•å¯ä»¥å‚è€ƒ &lt;a class="link" href="https://www.gohugo.org/doc/content/front-matter/" target="_blank" rel="noopener"
>Hugo ä¸­æ–‡æ–‡æ¡£&lt;/a>ã€‚&lt;/p>
&lt;p>æ¨¡æ¿å¯ä»¥åœ¨ &lt;code>\archetypes\default.md&lt;/code> ä¸‹æ‰¾åˆ°ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>title: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34; # æ ‡é¢˜ï¼Œåˆ›å»ºæ—¶è‡ªåŠ¨å¡«å……
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>description: # æ–‡ç« ç®€ä»‹
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>date: {{ .Date }} # æ—¥æœŸï¼Œåˆ›å»ºæ—¶è‡ªåŠ¨å¡«å……ï¼Œæ ¼å¼åŒ 2023-01-15T12:00:00+08:00
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>image: # æ–‡ç« çš„å°é¢ï¼Œç•™ç©ºå°±æ˜¯æ²¡æœ‰ï¼Œå¡«æ–‡ç« æ‰€åœ¨ä½ç½®çš„ç›¸å¯¹åœ°å€ï¼Œé€šå¸¸æ”¾åœ¨åŒç›®å½•ä¸‹ï¼Œ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>math: # æ˜¯å¦å¯ç”¨ KaTexï¼Œå¡« true å¯ç”¨
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>license: # æ–‡ç« å°¾éƒ¨æ˜¾ç¤ºçš„åè®®ï¼Œfalse ä¸ºéšè—ï¼Œå…¶ä»–ä½œä¸ºå†…å®¹ï¼Œç•™ç©ºå°±æ˜¯ä½¿ç”¨ config.yaml é‡Œé»˜è®¤çš„
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hidden: false # æ˜¯å¦éšè—ï¼Œä¸€èˆ¬ç”¨ä¸åˆ°
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>comments: true # å› ä¸º bug æ‰€ä»¥è¿™ä¸ªå±æ€§åªè¦å­˜åœ¨ï¼Œä¸ç®¡æ˜¯ true è¿˜æ˜¯ false éƒ½ä¼šå¯¼è‡´å›å¤æ— æ³•æ˜¾ç¤ºï¼Œéœ€è¦åˆ æ‰
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>draft: true # æ˜¯å¦ä¸ºè‰ç¨¿ï¼Œå»ºè®®æ”¹ä¸º false æˆ–è€…åˆ æ‰è¿™ä¸ªå±æ€§ä»¥é˜²æ­¢å¿˜è®°ä¿®æ”¹ï¼Œæ¯•ç«Ÿæˆ‘ä»¬ä¸€èˆ¬éƒ½æ˜¯å†™å¥½äº†æ‰éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘å‚è€ƒç½‘ç»œä»¥åŠ stack-mod çš„åŠŸèƒ½å¯¹æ¨¡æ¿è¿›è¡Œäº†ä¸€äº›æ”¹é€ ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>title: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>slug: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>description:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>date: &amp;#34;{{ .Date }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>lastmod: &amp;#34;{{ .Date }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>image: cover.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>math:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>license:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hidden: false
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>draft: false
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>categories: [&amp;#34;&amp;#34;]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>tags: [&amp;#34;&amp;#34;]
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>## é™„å½•
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>### å‚è€ƒæ–‡çŒ®
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>### ç‰ˆæƒä¿¡æ¯
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>æœ¬æ–‡åŸè½½äº [&lt;span style="color:#e06c75">reincarnatey.net&lt;/span>](&lt;span style="color:#e06c75">https://blog.reincarnatey.net&lt;/span>)ï¼Œéµå¾ª CC BY-NC-SA 4.0 åè®®ï¼Œå¤åˆ¶è¯·ä¿ç•™åŸæ–‡å‡ºå¤„ã€‚
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>å› æ­¤æˆ‘ä»¬å¯ä»¥ç¼–å†™ä¸€ä¸ªæ‰¹å¤„ç†ç¨‹åºæ¥å¿«é€Ÿå¸®æˆ‘ä»¬ç”Ÿæˆæ–‡ç« ï¼š&lt;/p>
&lt;p>&lt;code>create_post.sh&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-batch" data-lang="batch">&lt;span style="display:flex;">&lt;span>#!/bin/bash
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span># è¾“å‡ºæç¤ºä¿¡æ¯
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">echo&lt;/span> &lt;span style="color:#98c379">&amp;#34;ã€åˆ›å»ºæ–‡ç« ã€‘&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span># è¯»å–ç”¨æˆ·è¾“å…¥çš„ Slug
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>read -p &lt;span style="color:#98c379">&amp;#34;è¯·è¾“å…¥Slug: &amp;#34;&lt;/span> input
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span># è·å–å½“å‰æ—¥æœŸ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>current_date=$(date +&lt;span style="color:#e06c75">%Y%&lt;/span>m%d)
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span># ä½¿ç”¨ Hugo åˆ›å»ºæ–°æ–‡ç« 
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo new post/$current_date-$input/index.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span># æš‚åœï¼Œæç¤ºç”¨æˆ·æ“ä½œå®Œæˆ
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>read -p &lt;span style="color:#98c379">&amp;#34;æŒ‰ä»»æ„é”®ç»§ç»­...&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”¨æ­¤æ‰¹å¤„ç†ç¨‹åºç”Ÿæˆçš„æ–‡ç« ä¼šåˆ›å»ºåœ¨ &lt;code>\content\post\2023\0115-test\index.md&lt;/code>ï¼Œä¾¿äºæˆ‘ä»¬æ•´ç†æ–‡ç« èµ„æ–™ï¼ŒåŒæ—¶åç»­åœ¨åŒç›®å½•ä¸‹å­˜æ”¾æ–‡ç« çš„å°é¢ä¹Ÿä¸ä¼šå¯¼è‡´å†…å®¹å¾ˆä¹±ã€‚&lt;/p>
&lt;h3 id="ä½¿ç”¨-hugo-åˆ›å»ºç±»åˆ«æ ‡ç­¾">ä½¿ç”¨ Hugo åˆ›å»ºç±»åˆ«ã€æ ‡ç­¾&lt;/h3>
&lt;p>åˆ›å»º Categories å’Œ Tag ä¹ŸåŒç†ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-batch" data-lang="batch">&lt;span style="display:flex;">&lt;span>hugo new categories/testcat.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo new tags/testtag.md
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>hugo ä¼šè‡ªåŠ¨åº”ç”¨ &lt;code>\archetypes\categories.md&lt;/code> å’Œ &lt;code>\archetypes\tags.md&lt;/code> çš„æ¨¡æ¿ï¼Œä½†æ˜¯è¿™ä¸¤ä¸ªæ¨¡æ¿éƒ½ä¸å¤ªå¥½ï¼Œå»ºè®®éƒ½æ”¹ä¸ºï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-markdown" data-lang="markdown">&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>title: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>slug: &amp;#34;{{ replace .Name &amp;#34;-&amp;#34; &amp;#34; &amp;#34; | title }}&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>description:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>image: cover.png
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>style:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> background: &amp;#34;#2a9d8f&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span> color: &amp;#34;#fff&amp;#34;
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>---
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>create_Categories.sh&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-batch" data-lang="batch">&lt;span style="display:flex;">&lt;span>@&lt;span style="color:#c678dd">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">echo&lt;/span> ã€åˆ›å»ºç±»åˆ«ã€‘
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">set&lt;/span> &lt;span style="color:#c678dd">/p&lt;/span> &lt;span style="color:#e06c75">input&lt;/span>= è¯·è¾“å…¥ç±»åˆ«å:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo new categories/&lt;span style="color:#e06c75">%input%&lt;/span>/_index.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">pause&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>ç”Ÿæˆçš„categorieså°±æ˜¯åœ¨æ”¹å˜å¦‚ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢&lt;/p>
&lt;p>&lt;figure
class="gallery-image"
style="
flex-grow: 632;
flex-basis: 1518px"
>
&lt;a href="https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/image1.png" data-size="1050x166">
&lt;img src="https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/image1.png"
width="1050"
height="166"
srcset="https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/image1_hu14227645176143580784.png 480w, https://VastCircle.github.io/2024/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/image1_hu14426535897027265073.png 1024w"
loading="lazy"
alt="image1">
&lt;/a>
&lt;figcaption>image1&lt;/figcaption>
&lt;/figure>&lt;/p>
&lt;p>&lt;code>create_tag.sh&lt;/code>ï¼š&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" style="color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">&lt;code class="language-batch" data-lang="batch">&lt;span style="display:flex;">&lt;span>@&lt;span style="color:#c678dd">echo&lt;/span> off
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">echo&lt;/span> ã€åˆ›å»ºæ ‡ç­¾ã€‘
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">set&lt;/span> &lt;span style="color:#c678dd">/p&lt;/span> &lt;span style="color:#e06c75">input&lt;/span>= è¯·è¾“å…¥æ ‡ç­¾å:
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>hugo new tags/&lt;span style="color:#e06c75">%input%&lt;/span>/_index.md
&lt;/span>&lt;/span>&lt;span style="display:flex;">&lt;span>&lt;span style="color:#c678dd">pause&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;strong>æ³¨æ„&lt;/strong>ï¼šå¦‚æœåˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹æ—¶æ–‡ç« æ–‡ä»¶åä¸æ˜¯ &lt;code>index.md&lt;/code> æˆ–è€…ç±»åˆ«ã€æ ‡ç­¾æ–‡ä»¶åä¸æ˜¯ &lt;code>_index.md&lt;/code> çš„è¯ï¼Œè®¾ç½®å°é¢å›¾ç‰‡ä¼šå‡ºç°é—®é¢˜ã€‚&lt;/p>
&lt;h2 id="å¼•ç”¨">å¼•ç”¨&lt;/h2>
&lt;p>&lt;a class="link" href="https://hk.v2ex.com/t/1009591" target="_blank" rel="noopener"
>https://hk.v2ex.com/t/1009591&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://jianzhnie.github.io/post/hugo_site/" target="_blank" rel="noopener"
>https://jianzhnie.github.io/post/hugo_site/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://hyrtee.github.io/2023/start-blog/" target="_blank" rel="noopener"
>https://hyrtee.github.io/2023/start-blog/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://smc.im/post/deploy-hugo-blog-with-github-actions/" target="_blank" rel="noopener"
>https://smc.im/post/deploy-hugo-blog-with-github-actions/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://blog.reincarnatey.net/2023/build-hugo-blog-with-stack-mod/" target="_blank" rel="noopener"
>å»ºç«™æŠ€æœ¯ | ä½¿ç”¨ Hugo + Stack ç®€å•æ­å»ºä¸€ä¸ªåšå®¢&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://kaichu.io/posts/my-first-post/" target="_blank" rel="noopener"
>https://kaichu.io/posts/my-first-post/&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://stack.jimmycai.com/" target="_blank" rel="noopener"
>stack æ‰‹å†Œ&lt;/a>&lt;/p>
&lt;p>&lt;a class="link" href="https://www.oddyti.com/post/hugo-problems/#github%E4%BB%93%E5%BA%93%E5%8F%8C%E5%88%86%E6%94%AF%E5%88%86%E5%88%AB%E5%AD%98%E6%94%BE%E6%BA%90%E4%BB%A3%E7%A0%81%E5%92%8C%E9%83%A8%E7%BD%B2%E5%90%8E%E7%9A%84%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener"
>éƒ¨ç½²hugo è¸©è¿‡çš„å‘&lt;/a>_&lt;/p>
&lt;p>&lt;a class="link" href="https://xrg.fj.cn/p/hugo-stack%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0%E5%B0%8F%E8%AE%B0/" target="_blank" rel="noopener"
>https://xrg.fj.cn/p/hugo-stack%E4%B8%BB%E9%A2%98%E6%9B%B4%E6%96%B0%E5%B0%8F%E8%AE%B0/&lt;/a>&lt;/p></description></item></channel></rss>