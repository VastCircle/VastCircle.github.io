<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content='introduction (i) 一种适用于顺序执行核心的高性能、低开销的硬件预取技术，称为标量前推执行（𝑆𝑅𝐸）。𝑆𝑅𝐸在寄存器传输级有效预取复杂的内存访问模式，并实现了硬件优化策略，以尽量减少能量和面积的开销（如图1所示）。
'><title>Scalar_runahead_execution</title>
<link rel=canonical href=https://VastCircle.github.io/2024/scalar_runahead_execution/><link rel=stylesheet href=/scss/style.min.46208cabd58e8bcef0cfb7d7ea6b561adcca3b91dd1fc6657493a44f03c5db75.css><meta property='og:title' content='Scalar_runahead_execution'><meta property='og:description' content='introduction (i) 一种适用于顺序执行核心的高性能、低开销的硬件预取技术，称为标量前推执行（𝑆𝑅𝐸）。𝑆𝑅𝐸在寄存器传输级有效预取复杂的内存访问模式，并实现了硬件优化策略，以尽量减少能量和面积的开销（如图1所示）。
'><meta property='og:url' content='https://VastCircle.github.io/2024/scalar_runahead_execution/'><meta property='og:site_name' content="VastCircle's blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='runahead'><meta property='article:published_time' content='2024-10-31T20:13:06+08:00'><meta property='article:modified_time' content='2024-10-31T20:13:06+08:00'><meta name=twitter:title content="Scalar_runahead_execution"><meta name=twitter:description content="introduction (i) 一种适用于顺序执行核心的高性能、低开销的硬件预取技术，称为标量前推执行（𝑆𝑅𝐸）。𝑆𝑅𝐸在寄存器传输级有效预取复杂的内存访问模式，并实现了硬件优化策略，以尽量减少能量和面积的开销（如图1所示）。
"><style>:root{--article-font-family:"Noto Serif SC", var(--base-font-family)}</style><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@300;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
<!--
extended
-->
on-phone--column extended"><div id=article-toolbar><a href=https://VastCircle.github.io/ class=back-home><svg class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg>
<span>Back</span></a></div><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><a href=/><img src=/img/avatar_hu9516569771622178000.png width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>🍥</span></figure><h1 class=site-name><a href=/>VastCircle's blog</a></h1><h2 class=site-description>To shine , not to be illuminated</h2><ol class=social-menu><li><a href=https://github.com/VastCircle target=_blank title=GitHub><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol></header><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg>
<span>About</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>friends</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/>论文阅读
</a><a href=/categories/runahead/>Runahead</a></header><h2 class=article-title><a href=/2024/scalar_runahead_execution/>Scalar_runahead_execution</a></h2><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Oct 31, 2024</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-words>4315字</time></div></footer></div></header><section class=article-content><h3 id=introduction>introduction</h3><p>(i) 一种适用于顺序执行核心的高性能、低开销的硬件预取技术，称为标量前推执行（𝑆𝑅𝐸）。𝑆𝑅𝐸在寄存器传输级有效预取复杂的内存访问模式，并实现了硬件优化策略，以尽量减少能量和面积的开销（如图1所示）。</p><p>(ii) 为解决前推执行和缓存替换对有效预取的掩盖问题，我们引入了一种新的工作负载分析方法。该方法通过探索独特的工作负载特性，增强了前推技术在隐藏内存延迟方面的能力，从而缩短总执行时间。</p><p>(iii) 利用自定义指令，我们提出了三种不同的模式，以解决前推技术的安全漏洞，并进一步提升性能。</p><h3 id=background>background</h3><p>A.标量核心中的长延迟内存访问</p><p>顺序执行核心在面积和功耗方面相比乱序执行核心具有显著优势，使其本质上更适合需要长时间运行的场景。然而，在访问稀疏数据结构时，乱序核心可以通过诸如ROB（重排序缓冲区）、保留站、加载缓冲区和存储缓冲区等组件缓解由末级缓存未命中引起的内存访问延迟。相比之下，顺序执行核心缺乏应对内存延迟的有效策略，甚至L1缓存未命中也会显著影响性能。在严重情况下，执行时间的大部分都花费在等待内存上，导致顺序核心的平均每指令周期（CPI）可能达到数十。因此，解决内存延迟问题对于提升顺序执行核心的性能至关重要。</p><p>B. runahead technique
然而，由于高开销，它们并不适合在顺序处理器上实现。以原始的runahead execute为例，当一条长延迟内存访问指令位于指令窗口的头部，导致指令窗口已满并阻塞流水线时，处理器会对架构寄存器文件和分支历史寄存器的状态进行检查点操作，促使处理器进入runahead mode。阻塞指令窗口的内存访问指令的目标寄存器将被标记为INV（无效），并在后续指令流中传播，以防止错误的内存请求。当内存请求返回时，处理器退出前推模式并恢复相关的架构状态。</p><h3 id=overview>overview</h3><p>目前处理器中的推测预取技术能够有效管理复杂的间接内存访问模式，但在微架构设计中带来了显著的硬件开销，使其不适用于小型核心。在周期精确的仿真器中实现这些技术会导致设计侵入性，并需开发专门的拦截电路。𝑆𝑅𝐸在寄存器传输级开发，通过一系列优化策略来减轻开销，从而确保在低成本的情况下实现高性能。<strong>在runahead execute进入条件中集成了一种间接内存访问检测机制</strong>，提升了预取的准确性和覆盖范围。</p><p><figure class=gallery-image style=flex-grow:200;flex-basis:480px><a href=/2024/scalar_runahead_execution/image-20241031202810483.png data-size=1296x648><img src=/2024/scalar_runahead_execution/image-20241031202810483.png width=1296 height=648 srcset="/2024/scalar_runahead_execution/image-20241031202810483_hu7108600535510953162.png 480w, /2024/scalar_runahead_execution/image-20241031202810483_hu7882577258176118585.png 1024w" loading=lazy></a></figure></p><p>在RCU中，为拦截正常执行模式下预取数据的回写，MSHR追踪每个<strong>缓存未命中请求的详细信息，包括回写位置、请求地址和顺序</strong>。在寄存器文件中构建了拦截电路（图2a）。在寄存器文件中还建立了一个CP提取和回写电路，并包含多端口的CP（图2b），通过与级联控制电路集成，利用多个周期提取和回写处理器的状态信息。</p><p>对于在runahead阶段的内存未命中请求以及瞬态执行(transient execution)期间识别的<strong>无效内存未命中</strong>请求，会检测随后使用缺失数据的寄存器编号，并在scoreboard上重置相应位置（图2c）。开发了一个无效检测和传播机制，用于追踪负责流水线释放的寄存器编号和内存未命中地址，从而防止错误的预取请求。此外，构建了一个紧凑的dual-way cache，用于在runahead 阶段收集存储指令的存储值，确保内存指令的正确执行（图2d）。</p><p>我们还开发了一个自定义ISA接口以增强灵活性，包括（图2e）：(i) Safe Mode，解决在前推推测执行期间因分支预测错误导致的机密数据泄漏风险；(ii) Miss Counter Table,，一个双入口表，用于自定义前推过程的终止点，以优化不同硬件和工作负载的性能；(iii) Aggressive Mode，提供禁用前推期间的FPU选项，防止在浮点运算密集型工作负载中长指令阻塞，并允许发出更多预取请求。</p><p><figure class=gallery-image style=flex-grow:124;flex-basis:297px><a href=/2024/scalar_runahead_execution/image-20241105214333838.png data-size=1021x823><img src=/2024/scalar_runahead_execution/image-20241105214333838.png width=1021 height=823 srcset="/2024/scalar_runahead_execution/image-20241105214333838_hu3909055623410473370.png 480w, /2024/scalar_runahead_execution/image-20241105214333838_hu5376785459573156400.png 1024w" loading=lazy></a></figure></p><h2 id=微架构>微架构</h2><p>选择了开源的Rocket Chip SoC作为𝑆𝑅𝐸微架构的基础。Rocket Chip包含一个低功耗的Rocket核心，支持开源的RV64GC RISC-V指令集，并使用Chisel硬件描述语言编写。它具备支持基于页面的虚拟内存的内存管理单元（MMU）、一个非阻塞数据缓存，以及带有分支预测功能的前端。</p><p>A. The Runahead Control Unit
进入 pseudo-enter 阶段的条件通过处理来自L2缓存MSHR的未命中请求信息（回写位置）来确定。对于non-blocking cache的stall-on-use机制，在<strong>解码</strong>阶段检测数据使用的时机，使处理器能够在该周期进入pseudo-enter阶段（图3a）。在pseudo-enter阶段，处理器检查是否存在<strong>间接内存访问</strong>。如果检测到这种访问，处理器将转入runahead execution phase，通常持续十个周期（图3b）。在runahead execution phase，为了便于后续释放流水线并有效管理数据回写寄存器，必须跟踪来自L1缓存MSHR的Load-Miss和Gain-Miss信息，其中包括回写寄存器编号、请求地址和读/写指针等详细信息（图3c）。同时，为防止Load-Miss和Gain-Miss阻塞流水线，通过识别未命中回写寄存器编号来释放流水线并使对应的寄存器和地址无效（图3d）。在进入伪退出阶段时，目标是拦截与Gain-miss相关的数据回写。通过基于L1缓存MSHR中的请求回写寄存器编号、地址和读/写指针，精确拦截相同或不同块的回写请求来实现。此外，同一块内的Gain-miss会触发MSHR重放机制，可能会中断前推过程。拦截电路的扩展设计通过检测并拦截重复请求来解决此问题，以防止此类中断（图3f）。</p><p>B. The Runahead Control FSM
为了实现对预取架构的精确控制，我们将有限状态机（FSM）机制与前推执行模式紧密集成，以增强处理器在处理长延迟内存访问时的效率。FSM通过在各状态间切换动态管理预取操作，确保处理器在内存延迟期间仍保持高效。FSM从伪进入状态开始，在该状态下，它处理来自L2缓存的未命中状态保持寄存器（MSHR）的未命中请求信息（回写位置）。此时，由于数据缓存的“stall on use”机制，处理器不仅不会完全停顿，还会继续执行指令。在这里，处理器检查流水线指令，识别出间接内存访问后，进入前推进入状态。此状态下处理器保存当前状态和寄存器，为后续从前推模式无缝恢复正常操作做好准备，以维护系统完整性（图3a）。完成前推进入状态的相关处理后，处理器直接进入前推执行状态。在前推执行状态下，处理器继续执行指令而不将结果提交至寄存器文件，通过在Load-Miss解决前预取数据来有效减少空闲时间。</p><p>为实现此目的，FSM从L1缓存的MSHR中跟踪Load-Miss和Gain-Miss的详细信息，包括回写寄存器编号、请求地址和读/写指针。流水线被释放，对应的寄存器和地址被无效化，以防止阻塞。一旦Load-Miss数据返回，FSM便切换至前推通过状态，该状态作为中介，决定处理器应进入伪退出状态还是直接进入正常退出状态。FSM在两种情况下会进入伪退出状态：(i) 在数据回写前达到效益点，通过比较请求地址和读/写指针；或(ii) Gain-Miss计数器在数据回写后达到指定值，表明已达到效益点。在伪退出状态，FSM通过准确检测相同和不同块的重复请求来拦截与Gain-Miss相关的回写请求。此拦截机制防止了因相同块中的Gain-Miss触发重放机制而中断前推过程。FSM随后完成操作，确保所有前推执行的指令已完成或安全丢弃。</p><p>如果前推过程中没有未解决的依赖关系，FSM将进入前推退出状态，允许处理器恢复正常处理。然而，若前推执行期间存在无法解决的依赖关系或执行异常，FSM可能会暂时切换至前推无效状态，并通过控制流水线停顿、等待Load-Miss正常返回后再退出前推模式。</p><p>C. 多周期检查点和释放电路</p><p>处理器状态的checkpoint and restore，包括 GHR（全局历史寄存器）、RAS（返回地址堆栈）和架构寄存器文件，对于确保超前运行中的正确操作至关重要。模式和普通模式。 GHR 和 RAS 处理分支历史记录和返回地址跟踪。当处理器进入超前运行模式时，这些结构在单个周期内设置检查点，保留分支预测和返回地址计算所需的信息。退出超前运行模式后，先前保存的分支历史记录和返回地址将被恢复，从而保持准确的控制流，而不会增加显着的性能开销。相比之下，存储处理器架构状态的架构寄存器文件涉及更多数据和复杂性。为了管理这一点，使用了多周期检查点和释放机制，这减少了对扩展模块接口的需求并降低了处理器之间的通信压力。尽管对架构寄存器文件进行检查点需要多个周期，但它与在超前运行模式和正常模式之间转换时清除和重新填充管道所需的五个周期过程相一致，从而避免了任何额外的性能损失。</p><p>D. 预取管理单元
我们设计了预取管理单元（PMU）以检测和拦截错误的预取请求，从而使推测执行能够有效处理内存访问指令。PMU由两个主要结构组成：无效集合单元（ISU），用于拦截错误的预取地址，以及前推缓存（RC），用于在前推过程中存储存储指令的值。</p><p><strong>ISU（无效集合单元）</strong>：Invfile用于存储无效寄存器编号和地址信息，类似于记分板。每个寄存器编号或前推缓存条目都有一个指示其有效性的位（图4 a）。Load-miss和Gain-miss的写回寄存器编号以及在前推过程中存储的无效地址，通常是Invfile的来源，相关机制检测到时，Invfile被激活。我们将来自执行阶段的RS与内存请求地址进行比较，并与Invfile中的相应位进行比对，产生三种情况（图4 b）：</p><ol><li>当源寄存器编号存在于Invfile中时，启动无效传播机制，设置相应的目标寄存器编号。</li><li>如果加载指令的地址有效或所有源寄存器有效，则触发无效重置机制，重置相应寄存器编号的无效位。</li><li>如果发现存储地址有效，则激活无效重置机制，重置相应地址位。</li></ol><p>基于这些操作的结果，无效寄存器信号转变为内存访问阻塞信号和在写回阶段对处理器的流水线释放信号。无效地址信号被转发到前推缓存模块，以确定加载块是否有效命中前推缓存。</p><p><strong>RC（前推缓存）</strong>：前推缓存被设计为紧凑的二路关联存储结构，每个条目包含标签和数据信息，每个数据条目的大小为两个字（具体为16B）（图4 c）。在前推过程中，加载地址同时访问该缓存和L1缓存。它根据内存访问地址的索引信息选择行，匹配适当的集合，然后根据偏移信息选择字节，最后根据方式命中检索匹配的数据。命中机制涉及将内存访问地址的标签信息与前推缓存的标签信息进行比较。如果匹配，则进一步验证数据的有效性。如果有效，则生成命中信号，并用作数据选择的控制信号（图4 d）。在退出前推时，前推缓存中的所有值都被置为无效，以防止访问过时的值，直到新的前推过程重置存储的地址。对于数据替换机制，我们采用伪LRU替换策略选择最不常用的方式进行替换。</p><h2 id=附录>附录</h2><h3 id=参考文献>参考文献</h3><h3 id=版权信息>版权信息</h3><p>本文原载于 <a class=link href=https://vastcircle.github.io target=_blank rel=noopener>vastcircle.github.io</a>，遵循 CC BY-NC-SA 4.0 协议，复制请保留原文出处。</p></section><footer class=article-footer><section class=article-tags><a href=/tags/runahead/>Runahead</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>Related contents</h2><div class=related-contents><div class="flex article-list--tile"><article><a href=/2024/runahead_execution_an_alternative_to_very_large_instruction_windows_for_out-of-order_processors/><div class=article-details><h2 class=article-title>Runahead_Execution_An_Alternative_to_Very_Large_Instruction_Windows_for_Out of Order_Processors</h2></div></a></article><article><a href=/2025/scalar_vector_runahead/><div class=article-details><h2 class=article-title>Scalar_vector_runahead</h2></div></a></article><article><a href=/2024/vector_runahead/><div class=article-details><h2 class=article-title>Vector_runahead</h2></div></a></article></div></div></aside><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><script>(function(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(e)}),i.parentNode.insertBefore(n,i)})("//cdn.bootcss.com/pangu/3.3.0/pangu.min.js",function(){pangu.spacingPage()})</script><section class=copyright>&copy;
2023 -
2025 <a href=https://stack-theme-mod.vercel.app/>vastcircle</a>·<i class="fas fa-bell"></i> <a id=days>0</a>Days<br>共书写了394.9k字·共 103篇文章</br><span><p></section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.2.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a><br><a href=https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh target=_blank>© Licensed Under CC BY-NC-SA 4.0</a></section><script>var days,number_of_days,s1="2024-10-06",s1=new Date(s1.replace(/-/g,"/"));s2=new Date,days=s2.getTime()-s1.getTime(),number_of_days=parseInt(days/(1e3*60*60*24)),document.getElementById("days").innerHTML=number_of_days</script></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><form action=/search/ class="search-form widget"><p><label>Search</label>
<input name=keyword required placeholder="Type something...">
<button title=Search><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg></button></p></form><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><ol><li><a href=#introduction>introduction</a></li><li><a href=#background>background</a></li><li><a href=#overview>overview</a></li></ol></li><li><a href=#微架构>微架构</a></li><li><a href=#附录>附录</a><ol><li><a href=#参考文献>参考文献</a></li><li><a href=#版权信息>版权信息</a></li></ol></li></ol></nav></div></section><section class="widget categories"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg></div><h2 class="widget-title section-title">Categories</h2><div class=widget-categories--list><div class=widget><h3 class=widget-title></h3><div class=widget-body><div class=category-list><div class=category-list-item><a href=https://VastCircle.github.io/categories/boom/ class=category-list-link>boom<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/boom%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/ class=category-list-link>boom代码阅读<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/c++/ class=category-list-link>c++<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/cache/ class=category-list-link>cache<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/chipyard/ class=category-list-link>chipyard<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/chisel/ class=category-list-link>chisel<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/cpu%E5%9F%BA%E7%A1%80/ class=category-list-link>cpu基础<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/gem5/ class=category-list-link>gem5<span class=category-list-count>5</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/gpgpu%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/ class=category-list-link>gpgpu读书笔记<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/linux/ class=category-list-link>linux<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/prefetch/ class=category-list-link>prefetch<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/riscv/ class=category-list-link>riscv<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/rocket-chip/ class=category-list-link>rocket-chip<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/runahead/ class=category-list-link>runahead<span class=category-list-count>3</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E4%BB%A3%E7%A0%81%E9%98%85%E8%AF%BB/ class=category-list-link>代码阅读<span class=category-list-count>2</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/ class=category-list-link>分支预测<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/ class=category-list-link>博客搭建<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/ class=category-list-link>基础概念<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E5%A4%84%E7%90%86%E5%99%A8/ class=category-list-link>处理器<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/ class=category-list-link>操作系统<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%8E%AF%E5%A2%83/ class=category-list-link>环境<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/ class=category-list-link>环境搭建<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE/ class=category-list-link>环境配置<span class=category-list-count>5</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E7%BC%93%E5%AD%98%E4%B8%80%E8%87%B4%E6%80%A7/ class=category-list-link>缓存一致性<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%AE%BA%E6%96%87%E9%98%85%E8%AF%BB/ class=category-list-link>论文阅读<span class=category-list-count>17</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%AE%BF%E5%AD%98/ class=category-list-link>访存<span class=category-list-count>1</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E8%B6%85%E6%A0%87%E9%87%8F%E5%A4%84%E7%90%86%E5%99%A8/ class=category-list-link>超标量处理器<span class=category-list-count>12</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E9%A6%99%E5%B1%B1/ class=category-list-link>香山<span class=category-list-count>8</a></span></div><div class=category-list-item><a href=https://VastCircle.github.io/categories/%E9%A6%99%E5%B1%B1%E6%BA%90%E4%BB%A3%E7%A0%81/ class=category-list-link>香山源代码<span class=category-list-count>3</a></span></div></div></div></div></div></section><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-infinity" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M9.828 9.172a4 4 0 100 5.656A10 10 0 0012 12a10 10 0 012.172-2.828 4 4 0 110 5.656A10 10 0 0112 12 10 10 0 009.828 9.172"/></svg></div><h2 class="widget-title section-title">Archives</h2><div class=widget-archive--list><div class=archives-year><a href=/archives/#2025><span class=year>2025</span>
<span class=count>55</span></a></div><div class=archives-year><a href=/archives/#2024><span class=year>2024</span>
<span class=count>47</span></a></div></div></section><section class="widget tagCloud"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-tag" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11 3l9 9a1.5 1.5.0 010 2l-6 6a1.5 1.5.0 01-2 0L3 11V7a4 4 0 014-4h4"/><circle cx="9" cy="9" r="2"/></svg></div><h2 class="widget-title section-title">Tags</h2><div class=tagCloud-tags><a href=/tags/runahead/ class=font_size_6>Runahead
</a><a href=/tags/prefetch/ class=font_size_4>Prefetch
</a><a href=/tags/vector/ class=font_size_3>Vector
</a><a href=/tags/cache/ class=font_size_2>Cache
</a><a href=/tags/chipyard/ class=font_size_2>Chipyard
</a><a href=/tags/diplomacy/ class=font_size_2>Diplomacy
</a><a href=/tags/in-order/ class=font_size_2>In-Order
</a><a href=/tags/rocket-chip/ class=font_size_2>Rocket-Chip
</a><a href=/tags/%E5%88%86%E6%94%AF%E9%A2%84%E6%B5%8B/ class=font_size_2>分支预测
</a><a href=/tags/%E5%AF%84%E5%AD%98%E5%99%A8%E9%87%8D%E5%91%BD%E5%90%8D/ class=font_size_2>寄存器重命名</a></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>